(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const a of u)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function s(u){const a={};return u.integrity&&(a.integrity=u.integrity),u.referrerPolicy&&(a.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?a.credentials="include":u.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(u){if(u.ep)return;u.ep=!0;const a=s(u);fetch(u.href,a)}})();const Xr=!1;var Er=Array.isArray,ll=Array.prototype.indexOf,kr=Array.from,il=Object.defineProperty,Nt=Object.getOwnPropertyDescriptor,ol=Object.getOwnPropertyDescriptors,al=Object.prototype,ul=Array.prototype,_n=Object.getPrototypeOf,Qr=Object.isExtensible;function ye(e){return typeof e=="function"}function fl(e){return e()}function gr(e){for(var n=0;n<e.length;n++)e[n]()}const Et=2,pn=4,lr=8,Sr=16,Ot=32,ee=64,Je=128,bt=256,Ze=512,pt=1024,Ft=2048,re=4096,Pt=8192,ir=16384,cl=32768,Pr=65536,vl=1<<17,dl=1<<19,mn=1<<20,yr=1<<21,Vt=Symbol("$state"),bn=Symbol("legacy props");function gn(e){return e===this.v}function hl(e,n){return e!=e?n==n:e!==n||e!==null&&typeof e=="object"||typeof e=="function"}function Tr(e){return!hl(e,this.v)}function _l(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function pl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ml(e){throw new Error("https://svelte.dev/e/effect_orphan")}function bl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function gl(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function yl(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function wl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Al(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ee=!1,xl=!1;function Cl(){Ee=!0}const El=1,kl=2,Sl=16,Pl=1,Tl=2,yn=4,Ol=8,Fl=16,Il=1,Dl=2,dt=Symbol();let Q=null;function tn(e){Q=e}function ke(e,n=!1,s){var i=Q={p:Q,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Ee&&!n&&(Q.l={s:null,u:null,r1:[],r2:Zt(!1)}),Fn(()=>{i.d=!0})}function Se(e){const n=Q;if(n!==null){const m=n.e;if(m!==null){var s=J,i=$;n.e=null;try{for(var u=0;u<m.length;u++){var a=m[u];Lt(a.effect),kt(a.reaction),ar(a.fn)}}finally{Lt(s),kt(i)}}Q=n.p,n.m=!0}return{}}function Pe(){return!Ee||Q!==null&&Q.l===null}function wt(e){if(typeof e!="object"||e===null||Vt in e)return e;const n=_n(e);if(n!==al&&n!==ul)return e;var s=new Map,i=Er(e),u=yt(0),a=$,m=w=>{var b=$;kt(a);var g=w();return kt(b),g};return i&&s.set("length",yt(e.length)),new Proxy(e,{defineProperty(w,b,g){(!("value"in g)||g.configurable===!1||g.enumerable===!1||g.writable===!1)&&yl();var C=s.get(b);return C===void 0?(C=m(()=>yt(g.value)),s.set(b,C)):tt(C,m(()=>wt(g.value))),!0},deleteProperty(w,b){var g=s.get(b);if(g===void 0)b in w&&s.set(b,m(()=>yt(dt)));else{if(i&&typeof b=="string"){var C=s.get("length"),E=Number(b);Number.isInteger(E)&&E<C.v&&tt(C,E)}tt(g,dt),en(u)}return!0},get(w,b,g){var S;if(b===Vt)return e;var C=s.get(b),E=b in w;if(C===void 0&&(!E||(S=Nt(w,b))!=null&&S.writable)&&(C=m(()=>yt(wt(E?w[b]:dt))),s.set(b,C)),C!==void 0){var y=V(C);return y===dt?void 0:y}return Reflect.get(w,b,g)},getOwnPropertyDescriptor(w,b){var g=Reflect.getOwnPropertyDescriptor(w,b);if(g&&"value"in g){var C=s.get(b);C&&(g.value=V(C))}else if(g===void 0){var E=s.get(b),y=E==null?void 0:E.v;if(E!==void 0&&y!==dt)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return g},has(w,b){var y;if(b===Vt)return!0;var g=s.get(b),C=g!==void 0&&g.v!==dt||Reflect.has(w,b);if(g!==void 0||J!==null&&(!C||(y=Nt(w,b))!=null&&y.writable)){g===void 0&&(g=m(()=>yt(C?wt(w[b]):dt)),s.set(b,g));var E=V(g);if(E===dt)return!1}return C},set(w,b,g,C){var F;var E=s.get(b),y=b in w;if(i&&b==="length")for(var S=g;S<E.v;S+=1){var L=s.get(S+"");L!==void 0?tt(L,dt):S in w&&(L=m(()=>yt(dt)),s.set(S+"",L))}E===void 0?(!y||(F=Nt(w,b))!=null&&F.writable)&&(E=m(()=>yt(void 0)),tt(E,m(()=>wt(g))),s.set(b,E)):(y=E.v!==dt,tt(E,m(()=>wt(g))));var N=Reflect.getOwnPropertyDescriptor(w,b);if(N!=null&&N.set&&N.set.call(C,g),!y){if(i&&typeof b=="string"){var D=s.get("length"),o=Number(b);Number.isInteger(o)&&o>=D.v&&tt(D,o+1)}en(u)}return!0},ownKeys(w){V(u);var b=Reflect.ownKeys(w).filter(E=>{var y=s.get(E);return y===void 0||y.v!==dt});for(var[g,C]of s)C.v!==dt&&!(g in w)&&b.push(g);return b},setPrototypeOf(){wl()}})}function en(e,n=1){tt(e,e.v+n)}const Ae=new Map;function Zt(e,n){var s={f:0,v:e,reactions:null,equals:gn,rv:0,wv:0};return s}function yt(e,n){const s=Zt(e);return jn(s),s}function Or(e,n=!1){var i;const s=Zt(e);return n||(s.equals=Tr),Ee&&Q!==null&&Q.l!==null&&((i=Q.l).s??(i.s=[])).push(s),s}function tt(e,n,s=!1){$!==null&&!Ct&&Pe()&&($.f&(Et|Sr))!==0&&!(ft!=null&&ft.includes(e))&&Al();let i=s?wt(n):n;return wn(e,i)}function wn(e,n){if(!e.equals(n)){var s=e.v;Te?Ae.set(e,n):Ae.set(e,s),e.v=n,e.wv=Bn(),An(e,Ft),Pe()&&J!==null&&(J.f&pt)!==0&&(J.f&(Ot|ee))===0&&(mt===null?Hl([e]):mt.push(e))}return n}function rn(e,n=1){var s=V(e),i=n===1?s++:s--;return tt(e,s),i}function An(e,n){var s=e.reactions;if(s!==null)for(var i=Pe(),u=s.length,a=0;a<u;a++){var m=s[a],w=m.f;(w&Ft)===0&&(!i&&m===J||(St(m,n),(w&(pt|bt))!==0&&((w&Et)!==0?An(m,re):cr(m))))}}let Rl=!1;var nn,xn,Cn,En;function Nl(){if(nn===void 0){nn=window,xn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,n=Node.prototype,s=Text.prototype;Cn=Nt(n,"firstChild").get,En=Nt(n,"nextSibling").get,Qr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Qr(s)&&(s.__t=void 0)}}function kn(e=""){return document.createTextNode(e)}function xe(e){return Cn.call(e)}function or(e){return En.call(e)}function K(e,n){return xe(e)}function Ll(e,n){{var s=xe(e);return s instanceof Comment&&s.data===""?or(s):s}}function z(e,n=1,s=!1){let i=e;for(;n--;)i=or(i);return i}function Ml(e){e.textContent=""}function Xt(e){var n=Et|Ft,s=$!==null&&($.f&Et)!==0?$:null;return J===null||s!==null&&(s.f&bt)!==0?n|=bt:J.f|=mn,{ctx:Q,deps:null,effects:null,equals:gn,f:n,fn:e,reactions:null,rv:0,v:null,wv:0,parent:s??J}}function Sn(e){const n=Xt(e);return jn(n),n}function Xe(e){const n=Xt(e);return n.equals=Tr,n}function Pn(e){var n=e.effects;if(n!==null){e.effects=null;for(var s=0;s<n.length;s+=1)Tt(n[s])}}function jl(e){for(var n=e.parent;n!==null;){if((n.f&Et)===0)return n;n=n.parent}return null}function ql(e){var n,s=J;Lt(jl(e));try{Pn(e),n=Vn(e)}finally{Lt(s)}return n}function Tn(e){var n=ql(e),s=(Rt||(e.f&bt)!==0)&&e.deps!==null?re:pt;St(e,s),e.equals(n)||(e.v=n,e.wv=Bn())}function On(e){J===null&&$===null&&ml(),$!==null&&($.f&bt)!==0&&J===null&&pl(),Te&&_l()}function Bl(e,n){var s=n.last;s===null?n.last=n.first=e:(s.next=e,e.prev=s,n.last=e)}function ne(e,n,s,i=!0){var u=J,a={ctx:Q,deps:null,nodes_start:null,nodes_end:null,f:e|Ft,first:null,fn:n,last:null,next:null,parent:u,prev:null,teardown:null,transitions:null,wv:0};if(s)try{Ir(a),a.f|=cl}catch(b){throw Tt(a),b}else n!==null&&cr(a);var m=s&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(mn|Je))===0;if(!m&&i&&(u!==null&&Bl(a,u),$!==null&&($.f&Et)!==0)){var w=$;(w.effects??(w.effects=[])).push(a)}return a}function Fn(e){const n=ne(lr,null,!1);return St(n,pt),n.teardown=e,n}function wr(e){On();var n=J!==null&&(J.f&Ot)!==0&&Q!==null&&!Q.m;if(n){var s=Q;(s.e??(s.e=[])).push({fn:e,effect:J,reaction:$})}else{var i=ar(e);return i}}function Ul(e){return On(),In(e)}function Vl(e){const n=ne(ee,e,!0);return(s={})=>new Promise(i=>{s.outro?Qe(n,()=>{Tt(n),i(void 0)}):(Tt(n),i(void 0))})}function ar(e){return ne(pn,e,!1)}function In(e){return ne(lr,e,!0)}function Qt(e,n=[],s=Xt){const i=n.map(s);return ur(()=>e(...i.map(V)))}function ur(e,n=0){return ne(lr|Sr|n,e,!0)}function te(e,n=!0){return ne(lr|Ot,e,!0,n)}function Dn(e){var n=e.teardown;if(n!==null){const s=Te,i=$;sn(!0),kt(null);try{n.call(null)}finally{sn(s),kt(i)}}}function Rn(e,n=!1){var s=e.first;for(e.first=e.last=null;s!==null;){var i=s.next;(s.f&ee)!==0?s.parent=null:Tt(s,n),s=i}}function Gl(e){for(var n=e.first;n!==null;){var s=n.next;(n.f&Ot)===0&&Tt(n),n=s}}function Tt(e,n=!0){var s=!1;if((n||(e.f&dl)!==0)&&e.nodes_start!==null){for(var i=e.nodes_start,u=e.nodes_end;i!==null;){var a=i===u?null:or(i);i.remove(),i=a}s=!0}Rn(e,n&&!s),sr(e,0),St(e,ir);var m=e.transitions;if(m!==null)for(const b of m)b.stop();Dn(e);var w=e.parent;w!==null&&w.first!==null&&Nn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Nn(e){var n=e.parent,s=e.prev,i=e.next;s!==null&&(s.next=i),i!==null&&(i.prev=s),n!==null&&(n.first===e&&(n.first=i),n.last===e&&(n.last=s))}function Qe(e,n){var s=[];Fr(e,s,!0),Ln(s,()=>{Tt(e),n&&n()})}function Ln(e,n){var s=e.length;if(s>0){var i=()=>--s||n();for(var u of e)u.out(i)}else n()}function Fr(e,n,s){if((e.f&Pt)===0){if(e.f^=Pt,e.transitions!==null)for(const m of e.transitions)(m.is_global||s)&&n.push(m);for(var i=e.first;i!==null;){var u=i.next,a=(i.f&Pr)!==0||(i.f&Ot)!==0;Fr(i,n,a?s:!1),i=u}}}function tr(e){Mn(e,!0)}function Mn(e,n){if((e.f&Pt)!==0){e.f^=Pt,(e.f&pt)===0&&(e.f^=pt),Oe(e)&&(St(e,Ft),cr(e));for(var s=e.first;s!==null;){var i=s.next,u=(s.f&Pr)!==0||(s.f&Ot)!==0;Mn(s,u?n:!1),s=i}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&a.in()}}let er=[];function $l(){var e=er;er=[],gr(e)}function Wl(e){er.length===0&&queueMicrotask($l),er.push(e)}let Ke=!1,Ar=!1,rr=null,Gt=!1,Te=!1;function sn(e){Te=e}let ze=[];let $=null,Ct=!1;function kt(e){$=e}let J=null;function Lt(e){J=e}let ft=null;function Yl(e){ft=e}function jn(e){$!==null&&$.f&yr&&(ft===null?Yl([e]):ft.push(e))}let ut=null,_t=0,mt=null;function Hl(e){mt=e}let qn=1,nr=0,Rt=!1;function Bn(){return++qn}function Oe(e){var E;var n=e.f;if((n&Ft)!==0)return!0;if((n&re)!==0){var s=e.deps,i=(n&bt)!==0;if(s!==null){var u,a,m=(n&Ze)!==0,w=i&&J!==null&&!Rt,b=s.length;if(m||w){var g=e,C=g.parent;for(u=0;u<b;u++)a=s[u],(m||!((E=a==null?void 0:a.reactions)!=null&&E.includes(g)))&&(a.reactions??(a.reactions=[])).push(g);m&&(g.f^=Ze),w&&C!==null&&(C.f&bt)===0&&(g.f^=bt)}for(u=0;u<b;u++)if(a=s[u],Oe(a)&&Tn(a),a.wv>e.wv)return!0}(!i||J!==null&&!Rt)&&St(e,pt)}return!1}function Kl(e,n){for(var s=n;s!==null;){if((s.f&Je)!==0)try{s.fn(e);return}catch{s.f^=Je}s=s.parent}throw Ke=!1,e}function zl(e){return(e.f&ir)===0&&(e.parent===null||(e.parent.f&Je)===0)}function fr(e,n,s,i){if(Ke){if(s===null&&(Ke=!1),zl(n))throw e;return}s!==null&&(Ke=!0);{Kl(e,n);return}}function Un(e,n,s=!0){var i=e.reactions;if(i!==null)for(var u=0;u<i.length;u++){var a=i[u];ft!=null&&ft.includes(e)||((a.f&Et)!==0?Un(a,n,!1):n===a&&(s?St(a,Ft):(a.f&pt)!==0&&St(a,re),cr(a)))}}function Vn(e){var S;var n=ut,s=_t,i=mt,u=$,a=Rt,m=ft,w=Q,b=Ct,g=e.f;ut=null,_t=0,mt=null,Rt=(g&bt)!==0&&(Ct||!Gt||$===null),$=(g&(Ot|ee))===0?e:null,ft=null,tn(e.ctx),Ct=!1,nr++,e.f|=yr;try{var C=(0,e.fn)(),E=e.deps;if(ut!==null){var y;if(sr(e,_t),E!==null&&_t>0)for(E.length=_t+ut.length,y=0;y<ut.length;y++)E[_t+y]=ut[y];else e.deps=E=ut;if(!Rt)for(y=_t;y<E.length;y++)((S=E[y]).reactions??(S.reactions=[])).push(e)}else E!==null&&_t<E.length&&(sr(e,_t),E.length=_t);if(Pe()&&mt!==null&&!Ct&&E!==null&&(e.f&(Et|re|Ft))===0)for(y=0;y<mt.length;y++)Un(mt[y],e);return u!==e&&(nr++,mt!==null&&(i===null?i=mt:i.push(...mt))),C}finally{ut=n,_t=s,mt=i,$=u,Rt=a,ft=m,tn(w),Ct=b,e.f^=yr}}function Jl(e,n){let s=n.reactions;if(s!==null){var i=ll.call(s,e);if(i!==-1){var u=s.length-1;u===0?s=n.reactions=null:(s[i]=s[u],s.pop())}}s===null&&(n.f&Et)!==0&&(ut===null||!ut.includes(n))&&(St(n,re),(n.f&(bt|Ze))===0&&(n.f^=Ze),Pn(n),sr(n,0))}function sr(e,n){var s=e.deps;if(s!==null)for(var i=n;i<s.length;i++)Jl(e,s[i])}function Ir(e){var n=e.f;if((n&ir)===0){St(e,pt);var s=J,i=Q,u=Gt;J=e,Gt=!0;try{(n&Sr)!==0?Gl(e):Rn(e),Dn(e);var a=Vn(e);e.teardown=typeof a=="function"?a:null,e.wv=qn;var m=e.deps,w;Xr&&xl&&e.f&Ft}catch(b){fr(b,e,s,i||e.ctx)}finally{Gt=u,J=s}}}function Zl(){try{bl()}catch(e){if(rr!==null)fr(e,rr,null);else throw e}}function Xl(){var e=Gt;try{var n=0;for(Gt=!0;ze.length>0;){n++>1e3&&Zl();var s=ze,i=s.length;ze=[];for(var u=0;u<i;u++){var a=ti(s[u]);Ql(a)}Ae.clear()}}finally{Ar=!1,Gt=e,rr=null}}function Ql(e){var n=e.length;if(n!==0)for(var s=0;s<n;s++){var i=e[s];if((i.f&(ir|Pt))===0)try{Oe(i)&&(Ir(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?Nn(i):i.fn=null))}catch(u){fr(u,i,null,i.ctx)}}}function cr(e){Ar||(Ar=!0,queueMicrotask(Xl));for(var n=rr=e;n.parent!==null;){n=n.parent;var s=n.f;if((s&(ee|Ot))!==0){if((s&pt)===0)return;n.f^=pt}}ze.push(n)}function ti(e){for(var n=[],s=e;s!==null;){var i=s.f,u=(i&(Ot|ee))!==0,a=u&&(i&pt)!==0;if(!a&&(i&Pt)===0){if((i&pn)!==0)n.push(s);else if(u)s.f^=pt;else{var m=$;try{$=s,Oe(s)&&Ir(s)}catch(g){fr(g,s,null,s.ctx)}finally{$=m}}var w=s.first;if(w!==null){s=w;continue}}var b=s.parent;for(s=s.next;s===null&&b!==null;)s=b.next,b=b.parent}return n}function V(e){var n=e.f,s=(n&Et)!==0;if($!==null&&!Ct){if(!(ft!=null&&ft.includes(e))){var i=$.deps;e.rv<nr&&(e.rv=nr,ut===null&&i!==null&&i[_t]===e?_t++:ut===null?ut=[e]:(!Rt||!ut.includes(e))&&ut.push(e))}}else if(s&&e.deps===null&&e.effects===null){var u=e,a=u.parent;a!==null&&(a.f&bt)===0&&(u.f^=bt)}return s&&(u=e,Oe(u)&&Tn(u)),Te&&Ae.has(e)?Ae.get(e):e.v}function Ce(e){var n=Ct;try{return Ct=!0,e()}finally{Ct=n}}const ei=-7169;function St(e,n){e.f=e.f&ei|n}function ri(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Vt in e)xr(e);else if(!Array.isArray(e))for(let n in e){const s=e[n];typeof s=="object"&&s&&Vt in s&&xr(s)}}}function xr(e,n=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!n.has(e)){n.add(e),e instanceof Date&&e.getTime();for(let i in e)try{xr(e[i],n)}catch{}const s=_n(e);if(s!==Object.prototype&&s!==Array.prototype&&s!==Map.prototype&&s!==Set.prototype&&s!==Date.prototype){const i=ol(s);for(let u in i){const a=i[u].get;if(a)try{a.call(e)}catch{}}}}}const ni=["touchstart","touchmove"];function si(e){return ni.includes(e)}let ln=!1;function li(){ln||(ln=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var n;if(!e.defaultPrevented)for(const s of e.target.elements)(n=s.__on_r)==null||n.call(s)})},{capture:!0}))}function Gn(e){var n=$,s=J;kt(null),Lt(null);try{return e()}finally{kt(n),Lt(s)}}function ii(e,n,s,i=s){e.addEventListener(n,()=>Gn(s));const u=e.__on_r;u?e.__on_r=()=>{u(),i(!0)}:e.__on_r=()=>i(!0),li()}const oi=new Set,on=new Set;function ai(e,n,s,i={}){function u(a){if(i.capture||we.call(n,a),!a.cancelBubble)return Gn(()=>s==null?void 0:s.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Wl(()=>{n.addEventListener(e,u,i)}):n.addEventListener(e,u,i),u}function ot(e,n,s,i,u){var a={capture:i,passive:u},m=ai(e,n,s,a);(n===document.body||n===window||n===document)&&Fn(()=>{n.removeEventListener(e,m,a)})}function we(e){var F;var n=this,s=n.ownerDocument,i=e.type,u=((F=e.composedPath)==null?void 0:F.call(e))||[],a=u[0]||e.target,m=0,w=e.__root;if(w){var b=u.indexOf(w);if(b!==-1&&(n===document||n===window)){e.__root=n;return}var g=u.indexOf(n);if(g===-1)return;b<=g&&(m=b)}if(a=u[m]||e.target,a!==n){il(e,"currentTarget",{configurable:!0,get(){return a||s}});var C=$,E=J;kt(null),Lt(null);try{for(var y,S=[];a!==null;){var L=a.assignedSlot||a.parentNode||a.host||null;try{var N=a["__"+i];if(N!=null&&(!a.disabled||e.target===a))if(Er(N)){var[D,...o]=N;D.apply(a,[e,...o])}else N.call(a,e)}catch(R){y?S.push(R):y=R}if(e.cancelBubble||L===n||L===null)break;a=L}if(y){for(let R of S)queueMicrotask(()=>{throw R});throw y}}finally{e.__root=n,delete e.currentTarget,kt(C),Lt(E)}}}function $n(e){var n=document.createElement("template");return n.innerHTML=e,n.content}function Cr(e,n){var s=J;s.nodes_start===null&&(s.nodes_start=e,s.nodes_end=n)}function jt(e,n){var s=(n&Il)!==0,i=(n&Dl)!==0,u,a=!e.startsWith("<!>");return()=>{u===void 0&&(u=$n(a?e:"<!>"+e),s||(u=xe(u)));var m=i||xn?document.importNode(u,!0):u.cloneNode(!0);if(s){var w=xe(m),b=m.lastChild;Cr(w,b)}else Cr(m,m);return m}}function Mt(e,n){e!==null&&e.before(n)}function xt(e,n){var s=n==null?"":typeof n=="object"?n+"":n;s!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=s,e.nodeValue=s+"")}function ui(e,n){return fi(e,n)}const zt=new Map;function fi(e,{target:n,anchor:s,props:i={},events:u,context:a,intro:m=!0}){Nl();var w=new Set,b=E=>{for(var y=0;y<E.length;y++){var S=E[y];if(!w.has(S)){w.add(S);var L=si(S);n.addEventListener(S,we,{passive:L});var N=zt.get(S);N===void 0?(document.addEventListener(S,we,{passive:L}),zt.set(S,1)):zt.set(S,N+1)}}};b(kr(oi)),on.add(b);var g=void 0,C=Vl(()=>{var E=s??n.appendChild(kn());return te(()=>{if(a){ke({});var y=Q;y.c=a}u&&(i.$$events=u),g=e(E,i)||{},a&&Se()}),()=>{var L;for(var y of w){n.removeEventListener(y,we);var S=zt.get(y);--S===0?(document.removeEventListener(y,we),zt.delete(y)):zt.set(y,S)}on.delete(b),E!==s&&((L=E.parentNode)==null||L.removeChild(E))}});return ci.set(g,C),g}let ci=new WeakMap;function Dr(e,n,[s,i]=[0,0]){var u=e,a=null,m=null,w=dt,b=s>0?Pr:0,g=!1;const C=(y,S=!0)=>{g=!0,E(S,y)},E=(y,S)=>{w!==(w=y)&&(w?(a?tr(a):S&&(a=te(()=>S(u))),m&&Qe(m,()=>{m=null})):(m?tr(m):S&&(m=te(()=>S(u,[s+1,i]))),a&&Qe(a,()=>{a=null})))};ur(()=>{g=!1,n(C),g||E(null,null)},b)}function vi(e,n){return n}function di(e,n,s,i){for(var u=[],a=n.length,m=0;m<a;m++)Fr(n[m].e,u,!0);var w=a>0&&u.length===0&&s!==null;if(w){var b=s.parentNode;Ml(b),b.append(s),i.clear(),Dt(e,n[0].prev,n[a-1].next)}Ln(u,()=>{for(var g=0;g<a;g++){var C=n[g];w||(i.delete(C.k),Dt(e,C.prev,C.next)),Tt(C.e,!w)}})}function hi(e,n,s,i,u,a=null){var m=e,w={flags:n,items:new Map,first:null};{var b=e;m=b.appendChild(kn())}var g=null,C=!1,E=Xe(()=>{var y=s();return Er(y)?y:y==null?[]:kr(y)});ur(()=>{var y=V(E),S=y.length;C&&S===0||(C=S===0,_i(y,w,m,u,n,i,s),a!==null&&(S===0?g?tr(g):g=te(()=>a(m)):g!==null&&Qe(g,()=>{g=null})),V(E))})}function _i(e,n,s,i,u,a,m){var w=e.length,b=n.items,g=n.first,C=g,E,y=null,S=[],L=[],N,D,o,F;for(F=0;F<w;F+=1){if(N=e[F],D=a(N,F),o=b.get(D),o===void 0){var R=C?C.e.nodes_start:s;y=mi(R,n,y,y===null?n.first:y.next,N,D,F,i,u,m),b.set(D,y),S=[],L=[],C=y.next;continue}if(pi(o,N,F),(o.e.f&Pt)!==0&&tr(o.e),o!==C){if(E!==void 0&&E.has(o)){if(S.length<L.length){var j=L[0],k;y=j.prev;var T=S[0],t=S[S.length-1];for(k=0;k<S.length;k+=1)an(S[k],j,s);for(k=0;k<L.length;k+=1)E.delete(L[k]);Dt(n,T.prev,t.next),Dt(n,y,T),Dt(n,t,j),C=j,y=t,F-=1,S=[],L=[]}else E.delete(o),an(o,C,s),Dt(n,o.prev,o.next),Dt(n,o,y===null?n.first:y.next),Dt(n,y,o),y=o;continue}for(S=[],L=[];C!==null&&C.k!==D;)(C.e.f&Pt)===0&&(E??(E=new Set)).add(C),L.push(C),C=C.next;if(C===null)continue;o=C}S.push(o),y=o,C=o.next}if(C!==null||E!==void 0){for(var P=E===void 0?[]:kr(E);C!==null;)(C.e.f&Pt)===0&&P.push(C),C=C.next;var I=P.length;if(I>0){var B=w===0?s:null;di(n,P,B,b)}}J.first=n.first&&n.first.e,J.last=y&&y.e}function pi(e,n,s,i){wn(e.v,n),e.i=s}function mi(e,n,s,i,u,a,m,w,b,g){var C=(b&El)!==0,E=(b&Sl)===0,y=C?E?Or(u):Zt(u):u,S=(b&kl)===0?m:Zt(m),L={i:S,v:y,k:a,a:null,e:null,prev:s,next:i};try{return L.e=te(()=>w(e,y,S,g),Rl),L.e.prev=s&&s.e,L.e.next=i&&i.e,s===null?n.first=L:(s.next=L,s.e.next=L.e),i!==null&&(i.prev=L,i.e.prev=L.e),L}finally{}}function an(e,n,s){for(var i=e.next?e.next.e.nodes_start:s,u=n?n.e.nodes_start:s,a=e.e.nodes_start;a!==i;){var m=or(a);u.before(a),a=m}}function Dt(e,n,s){n===null?e.first=s:(n.next=s,n.e.next=s&&s.e),s!==null&&(s.prev=n,s.e.prev=n&&n.e)}function bi(e,n,s,i,u){var a=e,m="",w;ur(()=>{m!==(m=n()??"")&&(w!==void 0&&(Tt(w),w=void 0),m!==""&&(w=te(()=>{var b=m+"",g=$n(b);Cr(xe(g),g.lastChild),a.before(g)})))})}function gi(e,n,s){ar(()=>{var i=Ce(()=>n(e,s==null?void 0:s())||{});if(i!=null&&i.destroy)return()=>i.destroy()})}const un=[...` 	
\r\f \v\uFEFF`];function yi(e,n,s){var i=e==null?"":""+e;if(n&&(i=i?i+" "+n:n),s){for(var u in s)if(s[u])i=i?i+" "+u:u;else if(i.length)for(var a=u.length,m=0;(m=i.indexOf(u,m))>=0;){var w=m+a;(m===0||un.includes(i[m-1]))&&(w===i.length||un.includes(i[w]))?i=(m===0?"":i.substring(0,m))+i.substring(w+1):m=w}}return i===""?null:i}function Jt(e,n,s,i,u,a){var m=e.__className;if(m!==s||m===void 0){var w=yi(s,i,a);w==null?e.removeAttribute("class"):e.className=w,e.__className=s}else if(a&&u!==a)for(var b in a){var g=!!a[b];(u==null||g!==!!u[b])&&e.classList.toggle(b,g)}return a}function wi(e,n,s=n){var i=Pe();ii(e,"input",u=>{var a=u?e.defaultValue:e.value;if(a=pr(e)?mr(a):a,s(a),i&&a!==(a=n())){var m=e.selectionStart,w=e.selectionEnd;e.value=a??"",w!==null&&(e.selectionStart=m,e.selectionEnd=Math.min(w,e.value.length))}}),Ce(n)==null&&e.value&&s(pr(e)?mr(e.value):e.value),In(()=>{var u=n();pr(e)&&u===mr(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function pr(e){var n=e.type;return n==="number"||n==="range"}function mr(e){return e===""?null:+e}function Wn(e=!1){const n=Q,s=n.l.u;if(!s)return;let i=()=>ri(n.s);if(e){let u=0,a={};const m=Xt(()=>{let w=!1;const b=n.s;for(const g in b)b[g]!==a[g]&&(a[g]=b[g],w=!0);return w&&u++,u});i=()=>V(m)}s.b.length&&Ul(()=>{fn(n,i),gr(s.b)}),wr(()=>{const u=Ce(()=>s.m.map(fl));return()=>{for(const a of u)typeof a=="function"&&a()}}),s.a.length&&wr(()=>{fn(n,i),gr(s.a)})}function fn(e,n){if(e.l.s)for(const s of e.l.s)V(s);n()}let Ye=!1;function Ai(e){var n=Ye;try{return Ye=!1,[e(),Ye]}finally{Ye=n}}const xi={get(e,n){if(!e.exclude.includes(n))return V(e.version),n in e.special?e.special[n]():e.props[n]},set(e,n,s){return n in e.special||(e.special[n]=lt({get[n](){return e.props[n]}},n,yn)),e.special[n](s),rn(e.version),!0},getOwnPropertyDescriptor(e,n){if(!e.exclude.includes(n)&&n in e.props)return{enumerable:!0,configurable:!0,value:e.props[n]}},deleteProperty(e,n){return e.exclude.includes(n)||(e.exclude.push(n),rn(e.version)),!0},has(e,n){return e.exclude.includes(n)?!1:n in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(n=>!e.exclude.includes(n))}};function Ci(e,n){return new Proxy({props:e,exclude:n,special:{},version:Zt(0)},xi)}const Ei={get(e,n){let s=e.props.length;for(;s--;){let i=e.props[s];if(ye(i)&&(i=i()),typeof i=="object"&&i!==null&&n in i)return i[n]}},set(e,n,s){let i=e.props.length;for(;i--;){let u=e.props[i];ye(u)&&(u=u());const a=Nt(u,n);if(a&&a.set)return a.set(s),!0}return!1},getOwnPropertyDescriptor(e,n){let s=e.props.length;for(;s--;){let i=e.props[s];if(ye(i)&&(i=i()),typeof i=="object"&&i!==null&&n in i){const u=Nt(i,n);return u&&!u.configurable&&(u.configurable=!0),u}}},has(e,n){if(n===Vt||n===bn)return!1;for(let s of e.props)if(ye(s)&&(s=s()),s!=null&&n in s)return!0;return!1},ownKeys(e){const n=[];for(let s of e.props){ye(s)&&(s=s());for(const i in s)n.includes(i)||n.push(i)}return n}};function ki(...e){return new Proxy({props:e},Ei)}function cn(e){var n;return((n=e.ctx)==null?void 0:n.d)??!1}function lt(e,n,s,i){var T;var u=(s&Pl)!==0,a=!Ee||(s&Tl)!==0,m=(s&Ol)!==0,w=(s&Fl)!==0,b=!1,g;m?[g,b]=Ai(()=>e[n]):g=e[n];var C=Vt in e||bn in e,E=m&&(((T=Nt(e,n))==null?void 0:T.set)??(C&&n in e&&(t=>e[n]=t)))||void 0,y=i,S=!0,L=!1,N=()=>(L=!0,S&&(S=!1,w?y=Ce(i):y=i),y);g===void 0&&i!==void 0&&(E&&a&&gl(),g=N(),E&&E(g));var D;if(a)D=()=>{var t=e[n];return t===void 0?N():(S=!0,L=!1,t)};else{var o=(u?Xt:Xe)(()=>e[n]);o.f|=vl,D=()=>{var t=V(o);return t!==void 0&&(y=void 0),t===void 0?y:t}}if((s&yn)===0)return D;if(E){var F=e.$$legacy;return function(t,P){return arguments.length>0?((!a||!P||F||b)&&E(P?D():t),t):D()}}var R=!1,j=Or(g),k=Xt(()=>{var t=D(),P=V(j);return R?(R=!1,P):j.v=t});return m&&V(k),u||(k.equals=Tr),function(t,P){if(arguments.length>0){const I=P?V(k):a&&m?wt(t):t;if(!k.equals(I)){if(R=!0,tt(j,I),L&&y!==void 0&&(y=I),cn(k))return t;Ce(()=>V(k))}return t}return cn(k)?k.v:V(k)}}const Si="5";var hn;typeof window<"u"&&((hn=window.__svelte??(window.__svelte={})).v??(hn.v=new Set)).add(Si);Cl();var Pi=jt('<button class="svelte-kn1b4h"> </button>'),Ti=jt('<nav class="menu svelte-kn1b4h"><div class="menu-container svelte-kn1b4h"><div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">File</button> <div><button class="svelte-kn1b4h">New</button> <button class="svelte-kn1b4h">Open..</button> <button class="svelte-kn1b4h">Save</button> <button class="svelte-kn1b4h">Save as..</button></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h"> </button> <div></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">Format</button> <div><button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button> <hr class="svelte-kn1b4h"> <button class="svelte-kn1b4h"> </button></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">View</button> <div><button class="svelte-kn1b4h"> </button></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">Help</button> <div><a href="https://www.chordpro.org/chordpro/" class="svelte-kn1b4h">ChordPro Format</a> <a href="https://github.com/mnezerka/svelte-chordpro-editor" class="svelte-kn1b4h">Github Repository</a></div></div></div></nav>');function Oi(e,n){ke(n,!1);let s=lt(n,"transpose_steps",8,0),i=lt(n,"format",24,()=>({})),u=lt(n,"view",24,()=>({})),a=lt(n,"on_new",8,()=>{}),m=lt(n,"on_open",8,()=>{}),w=lt(n,"on_save",8,()=>{}),b=lt(n,"on_save_as",8,()=>{}),g=lt(n,"on_transpose",8,()=>{}),C=lt(n,"on_format_toggle",8,()=>{}),E=lt(n,"on_format_set",8,()=>{}),y=lt(n,"on_view_toggle",8,()=>{}),S=Or(null);const L=[-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6];function N(Y){V(S)===Y?tt(S,null):tt(S,Y)}function D(Y,X,at){tt(S,null),Y(X,at)}function o(Y){const X=at=>{Y.contains(at.target)||Y.dispatchEvent(new CustomEvent("outclick"))};return document.addEventListener("click",X,!0),{destroy(){document.removeEventListener("click",X,!0)}}}const F=()=>{tt(S,null)};function R(Y,X){return Y<0?"-"+Y:Y>0?"+"+Y:X!==void 0?X:"no transposition"}function j(Y){return T(R(Y),Y==s())}function k(){let Y="Transpose",X=R(s(),"");return X&&(Y+=" ("+X+")"),Y}function T(Y,X){let at=Y;return X&&(at+=" ✓"),at}Wn();var t=Ti(),P=K(t),I=K(P),B=K(I),O=z(B,2);let W;var qt=K(O),Bt=z(qt,2),Ut=z(Bt,2),q=z(Ut,2),Z=z(I,2),It=K(Z),Fe=K(It),se=z(It,2);let le;hi(se,5,()=>L,vi,(Y,X)=>{var at=Pi(),be=K(at);Qt(ge=>xt(be,ge),[()=>j(V(X))],Xe),ot("click",at,()=>{D(g(),V(X))}),Mt(Y,at)});var ie=z(Z,2),oe=K(ie),ae=z(oe,2);let ue;var $t=K(ae),Ie=K($t),Wt=z($t,2),De=K(Wt),Yt=z(Wt,2),Re=K(Yt),fe=z(Yt,4),Ne=K(fe),ce=z(ie,2),ve=K(ce),de=z(ve,2);let he;var _e=K(de),Le=K(_e),Me=z(ce,2),pe=K(Me),je=z(pe,2);let me;gi(t,Y=>o==null?void 0:o(Y)),ar(()=>ot("outclick",t,()=>F())),Qt((Y,X,at,be,ge,qe,Be,Ue,Ve,vr,G)=>{W=Jt(O,1,"menu-item-container svelte-kn1b4h",null,W,Y),xt(Fe,X),le=Jt(se,1,"menu-item-container svelte-kn1b4h",null,le,at),ue=Jt(ae,1,"menu-item-container svelte-kn1b4h",null,ue,be),xt(Ie,ge),xt(De,qe),xt(Re,Be),xt(Ne,Ue),he=Jt(de,1,"menu-item-container svelte-kn1b4h",null,he,Ve),xt(Le,vr),me=Jt(je,1,"menu-item-container svelte-kn1b4h",null,me,G)},[()=>({hidden:V(S)!=="file"}),k,()=>({hidden:V(S)!=="transpose"}),()=>({hidden:V(S)!=="format"}),()=>T("Title Left",i().title_align=="left"),()=>T("Title Center",i().title_align=="center"),()=>T("Title Right",i().title_align=="right"),()=>T("Use Colors",i().use_colors),()=>({hidden:V(S)!=="view"}),()=>T("ChordPro Cheat Sheet",u().cheatsheet),()=>({hidden:V(S)!=="help"})],Xe),ot("click",B,()=>{N("file")}),ot("click",qt,()=>{D(a())}),ot("click",Bt,()=>{D(m())}),ot("click",Ut,()=>{D(w())}),ot("click",q,()=>{D(b())}),ot("click",It,()=>{N("transpose")}),ot("click",oe,()=>{N("format")}),ot("click",$t,()=>{D(E(),"title_align","left")}),ot("click",Wt,()=>{D(E(),"title_align","center")}),ot("click",Yt,()=>{D(E(),"title_align","right")}),ot("click",fe,()=>{D(C(),"use_colors")}),ot("click",ve,()=>{N("view")}),ot("click",_e,()=>{D(y(),"cheatsheet")}),ot("click",pe,()=>{N("help")}),Mt(e,t),Se()}var Fi=jt('<span class="sub"> </span>'),Ii=jt('<nav class="no-print svelte-dzut9y"><div class="title svelte-dzut9y"><span class="main svelte-dzut9y">ChordPro Editor</span> <!></div> <!></nav>');function Di(e,n){const s=Ci(n,["children","$$slots","$$events","$$legacy"]);ke(n,!1);let i=lt(n,"subtitle",8,"");Wn();var u=Ii(),a=K(u),m=z(K(a),2);{var w=g=>{var C=Fi(),E=K(C);Qt(()=>xt(E,`- ${i()??""}`)),Mt(g,C)};Dr(m,g=>{i().length>0&&g(w)})}var b=z(a,2);Oi(b,ki(()=>s)),Mt(e,u),Se()}function Ri(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var He={},vn;function Ni(){if(vn)return He;vn=1;function e(N){return N&&N.__esModule&&Object.prototype.hasOwnProperty.call(N,"default")?N.default:N}Object.defineProperty(He,"__esModule",{value:!0});var n,s,i,u,a,m,w,b,g,C={};function E(){if(s)return n;function N(o,F,R,j){var k=Error.call(this,o);return Object.setPrototypeOf&&Object.setPrototypeOf(k,N.prototype),k.expected=F,k.found=R,k.location=j,k.name="SyntaxError",k}function D(o,F,R){return R=R||" ",o.length>F?o:(F-=o.length,o+(R+=R.repeat(F)).slice(0,F))}return s=1,function(o,F){function R(){this.constructor=o}R.prototype=F.prototype,o.prototype=new R}(N,Error),N.prototype.format=function(o){var F="Error: "+this.message;if(this.location){var R,j=null;for(R=0;R<o.length;R++)if(o[R].source===this.location.source){j=o[R].text.split(/\r\n|\n|\r/g);break}var k=this.location.start,T=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(k):k,t=this.location.source+":"+T.line+":"+T.column;if(j){var P=this.location.end,I=D("",T.line.toString().length," "),B=j[k.line-1],O=(k.line===P.line?P.column:B.length+1)-k.column||1;F+=`
 --> `+t+`
`+I+` |
`+T.line+" | "+B+`
`+I+" | "+D("",k.column-1," ")+D("",O,"^")}else F+=`
 at `+t}return F},N.buildMessage=function(o,F){var R={literal:function(P){return'"'+k(P.text)+'"'},class:function(P){var I=P.parts.map(function(B){return Array.isArray(B)?T(B[0])+"-"+T(B[1]):T(B)});return"["+(P.inverted?"^":"")+I.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(P){return P.description}};function j(P){return P.charCodeAt(0).toString(16).toUpperCase()}function k(P){return P.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(I){return"\\x0"+j(I)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(I){return"\\x"+j(I)})}function T(P){return P.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(I){return"\\x0"+j(I)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(I){return"\\x"+j(I)})}function t(P){return R[P.type](P)}return"Expected "+function(P){var I,B,O=P.map(t);if(O.sort(),O.length>0){for(I=1,B=1;I<O.length;I++)O[I-1]!==O[I]&&(O[B]=O[I],B++);O.length=B}switch(O.length){case 1:return O[0];case 2:return O[0]+" or "+O[1];default:return O.slice(0,-1).join(", ")+", or "+O[O.length-1]}}(o)+" but "+function(P){return P?'"'+k(P)+'"':"end of input"}(F)+" found."},n={StartRules:["All"],SyntaxError:N,parse:function(o,F){var R,j,k,T,t={},P=(F=F!==void 0?F:{}).grammarSource,I={All:Hr},B=Hr,O="{",W="}",qt="title:",Bt="t:",Ut="meta: title",q="subtitle:",Z="st:",It="meta: subtitle",Fe="artist:",se="meta: artist",le="composer:",ie="meta: composer",oe="lyricist:",ae="meta: lyricist",ue="copyright:",$t="meta: copyright",Ie="album:",Wt="meta: album",De="year:",Yt="meta: year",Re="key:",fe="meta: key",Ne="capo:",ce="meta: capo",ve="time:",de="meta: time",he="tempo:",_e="meta: tempo",Le="duration:",Me="meta: duration",pe="{c:",je="{comment:",me="soc",Y="start_of_chorus",X="eoc",at="end_of_chorus",be="[",ge="]",qe="sot",Be="start_of_tab",Ue="eot",Ve="end_of_tab",vr=/^[\n\r]/,G=/^[^}]/,Rr=/^[^{[\n\r]/,Nr=/^[A-Z]/,Lr=/^[^\]]/,Mr=/^[^{\n\r]/,Ge={type:"any"},Yn=Kt([`
`,"\r"],!1,!1),st=M("{",!1),ct=M(" ",!1),H=Kt(["}"],!0,!1),et=M("}",!1),Hn=M("title:",!1),Kn=M("t:",!1),zn=M("meta: title",!1),Jn=M("subtitle:",!1),Zn=M("st:",!1),Xn=M("meta: subtitle",!1),Qn=M("artist:",!1),ts=M("meta: artist",!1),es=M("composer:",!1),rs=M("meta: composer",!1),ns=M("lyricist:",!1),ss=M("meta: lyricist",!1),ls=M("copyright:",!1),is=M("meta: copyright",!1),os=M("album:",!1),as=M("meta: album",!1),us=M("year:",!1),fs=M("meta: year",!1),cs=M("key:",!1),vs=M("meta: key",!1),ds=M("capo:",!1),hs=M("meta: capo",!1),_s=M("time:",!1),ps=M("meta: time",!1),ms=M("tempo:",!1),bs=M("meta: tempo",!1),gs=M("duration:",!1),ys=M("meta: duration",!1),ws=M("{c:",!1),As=M("{comment:",!1),xs=M("soc",!1),Cs=M("start_of_chorus",!1),Es=M("eoc",!1),ks=M("end_of_chorus",!1),jr=Kt(["{","[",`
`,"\r"],!0,!1),Ss=M("[",!1),qr=Kt([["A","Z"]],!1,!1),Br=Kt(["]"],!0,!1),Ps=M("]",!1),Ts=M("sot",!1),Os=M("start_of_tab",!1),Fs=M("eot",!1),Is=M("end_of_tab",!1),Ur=Kt(["{",`
`,"\r"],!0,!1),Ds=function(v){return""},Rs=function(v,l){return{header:v,content:l}},Ns=function(v){return v},Ls=function(v){return{type:"title",value:v}},Ms=function(v){return{type:"subtitle",value:v}},js=function(v){return{type:"artist",value:v}},qs=function(v){return{type:"composer",value:v}},Bs=function(v){return{type:"lyricist",value:v}},Us=function(v){return{type:"copyright",value:v}},Vs=function(v){return{type:"album",value:v}},Gs=function(v){return{type:"year",value:v}},$s=function(v){return{type:"key",value:v}},Ws=function(v){return{type:"capo",value:v}},Ys=function(v){return{type:"time",value:v}},Hs=function(v){return{type:"tempo",value:v}},Ks=function(v){return{type:"duration",value:v}},zs=function(v){return{type:"comment",value:v}},Vr=function(v,l){return l},Js=function(v,l,_){return[v].concat(l)},Zs=function(v){return{type:"verse",items:v}},Xs=function(v){return{type:"chorus",items:v}},Gr=function(v,l){return l},Qs=function(v,l){return[v].concat(l)},tl=function(v){return{type:"line",items:v}},el=function(v){return{type:"text",value:v}},rl=function(v){return{type:"chord",value:v}},nl=function(v){return{type:"tab",items:v}},$r=function(v,l){return l},sl=function(v,l){return[v].concat(l)},r=0|F.peg$currPos,Ht=[{line:1,column:1}],gt=r,$e=F.peg$maxFailExpected||[],d=0|F.peg$silentFails;if(F.startRule){if(!(F.startRule in I))throw new Error(`Can't start parsing from rule "`+F.startRule+'".');B=I[F.startRule]}function M(v,l){return{type:"literal",text:v,ignoreCase:l}}function Kt(v,l,_){return{type:"class",parts:v,inverted:l,ignoreCase:_}}function Wr(v){var l,_=Ht[v];if(_)return _;if(v>=Ht.length)l=Ht.length-1;else for(l=v;!Ht[--l];);for(_={line:(_=Ht[l]).line,column:_.column};l<v;)o.charCodeAt(l)===10?(_.line++,_.column=1):_.column++,l++;return Ht[v]=_,_}function Yr(v,l,_){var x=Wr(v),A=Wr(l);return{source:P,start:{offset:v,line:x.line,column:x.column},end:{offset:l,line:A.line,column:A.column}}}function h(v){r<gt||(r>gt&&(gt=r,$e=[]),$e.push(v))}function Hr(){var v,l,_,x,A;return v=r,l=function(){var c,f,p;if(c=r,f=[],p=Kr(),p!==t)for(;p!==t;)f.push(p),p=Kr();else f=t;return f!==t&&(f=Ns(f)),c=f,c}(),l===t&&(l=null),_=function(){var c,f,p,U,nt,vt,it;if(c=r,f=dr(),f!==t){if(p=[],U=r,(nt=rt())!==t){if(vt=[],(it=rt())!==t)for(;it!==t;)vt.push(it),it=rt();else vt=t;vt!==t&&(it=dr())!==t?U=Vr(f,it):(r=U,U=t)}else r=U,U=t;for(;U!==t;)if(p.push(U),U=r,(nt=rt())!==t){if(vt=[],(it=rt())!==t)for(;it!==t;)vt.push(it),it=rt();else vt=t;vt!==t&&(it=dr())!==t?U=Vr(f,it):(r=U,U=t)}else r=U,U=t;if(U=r,d++,o.length>r?(nt=o.charAt(r),r++):(nt=t,d===0&&h(Ge)),d--,nt===t?U=void 0:(r=U,U=t),U===t){if(U=[],(nt=rt())!==t)for(;nt!==t;)U.push(nt),nt=rt();else U=t;U===t&&(U=r,d++,o.length>r?(nt=o.charAt(r),r++):(nt=t,d===0&&h(Ge)),d--,nt===t?U=void 0:(r=U,U=t))}U!==t?c=Js(f,p):(r=c,c=t)}else r=c,c=t;return c}(),_===t&&(_=r,x=r,d++,o.length>r?(A=o.charAt(r),r++):(A=t,d===0&&h(Ge)),d--,A===t?x=void 0:(r=x,x=t),x!==t&&(x=Ds()),_=x),_!==t?v=Rs(l,_):(r=v,v=t),v}function Kr(){var v;return(v=function(){var l,_,x,A,c,f;if(l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return o.substr(r,6)===qt?(p=qt,r+=6):(p=t,d===0&&h(Hn)),p===t&&(o.substr(r,2)===Bt?(p=Bt,r+=2):(p=t,d===0&&h(Kn)),p===t&&(o.substr(r,11)===Ut?(p=Ut,r+=11):(p=t,d===0&&h(zn)))),p}(),x!==t){if(o.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H));else c=t;(A=c!==t?o.substring(A,r):c)!==t?(o.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Ls(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return o.substr(r,9)===q?(p=q,r+=9):(p=t,d===0&&h(Jn)),p===t&&(o.substr(r,3)===Z?(p=Z,r+=3):(p=t,d===0&&h(Zn)),p===t&&(o.substr(r,14)===It?(p=It,r+=14):(p=t,d===0&&h(Xn)))),p}(),x!==t){if(o.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H));else c=t;(A=c!==t?o.substring(A,r):c)!==t?(o.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Ms(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return o.substr(r,7)===Fe?(p=Fe,r+=7):(p=t,d===0&&h(Qn)),p===t&&(o.substr(r,12)===se?(p=se,r+=12):(p=t,d===0&&h(ts))),p}(),x!==t){if(o.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H));else c=t;(A=c!==t?o.substring(A,r):c)!==t?(o.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=js(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return o.substr(r,9)===le?(p=le,r+=9):(p=t,d===0&&h(es)),p===t&&(o.substr(r,14)===ie?(p=ie,r+=14):(p=t,d===0&&h(rs))),p}(),x!==t){if(o.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H));else c=t;(A=c!==t?o.substring(A,r):c)!==t?(o.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=qs(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return o.substr(r,9)===oe?(p=oe,r+=9):(p=t,d===0&&h(ns)),p===t&&(o.substr(r,14)===ae?(p=ae,r+=14):(p=t,d===0&&h(ss))),p}(),x!==t){if(o.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H));else c=t;(A=c!==t?o.substring(A,r):c)!==t?(o.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Bs(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return o.substr(r,10)===ue?(p=ue,r+=10):(p=t,d===0&&h(ls)),p===t&&(o.substr(r,15)===$t?(p=$t,r+=15):(p=t,d===0&&h(is))),p}(),x!==t){if(o.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H));else c=t;(A=c!==t?o.substring(A,r):c)!==t?(o.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Us(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return o.substr(r,6)===Ie?(p=Ie,r+=6):(p=t,d===0&&h(os)),p===t&&(o.substr(r,11)===Wt?(p=Wt,r+=11):(p=t,d===0&&h(as))),p}(),x!==t){if(o.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H));else c=t;(A=c!==t?o.substring(A,r):c)!==t?(o.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Vs(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return o.substr(r,5)===De?(p=De,r+=5):(p=t,d===0&&h(us)),p===t&&(o.substr(r,10)===Yt?(p=Yt,r+=10):(p=t,d===0&&h(fs))),p}(),x!==t){if(o.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H));else c=t;(A=c!==t?o.substring(A,r):c)!==t?(o.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Gs(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return o.substr(r,4)===Re?(p=Re,r+=4):(p=t,d===0&&h(cs)),p===t&&(o.substr(r,9)===fe?(p=fe,r+=9):(p=t,d===0&&h(vs))),p}(),x!==t){if(o.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H));else c=t;(A=c!==t?o.substring(A,r):c)!==t?(o.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=$s(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return o.substr(r,5)===Ne?(p=Ne,r+=5):(p=t,d===0&&h(ds)),p===t&&(o.substr(r,10)===ce?(p=ce,r+=10):(p=t,d===0&&h(hs))),p}(),x!==t){if(o.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H));else c=t;(A=c!==t?o.substring(A,r):c)!==t?(o.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Ws(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return o.substr(r,5)===ve?(p=ve,r+=5):(p=t,d===0&&h(_s)),p===t&&(o.substr(r,10)===de?(p=de,r+=10):(p=t,d===0&&h(ps))),p}(),x!==t){if(o.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H));else c=t;(A=c!==t?o.substring(A,r):c)!==t?(o.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Ys(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return o.substr(r,6)===he?(p=he,r+=6):(p=t,d===0&&h(ms)),p===t&&(o.substr(r,11)===_e?(p=_e,r+=11):(p=t,d===0&&h(bs))),p}(),x!==t){if(o.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H));else c=t;(A=c!==t?o.substring(A,r):c)!==t?(o.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Hs(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return o.substr(r,9)===Le?(p=Le,r+=9):(p=t,d===0&&h(gs)),p===t&&(o.substr(r,14)===Me?(p=Me,r+=14):(p=t,d===0&&h(ys))),p}(),x!==t){if(o.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=o.charAt(r),G.test(f)?r++:(f=t,d===0&&h(H));else c=t;(A=c!==t?o.substring(A,r):c)!==t?(o.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Ks(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}()),v}function rt(){var v;return v=o.charAt(r),vr.test(v)?r++:(v=t,d===0&&h(Yn)),v}function ht(){var v,l;if(v=[],(l=rt())!==t)for(;l!==t;)v.push(l),l=rt();else v=t;return v===t&&(v=r,d++,o.length>r?(l=o.charAt(r),r++):(l=t,d===0&&h(Ge)),d--,l===t?v=void 0:(r=v,v=t)),v}function dr(){var v;return(v=function(){var l,_;return l=r,(_=zr())!==t&&(_=Zs(_)),l=_,l}())===t&&(v=function(){var l,_,x,A,c,f,p,U;return l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t?(o.substr(r,3)===me?(x=me,r+=3):(x=t,d===0&&h(xs)),x===t&&(o.substr(r,15)===Y?(x=Y,r+=15):(x=t,d===0&&h(Cs))),x!==t?(o.charCodeAt(r)===125?(A=W,r++):(A=t,d===0&&h(et)),A!==t&&rt()!==t&&(c=zr())!==t&&rt()!==t?(o.charCodeAt(r)===123?(f=O,r++):(f=t,d===0&&h(st)),f!==t?(o.substr(r,3)===X?(p=X,r+=3):(p=t,d===0&&h(Es)),p===t&&(o.substr(r,13)===at?(p=at,r+=13):(p=t,d===0&&h(ks))),p!==t?(o.charCodeAt(r)===125?(U=W,r++):(U=t,d===0&&h(et)),U!==t?l=Xs(c):(r=l,l=t)):(r=l,l=t)):(r=l,l=t)):(r=l,l=t)):(r=l,l=t)):(r=l,l=t),l}())===t&&(v=function(){var l,_,x,A,c;if(l=r,o.substr(r,3)===pe?(_=pe,r+=3):(_=t,d===0&&h(ws)),_===t&&(o.substr(r,9)===je?(_=je,r+=9):(_=t,d===0&&h(As))),_!==t){if(o.charCodeAt(r)===32?r++:d===0&&h(ct),x=r,A=[],c=o.charAt(r),G.test(c)?r++:(c=t,d===0&&h(H)),c!==t)for(;c!==t;)A.push(c),c=o.charAt(r),G.test(c)?r++:(c=t,d===0&&h(H));else A=t;(x=A!==t?o.substring(x,r):A)!==t?(o.charCodeAt(r)===125?(A=W,r++):(A=t,d===0&&h(et)),A!==t?l=zs(x):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f,p,U;return l=r,o.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t?(o.substr(r,3)===qe?(x=qe,r+=3):(x=t,d===0&&h(Ts)),x===t&&(o.substr(r,12)===Be?(x=Be,r+=12):(x=t,d===0&&h(Os))),x!==t?(o.charCodeAt(r)===125?(A=W,r++):(A=t,d===0&&h(et)),A!==t&&rt()!==t?(c=function(){var nt,vt,it,At,We;if(nt=r,vt=_r(),vt!==t){for(it=[],At=r,rt()!==t&&(We=_r())!==t?At=$r(vt,We):(r=At,At=t);At!==t;)it.push(At),At=r,rt()!==t&&(We=_r())!==t?At=$r(vt,We):(r=At,At=t);nt=sl(vt,it)}else r=nt,nt=t;return nt}(),c!==t&&rt()!==t?(o.charCodeAt(r)===123?(f=O,r++):(f=t,d===0&&h(st)),f!==t?(o.substr(r,3)===Ue?(p=Ue,r+=3):(p=t,d===0&&h(Fs)),p===t&&(o.substr(r,10)===Ve?(p=Ve,r+=10):(p=t,d===0&&h(Is))),p!==t?(o.charCodeAt(r)===125?(U=W,r++):(U=t,d===0&&h(et)),U!==t?l=nl(c):(r=l,l=t)):(r=l,l=t)):(r=l,l=t)):(r=l,l=t)):(r=l,l=t)):(r=l,l=t)):(r=l,l=t),l}()),v}function zr(){var v,l,_,x,A;if(v=r,(l=hr())!==t){for(_=[],x=r,rt()!==t&&(A=hr())!==t?x=Gr(l,A):(r=x,x=t);x!==t;)_.push(x),x=r,rt()!==t&&(A=hr())!==t?x=Gr(l,A):(r=x,x=t);v=Qs(l,_)}else r=v,v=t;return v}function hr(){var v,l;if(v=[],(l=Zr())===t&&(l=Jr()),l!==t)for(;l!==t;)v.push(l),(l=Zr())===t&&(l=Jr());else v=t;return v!==t&&(v=tl(v)),v}function Jr(){var v,l,_;if(v=r,l=[],_=o.charAt(r),Rr.test(_)?r++:(_=t,d===0&&h(jr)),_!==t)for(;_!==t;)l.push(_),_=o.charAt(r),Rr.test(_)?r++:(_=t,d===0&&h(jr));else l=t;return(v=l!==t?o.substring(v,r):l)!==t&&(v=el(v)),v}function Zr(){var v,l,_,x,A,c,f;if(v=r,o.charCodeAt(r)===91?(l=be,r++):(l=t,d===0&&h(Ss)),l!==t){if(_=r,x=r,A=[],c=o.charAt(r),Nr.test(c)?r++:(c=t,d===0&&h(qr)),c!==t)for(;c!==t;)A.push(c),c=o.charAt(r),Nr.test(c)?r++:(c=t,d===0&&h(qr));else A=t;if(A!==t){for(c=[],f=o.charAt(r),Lr.test(f)?r++:(f=t,d===0&&h(Br));f!==t;)c.push(f),f=o.charAt(r),Lr.test(f)?r++:(f=t,d===0&&h(Br));x=A=[A,c]}else r=x,x=t;(_=x!==t?o.substring(_,r):x)!==t?(o.charCodeAt(r)===93?(x=ge,r++):(x=t,d===0&&h(Ps)),x!==t?v=rl(_):(r=v,v=t)):(r=v,v=t)}else r=v,v=t;return v}function _r(){var v,l,_;if(v=r,l=[],_=o.charAt(r),Mr.test(_)?r++:(_=t,d===0&&h(Ur)),_!==t)for(;_!==t;)l.push(_),_=o.charAt(r),Mr.test(_)?r++:(_=t,d===0&&h(Ur));else l=t;return v=l!==t?o.substring(v,r):l}if(R=B(),F.peg$library)return{peg$result:R,peg$currPos:r,peg$FAILED:t,peg$maxFailExpected:$e,peg$maxFailPos:gt};if(R!==t&&r===o.length)return R;throw R!==t&&r<o.length&&h({type:"end"}),j=$e,k=gt<o.length?o.charAt(gt):null,T=gt<o.length?Yr(gt,gt+1):Yr(gt,gt),new N(N.buildMessage(j,k),j,k,T)}}}function y(){if(b)return w;function N(D,o){const F=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],R=["C","Db","D","D#","E","F","Gb","G","G#","A","A#","B"];if(D.length<1)return;let j="",k=0;for(;k<D.length;){if("CDEFGAB".indexOf(D[k])===-1){j+=D[k],k++;continue}let T=D[k];k++,k<D.length&&(D[k]!=="#"&&D[k]!=="b"||(T+=D[k],k++));let t=F.indexOf(T);t===-1&&(t=R.indexOf(T),t===-1&&console.error("Unknown chord root",T)),t+=o,t%=12,t<0&&(t=12+t),j+=F[t]}return j}return b=1,w={transpose:function(D,o){for(let F of D.content)if(["verse","chorus"].includes(F.type)){for(let R of F.items)if(R.type=="line")for(let j of R.items)j.type=="chord"&&(j.value=N(j.value,o))}return D},transposeChord:N}}var S=function(){if(g)return C;g=1;const N=E(),D=function(){if(u)return i;function R(k){let T="",t="";for(let I=0;I<k.items.length;I++){const B=k.items[I];let O;switch(B.value.length,B.type){case"chord":O=t.length-T.length,O>0&&(T+=" ".repeat(O)),T+=B.value+" ";break;case"text":t+=B.value,O=T.length-t.length,O>0&&(t+=" ".repeat(O))}}let P="";return T.length>0&&(P+=T+`
`),P+t}function j(k){var T="";for(let t=0;t<k.items.length;t++){const P=k.items[t];P.type=="line"&&(T+=R(P)+`
`)}return T}return u=1,i={processSong:function(k){var T="";if(k.header)for(let t=0;t<k.header.length;t++){let P=k.header[t];switch(P.type){case"title":T+=`Title: ${P.value}
`;break;case"subtitle":T+=`Subtitle: ${P.value}
`;break;case"artist":T+=`Artist: ${P.value}
`}}T+=`
`;for(let t=0;t<k.content.length;t++){let P=k.content[t];t>0&&(T+=`

`),P.type!="verse"&&P.type!="chorus"||(T+=j(P))}return T},processVerse:j,processRow:R}}(),o=function(){if(m)return a;function R(k,T){let t=[],P=[],I=null;for(let O=0;O<k.items.length;O++){let W=k.items[O];W.type==="chord"?(t.push(W.value),I=W.value):W.type==="text"&&(I===null&&t.push(""),P.push(W.value),I=null)}let B='<table class="line">';return T&&(B+='<tr class="line-chords">',B+=t.map(O=>`<td class="chord">${O}</td>`).join(`
`),B+="</tr>"),B+='<tr class="line-lyrics">',B+=P.map(O=>`<td class="lyrics">${O.replaceAll(" ","&nbsp;")}</td>`).join(`
`),B+="</tr>",B+="</table>",B}function j(k){let T=function(P){for(let I=0;I<P.items.length;I++){let B=P.items[I];for(let O=0;O<B.items.length;O++)if(B.items[O].type==="chord")return!0}return!1}(k),t=`<div class="${k.type}">
`;for(let P=0;P<k.items.length;P++)t+=R(k.items[P],T);return t+="</div>",t}return m=1,a={processSong:function(k){var T=`<div class="jschordpro-song">

`;let t="";if(k.header)for(let P=0;P<k.header.length;P++){let I=k.header[P];switch(I.type){case"title":t+=`<h1 class="${I.type}">${I.value}</h1>
`;break;case"subtitle":case"artist":case"composer":case"lyricist":case"copyright":case"album":case"year":case"key":case"capo":case"time":case"tempo":case"duration":t+=`<h2 class="${I.type}">${I.value}</h2>
`;break;default:console.warn(`no formatting defined for header item of type "${I.type}".`)}}t&&(T+=`<div class="header">
`,T+=t,T+=`</div>

`),T+=`<div class="content">
`;for(let P=0;P<k.content.length;P++)T+=j(k.content[P]);return(T+=`</div>
`)+`</div>
`}}}(),F=y();return C.parse=N.parse,C.to_ascii=D.processSong,C.to_html=o.processSong,C.transpose=F.transpose,C}(),L=e(S);return He.default=L,He}var Li=Ni();const br=Ri(Li);var Mi=jt('<div class="error svelte-6ldd3k"> </div>'),ji=jt('<div class="preview svelte-6ldd3k"><!> <div><!></div></div>');function qi(e,n){ke(n,!0);let s=lt(n,"source",3,""),i=lt(n,"transpose_steps",3,0),u=lt(n,"format",19,()=>({})),a=Sn(()=>{let y={html:"",err:null};try{let S=br.parse(s());i()!=0&&br.transpose(S,i()),y.html=br.to_html(S)}catch(S){y.err=S.toString()}return y});function m(){let y="";return y+="meta-"+u().title_align+" ",u().use_colors===!0&&(y+="use-colors "),y}var w=ji(),b=K(w);{var g=y=>{var S=Mi(),L=K(S);Qt(()=>xt(L,V(a).err)),Mt(y,S)};Dr(b,y=>{V(a).err!==null&&y(g)})}var C=z(b,2),E=K(C);bi(E,()=>V(a).html),Qt(y=>Jt(C,1,y,"svelte-6ldd3k"),[m]),Mt(e,w),Se()}var Bi=jt(`<div class="cheatsheet svelte-lvi09b"><h1 class="svelte-lvi09b">ChordPro Cheat Sheet</h1> <p class="svelte-lvi09b"><b>Title</b> of the song:</p> <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Sub Title</b> - additional (less important) title of the song:</p> <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Author</b> of the song:</p> <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Chorus</b> is text between <i>start</i> and <i>end</i> identifiers (no empty lines allowed).</p> <pre class="svelte-lvi09b"></pre> or <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Chords</b> are inserted into the text between brackets <i>[</i> and <i>]</i> It is important to start each chord with capital letter to keep your text
machine readable and benefit from additional functionality (e.g.
transpositions). See example of verse with major and minor chords:</p> <pre class="svelte-lvi09b"></pre></div>`);function Ui(e){var n=Bi(),s=z(K(n),4);s.textContent=`{title: Song title}
`;var i=z(s,4);i.textContent=`{subtitle: Song subtitle}
`;var u=z(i,4);u.textContent=`{author: Bob Dylan}
`;var a=z(u,4);a.textContent=`{start_of_chorus}
First line of chorus
Second line of chorus
{end_of_chorus}
`;var m=z(a,2);m.textContent=`{soc}
First line of chorus
Second line of chorus
{eoc}
`;var w=z(m,4);w.textContent=`[Am]In my time of dying
[Am]I don't want nobody to mourn
[Am]All I want for you to do
Is [D]take my body [Am]home

`,Mt(e,n)}function Vi(){if("showSaveFilePicker"in window){const n={types:[{description:"Chordpro text file",accept:{"text/plain":[".txt"]}}]};return window.showSaveFilePicker(n)}const e={type:"save-file",accepts:[{description:"Text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function Gi(){if("showOpenFilePicker"in window){const n={types:[{description:"Chordpro",accept:{"text/plain":[".txt"]}}],excludeAcceptAllOption:!1,multiple:!1};return window.showOpenFilePicker(n).then(s=>s[0])}const e={type:"open-file",accepts:[{description:"Chordpro text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function $i(e){return e.text?e.text():new Promise(s=>{const i=new FileReader;i.addEventListener("loadend",function(){s(i.result)}),i.readAsText(e)})}function dn(e,n){e.createWriter?e.createWriter().then(function(s){s.write(0,n).then(function(){return s.close()})}):e.createWritable().then(function(s){s.write(n).then(function(){return s.close()})})}function Wi(e){return e.replace(/\r\n|\r/g,`
`)}const Yi=`{title: In My Time of Dyin'}
{artist: Bob Dylan}

[Am]In my time of dying
[Am]I don't want nobody to mourn
[Am]All I want for you to do
Is [D]take my body [Am]home

{start_of_chorus}
[Am]Well, well, well, so I can die easy
Well, well, [D]well, so I can die [Am]easy
[Am]Well, well, well, so I can die easy
[D]Jesus gonna make up my [G]dy[G#]ing [Am]bed
{end_of_chorus}

Well, meet me Jesus, meet me
Meet me in the middle of the air
If these wings should fail to me
Lord, won't you meet me with another pair

Lord, in my time of dying
I don't want nobody to cry
All I want you to do
Is take me when I die
`,Hi=`{title: Song Title}
{artist: Song Artist}

Verse [C]with [G]chods...

{start_of_chorus}
Chorus [C]with [G]chords ...
{end_of_chorus}

Verse...
`;var Ki=jt(`<!> <main class="svelte-1f1vxka"><div class="editor no-print svelte-1f1vxka"><textarea class="no-print svelte-1f1vxka">
        ></textarea> <!></div> <div class="preview svelte-1f1vxka"><!></div></main> <footer class="no-print svelte-1f1vxka"> </footer>`,1);function zi(e,n){ke(n,!0);let s=lt(n,"song",3,"");const i="chooseFileSystemEntries"in window||"showOpenFilePicker"in window;let u,a=yt(wt(s())),m=yt(wt(s())),w=yt(0),b=wt({title_align:"left",use_colors:!1}),g=wt({cheatsheet:!1});function C(){tt(a,Hi,!0)}async function E(){u=await Gi();try{let q=await u.getFile(),Z=await $i(q);tt(a,Wi(Z),!0)}catch(q){console.error("read failed: ",q)}}async function y(){if(u)try{await dn(u,V(a))}catch(q){const Z="Unable to save file";console.error(Z,q),alert(Z)}}async function S(){if(!i){console.error("this browser does not support access to file system");return}try{u=await Vi()}catch(q){if(q.name==="AbortError")return;const Z="An error occured trying to open the file.";console.error(Z,q),alert(Z);return}try{await dn(u,V(a))}catch(q){const Z="Unable to save file.";console.error(Z,q),alert(Z);return}}function L(q){tt(w,q,!0)}function N(q){q in b&&(b[q]=!b[q])}function D(q,Z){q in b&&(b[q]=Z)}function o(q){q in g&&(g[q]=!g[q])}var F;function R(q,Z,It){F&&clearTimeout(F),F=setTimeout(()=>{It(Z)},q)}wr(()=>{R(1e3,V(a),q=>{tt(m,q,!0)})});var j=Ki(),k=Ll(j);const T=Sn(()=>u&&u.name);Di(k,{get subtitle(){return V(T)},get format(){return b},get view(){return g},get transpose_steps(){return V(w)},on_open:E,on_new:C,on_save:y,on_save_as:S,on_transpose:L,on_format_toggle:N,on_format_set:D,on_view_toggle:o});var t=z(k,2),P=K(t),I=K(P),B=z(I,2);{var O=q=>{Ui(q)};Dr(B,q=>{g.cheatsheet&&q(O)})}var W=z(P,2),qt=K(W);qi(qt,{get source(){return V(m)},get transpose_steps(){return V(w)},get format(){return b}});var Bt=z(t,2),Ut=K(Bt);Qt(q=>xt(Ut,`BlueSoft © ${q??""}`),[()=>new Date().getFullYear()]),wi(I,()=>V(a),q=>tt(a,q)),Mt(e,j),Se()}ui(zi,{target:document.body,props:{song:Yi}});
