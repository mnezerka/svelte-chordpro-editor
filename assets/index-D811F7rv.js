(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const a of u)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(u){const a={};return u.integrity&&(a.integrity=u.integrity),u.referrerPolicy&&(a.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?a.credentials="include":u.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(u){if(u.ep)return;u.ep=!0;const a=s(u);fetch(u.href,a)}})();const Qr=!1;var Or=Array.isArray,oo=Array.prototype.indexOf,Fr=Array.from,lo=Object.defineProperty,Nt=Object.getOwnPropertyDescriptor,io=Object.getOwnPropertyDescriptors,ao=Object.prototype,uo=Array.prototype,pn=Object.getPrototypeOf,tn=Object.isExtensible;function Ae(e){return typeof e=="function"}function fo(e){return e()}function Cr(e){for(var n=0;n<e.length;n++)e[n]()}const Et=2,mn=4,ur=8,Ir=16,Ot=32,oe=64,tr=128,gt=256,er=512,mt=1024,Ft=2048,le=4096,Pt=8192,fr=16384,co=32768,Dr=65536,vo=1<<17,ho=1<<19,bn=1<<20,Er=1<<21,Ut=Symbol("$state"),gn=Symbol("legacy props");function yn(e){return e===this.v}function _o(e,n){return e!=e?n==n:e!==n||e!==null&&typeof e=="object"||typeof e=="function"}function Rr(e){return!_o(e,this.v)}function po(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function mo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function bo(e){throw new Error("https://svelte.dev/e/effect_orphan")}function go(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function yo(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function wo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ao(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function xo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Se=!1,Co=!1;function Eo(){Se=!0}const ko=1,So=2,Po=16,To=1,Oo=2,wn=4,Fo=8,Io=16,Do=1,Ro=2,dt=Symbol();let Q=null;function en(e){Q=e}function Pe(e,n=!1,s){var l=Q={p:Q,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Se&&!n&&(Q.l={s:null,u:null,r1:[],r2:ee(!1)}),In(()=>{l.d=!0})}function Te(e){const n=Q;if(n!==null){const m=n.e;if(m!==null){var s=J,l=H;n.e=null;try{for(var u=0;u<m.length;u++){var a=m[u];Lt(a.effect),kt(a.reaction),vr(a.fn)}}finally{Lt(s),kt(l)}}Q=n.p,n.m=!0}return{}}function Oe(){return!Se||Q!==null&&Q.l===null}function At(e){if(typeof e!="object"||e===null||Ut in e)return e;const n=pn(e);if(n!==ao&&n!==uo)return e;var s=new Map,l=Or(e),u=wt(0),a=H,m=y=>{var b=H;kt(a);var g=y();return kt(b),g};return l&&s.set("length",wt(e.length)),new Proxy(e,{defineProperty(y,b,g){(!("value"in g)||g.configurable===!1||g.enumerable===!1||g.writable===!1)&&wo();var C=s.get(b);return C===void 0?(C=m(()=>wt(g.value)),s.set(b,C)):rt(C,m(()=>At(g.value))),!0},deleteProperty(y,b){var g=s.get(b);if(g===void 0)b in y&&s.set(b,m(()=>wt(dt)));else{if(l&&typeof b=="string"){var C=s.get("length"),k=Number(b);Number.isInteger(k)&&k<C.v&&rt(C,k)}rt(g,dt),rn(u)}return!0},get(y,b,g){var E;if(b===Ut)return e;var C=s.get(b),k=b in y;if(C===void 0&&(!k||(E=Nt(y,b))!=null&&E.writable)&&(C=m(()=>wt(At(k?y[b]:dt))),s.set(b,C)),C!==void 0){var A=U(C);return A===dt?void 0:A}return Reflect.get(y,b,g)},getOwnPropertyDescriptor(y,b){var g=Reflect.getOwnPropertyDescriptor(y,b);if(g&&"value"in g){var C=s.get(b);C&&(g.value=U(C))}else if(g===void 0){var k=s.get(b),A=k==null?void 0:k.v;if(k!==void 0&&A!==dt)return{enumerable:!0,configurable:!0,value:A,writable:!0}}return g},has(y,b){var A;if(b===Ut)return!0;var g=s.get(b),C=g!==void 0&&g.v!==dt||Reflect.has(y,b);if(g!==void 0||J!==null&&(!C||(A=Nt(y,b))!=null&&A.writable)){g===void 0&&(g=m(()=>wt(C?At(y[b]):dt)),s.set(b,g));var k=U(g);if(k===dt)return!1}return C},set(y,b,g,C){var F;var k=s.get(b),A=b in y;if(l&&b==="length")for(var E=g;E<k.v;E+=1){var R=s.get(E+"");R!==void 0?rt(R,dt):E in y&&(R=m(()=>wt(dt)),s.set(E+"",R))}k===void 0?(!A||(F=Nt(y,b))!=null&&F.writable)&&(k=m(()=>wt(void 0)),rt(k,m(()=>At(g))),s.set(b,k)):(A=k.v!==dt,rt(k,m(()=>At(g))));var N=Reflect.getOwnPropertyDescriptor(y,b);if(N!=null&&N.set&&N.set.call(C,g),!A){if(l&&typeof b=="string"){var D=s.get("length"),i=Number(b);Number.isInteger(i)&&i>=D.v&&rt(D,i+1)}rn(u)}return!0},ownKeys(y){U(u);var b=Reflect.ownKeys(y).filter(k=>{var A=s.get(k);return A===void 0||A.v!==dt});for(var[g,C]of s)C.v!==dt&&!(g in y)&&b.push(g);return b},setPrototypeOf(){Ao()}})}function rn(e,n=1){rt(e,e.v+n)}const Ce=new Map;function ee(e,n){var s={f:0,v:e,reactions:null,equals:yn,rv:0,wv:0};return s}function wt(e,n){const s=ee(e);return qn(s),s}function Nr(e,n=!1){var l;const s=ee(e);return n||(s.equals=Rr),Se&&Q!==null&&Q.l!==null&&((l=Q.l).s??(l.s=[])).push(s),s}function rt(e,n,s=!1){H!==null&&!Ct&&Oe()&&(H.f&(Et|Ir))!==0&&!(ct!=null&&ct.includes(e))&&xo();let l=s?At(n):n;return An(e,l)}function An(e,n){if(!e.equals(n)){var s=e.v;Fe?Ce.set(e,n):Ce.set(e,s),e.v=n,e.wv=Vn(),xn(e,Ft),Oe()&&J!==null&&(J.f&mt)!==0&&(J.f&(Ot|oe))===0&&(bt===null?Ko([e]):bt.push(e))}return n}function nn(e,n=1){var s=U(e),l=n===1?s++:s--;return rt(e,s),l}function xn(e,n){var s=e.reactions;if(s!==null)for(var l=Oe(),u=s.length,a=0;a<u;a++){var m=s[a],y=m.f;(y&Ft)===0&&(!l&&m===J||(St(m,n),(y&(mt|gt))!==0&&((y&Et)!==0?xn(m,le):_r(m))))}}let No=!1;var sn,Cn,En,kn;function Lo(){if(sn===void 0){sn=window,Cn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,n=Node.prototype,s=Text.prototype;En=Nt(n,"firstChild").get,kn=Nt(n,"nextSibling").get,tn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),tn(s)&&(s.__t=void 0)}}function Sn(e=""){return document.createTextNode(e)}function Ee(e){return En.call(e)}function cr(e){return kn.call(e)}function $(e,n){return Ee(e)}function Mo(e,n){{var s=Ee(e);return s instanceof Comment&&s.data===""?cr(s):s}}function W(e,n=1,s=!1){let l=e;for(;n--;)l=cr(l);return l}function jo(e){e.textContent=""}function re(e){var n=Et|Ft,s=H!==null&&(H.f&Et)!==0?H:null;return J===null||s!==null&&(s.f&gt)!==0?n|=gt:J.f|=bn,{ctx:Q,deps:null,effects:null,equals:yn,f:n,fn:e,reactions:null,rv:0,v:null,wv:0,parent:s??J}}function Pn(e){const n=re(e);return qn(n),n}function rr(e){const n=re(e);return n.equals=Rr,n}function Tn(e){var n=e.effects;if(n!==null){e.effects=null;for(var s=0;s<n.length;s+=1)Tt(n[s])}}function qo(e){for(var n=e.parent;n!==null;){if((n.f&Et)===0)return n;n=n.parent}return null}function Bo(e){var n,s=J;Lt(qo(e));try{Tn(e),n=Gn(e)}finally{Lt(s)}return n}function On(e){var n=Bo(e),s=(Rt||(e.f&gt)!==0)&&e.deps!==null?le:mt;St(e,s),e.equals(n)||(e.v=n,e.wv=Vn())}function Fn(e){J===null&&H===null&&bo(),H!==null&&(H.f&gt)!==0&&J===null&&mo(),Fe&&po()}function Vo(e,n){var s=n.last;s===null?n.last=n.first=e:(s.next=e,e.prev=s,n.last=e)}function ie(e,n,s,l=!0){var u=J,a={ctx:Q,deps:null,nodes_start:null,nodes_end:null,f:e|Ft,first:null,fn:n,last:null,next:null,parent:u,prev:null,teardown:null,transitions:null,wv:0};if(s)try{Mr(a),a.f|=co}catch(b){throw Tt(a),b}else n!==null&&_r(a);var m=s&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(bn|tr))===0;if(!m&&l&&(u!==null&&Vo(a,u),H!==null&&(H.f&Et)!==0)){var y=H;(y.effects??(y.effects=[])).push(a)}return a}function In(e){const n=ie(ur,null,!1);return St(n,mt),n.teardown=e,n}function kr(e){Fn();var n=J!==null&&(J.f&Ot)!==0&&Q!==null&&!Q.m;if(n){var s=Q;(s.e??(s.e=[])).push({fn:e,effect:J,reaction:H})}else{var l=vr(e);return l}}function Uo(e){return Fn(),Dn(e)}function Go(e){const n=ie(oe,e,!0);return(s={})=>new Promise(l=>{s.outro?nr(n,()=>{Tt(n),l(void 0)}):(Tt(n),l(void 0))})}function vr(e){return ie(mn,e,!1)}function Dn(e){return ie(ur,e,!0)}function ne(e,n=[],s=re){const l=n.map(s);return dr(()=>e(...l.map(U)))}function dr(e,n=0){return ie(ur|Ir|n,e,!0)}function se(e,n=!0){return ie(ur|Ot,e,!0,n)}function Rn(e){var n=e.teardown;if(n!==null){const s=Fe,l=H;on(!0),kt(null);try{n.call(null)}finally{on(s),kt(l)}}}function Nn(e,n=!1){var s=e.first;for(e.first=e.last=null;s!==null;){var l=s.next;(s.f&oe)!==0?s.parent=null:Tt(s,n),s=l}}function $o(e){for(var n=e.first;n!==null;){var s=n.next;(n.f&Ot)===0&&Tt(n),n=s}}function Tt(e,n=!0){var s=!1;if((n||(e.f&ho)!==0)&&e.nodes_start!==null){for(var l=e.nodes_start,u=e.nodes_end;l!==null;){var a=l===u?null:cr(l);l.remove(),l=a}s=!0}Nn(e,n&&!s),ar(e,0),St(e,fr);var m=e.transitions;if(m!==null)for(const b of m)b.stop();Rn(e);var y=e.parent;y!==null&&y.first!==null&&Ln(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ln(e){var n=e.parent,s=e.prev,l=e.next;s!==null&&(s.next=l),l!==null&&(l.prev=s),n!==null&&(n.first===e&&(n.first=l),n.last===e&&(n.last=s))}function nr(e,n){var s=[];Lr(e,s,!0),Mn(s,()=>{Tt(e),n&&n()})}function Mn(e,n){var s=e.length;if(s>0){var l=()=>--s||n();for(var u of e)u.out(l)}else n()}function Lr(e,n,s){if((e.f&Pt)===0){if(e.f^=Pt,e.transitions!==null)for(const m of e.transitions)(m.is_global||s)&&n.push(m);for(var l=e.first;l!==null;){var u=l.next,a=(l.f&Dr)!==0||(l.f&Ot)!==0;Lr(l,n,a?s:!1),l=u}}}function sr(e){jn(e,!0)}function jn(e,n){if((e.f&Pt)!==0){e.f^=Pt,(e.f&mt)===0&&(e.f^=mt),Ie(e)&&(St(e,Ft),_r(e));for(var s=e.first;s!==null;){var l=s.next,u=(s.f&Dr)!==0||(s.f&Ot)!==0;jn(s,u?n:!1),s=l}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&a.in()}}let or=[];function Wo(){var e=or;or=[],Cr(e)}function Yo(e){or.length===0&&queueMicrotask(Wo),or.push(e)}let Xe=!1,Sr=!1,lr=null,Gt=!1,Fe=!1;function on(e){Fe=e}let Qe=[];let H=null,Ct=!1;function kt(e){H=e}let J=null;function Lt(e){J=e}let ct=null;function Ho(e){ct=e}function qn(e){H!==null&&H.f&Er&&(ct===null?Ho([e]):ct.push(e))}let ft=null,_t=0,bt=null;function Ko(e){bt=e}let Bn=1,ir=0,Rt=!1;function Vn(){return++Bn}function Ie(e){var k;var n=e.f;if((n&Ft)!==0)return!0;if((n&le)!==0){var s=e.deps,l=(n&gt)!==0;if(s!==null){var u,a,m=(n&er)!==0,y=l&&J!==null&&!Rt,b=s.length;if(m||y){var g=e,C=g.parent;for(u=0;u<b;u++)a=s[u],(m||!((k=a==null?void 0:a.reactions)!=null&&k.includes(g)))&&(a.reactions??(a.reactions=[])).push(g);m&&(g.f^=er),y&&C!==null&&(C.f&gt)===0&&(g.f^=gt)}for(u=0;u<b;u++)if(a=s[u],Ie(a)&&On(a),a.wv>e.wv)return!0}(!l||J!==null&&!Rt)&&St(e,mt)}return!1}function zo(e,n){for(var s=n;s!==null;){if((s.f&tr)!==0)try{s.fn(e);return}catch{s.f^=tr}s=s.parent}throw Xe=!1,e}function Jo(e){return(e.f&fr)===0&&(e.parent===null||(e.parent.f&tr)===0)}function hr(e,n,s,l){if(Xe){if(s===null&&(Xe=!1),Jo(n))throw e;return}s!==null&&(Xe=!0);{zo(e,n);return}}function Un(e,n,s=!0){var l=e.reactions;if(l!==null)for(var u=0;u<l.length;u++){var a=l[u];ct!=null&&ct.includes(e)||((a.f&Et)!==0?Un(a,n,!1):n===a&&(s?St(a,Ft):(a.f&mt)!==0&&St(a,le),_r(a)))}}function Gn(e){var E;var n=ft,s=_t,l=bt,u=H,a=Rt,m=ct,y=Q,b=Ct,g=e.f;ft=null,_t=0,bt=null,Rt=(g&gt)!==0&&(Ct||!Gt||H===null),H=(g&(Ot|oe))===0?e:null,ct=null,en(e.ctx),Ct=!1,ir++,e.f|=Er;try{var C=(0,e.fn)(),k=e.deps;if(ft!==null){var A;if(ar(e,_t),k!==null&&_t>0)for(k.length=_t+ft.length,A=0;A<ft.length;A++)k[_t+A]=ft[A];else e.deps=k=ft;if(!Rt)for(A=_t;A<k.length;A++)((E=k[A]).reactions??(E.reactions=[])).push(e)}else k!==null&&_t<k.length&&(ar(e,_t),k.length=_t);if(Oe()&&bt!==null&&!Ct&&k!==null&&(e.f&(Et|le|Ft))===0)for(A=0;A<bt.length;A++)Un(bt[A],e);return u!==e&&(ir++,bt!==null&&(l===null?l=bt:l.push(...bt))),C}finally{ft=n,_t=s,bt=l,H=u,Rt=a,ct=m,en(y),Ct=b,e.f^=Er}}function Zo(e,n){let s=n.reactions;if(s!==null){var l=oo.call(s,e);if(l!==-1){var u=s.length-1;u===0?s=n.reactions=null:(s[l]=s[u],s.pop())}}s===null&&(n.f&Et)!==0&&(ft===null||!ft.includes(n))&&(St(n,le),(n.f&(gt|er))===0&&(n.f^=er),Tn(n),ar(n,0))}function ar(e,n){var s=e.deps;if(s!==null)for(var l=n;l<s.length;l++)Zo(e,s[l])}function Mr(e){var n=e.f;if((n&fr)===0){St(e,mt);var s=J,l=Q,u=Gt;J=e,Gt=!0;try{(n&Ir)!==0?$o(e):Nn(e),Rn(e);var a=Gn(e);e.teardown=typeof a=="function"?a:null,e.wv=Bn;var m=e.deps,y;Qr&&Co&&e.f&Ft}catch(b){hr(b,e,s,l||e.ctx)}finally{Gt=u,J=s}}}function Xo(){try{go()}catch(e){if(lr!==null)hr(e,lr,null);else throw e}}function Qo(){var e=Gt;try{var n=0;for(Gt=!0;Qe.length>0;){n++>1e3&&Xo();var s=Qe,l=s.length;Qe=[];for(var u=0;u<l;u++){var a=el(s[u]);tl(a)}Ce.clear()}}finally{Sr=!1,Gt=e,lr=null}}function tl(e){var n=e.length;if(n!==0)for(var s=0;s<n;s++){var l=e[s];if((l.f&(fr|Pt))===0)try{Ie(l)&&(Mr(l),l.deps===null&&l.first===null&&l.nodes_start===null&&(l.teardown===null?Ln(l):l.fn=null))}catch(u){hr(u,l,null,l.ctx)}}}function _r(e){Sr||(Sr=!0,queueMicrotask(Qo));for(var n=lr=e;n.parent!==null;){n=n.parent;var s=n.f;if((s&(oe|Ot))!==0){if((s&mt)===0)return;n.f^=mt}}Qe.push(n)}function el(e){for(var n=[],s=e;s!==null;){var l=s.f,u=(l&(Ot|oe))!==0,a=u&&(l&mt)!==0;if(!a&&(l&Pt)===0){if((l&mn)!==0)n.push(s);else if(u)s.f^=mt;else{var m=H;try{H=s,Ie(s)&&Mr(s)}catch(g){hr(g,s,null,s.ctx)}finally{H=m}}var y=s.first;if(y!==null){s=y;continue}}var b=s.parent;for(s=s.next;s===null&&b!==null;)s=b.next,b=b.parent}return n}function U(e){var n=e.f,s=(n&Et)!==0;if(H!==null&&!Ct){if(!(ct!=null&&ct.includes(e))){var l=H.deps;e.rv<ir&&(e.rv=ir,ft===null&&l!==null&&l[_t]===e?_t++:ft===null?ft=[e]:(!Rt||!ft.includes(e))&&ft.push(e))}}else if(s&&e.deps===null&&e.effects===null){var u=e,a=u.parent;a!==null&&(a.f&gt)===0&&(u.f^=gt)}return s&&(u=e,Ie(u)&&On(u)),Fe&&Ce.has(e)?Ce.get(e):e.v}function ke(e){var n=Ct;try{return Ct=!0,e()}finally{Ct=n}}const rl=-7169;function St(e,n){e.f=e.f&rl|n}function nl(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ut in e)Pr(e);else if(!Array.isArray(e))for(let n in e){const s=e[n];typeof s=="object"&&s&&Ut in s&&Pr(s)}}}function Pr(e,n=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!n.has(e)){n.add(e),e instanceof Date&&e.getTime();for(let l in e)try{Pr(e[l],n)}catch{}const s=pn(e);if(s!==Object.prototype&&s!==Array.prototype&&s!==Map.prototype&&s!==Set.prototype&&s!==Date.prototype){const l=io(s);for(let u in l){const a=l[u].get;if(a)try{a.call(e)}catch{}}}}}const sl=["touchstart","touchmove"];function ol(e){return sl.includes(e)}let ln=!1;function ll(){ln||(ln=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var n;if(!e.defaultPrevented)for(const s of e.target.elements)(n=s.__on_r)==null||n.call(s)})},{capture:!0}))}function $n(e){var n=H,s=J;kt(null),Lt(null);try{return e()}finally{kt(n),Lt(s)}}function il(e,n,s,l=s){e.addEventListener(n,()=>$n(s));const u=e.__on_r;u?e.__on_r=()=>{u(),l(!0)}:e.__on_r=()=>l(!0),ll()}const al=new Set,an=new Set;function ul(e,n,s,l={}){function u(a){if(l.capture||xe.call(n,a),!a.cancelBubble)return $n(()=>s==null?void 0:s.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Yo(()=>{n.addEventListener(e,u,l)}):n.addEventListener(e,u,l),u}function et(e,n,s,l,u){var a={capture:l,passive:u},m=ul(e,n,s,a);(n===document.body||n===window||n===document)&&In(()=>{n.removeEventListener(e,m,a)})}function xe(e){var F;var n=this,s=n.ownerDocument,l=e.type,u=((F=e.composedPath)==null?void 0:F.call(e))||[],a=u[0]||e.target,m=0,y=e.__root;if(y){var b=u.indexOf(y);if(b!==-1&&(n===document||n===window)){e.__root=n;return}var g=u.indexOf(n);if(g===-1)return;b<=g&&(m=b)}if(a=u[m]||e.target,a!==n){lo(e,"currentTarget",{configurable:!0,get(){return a||s}});var C=H,k=J;kt(null),Lt(null);try{for(var A,E=[];a!==null;){var R=a.assignedSlot||a.parentNode||a.host||null;try{var N=a["__"+l];if(N!=null&&(!a.disabled||e.target===a))if(Or(N)){var[D,...i]=N;D.apply(a,[e,...i])}else N.call(a,e)}catch(L){A?E.push(L):A=L}if(e.cancelBubble||R===n||R===null)break;a=R}if(A){for(let L of E)queueMicrotask(()=>{throw L});throw A}}finally{e.__root=n,delete e.currentTarget,kt(C),Lt(k)}}}function Wn(e){var n=document.createElement("template");return n.innerHTML=e,n.content}function Tr(e,n){var s=J;s.nodes_start===null&&(s.nodes_start=e,s.nodes_end=n)}function jt(e,n){var s=(n&Do)!==0,l=(n&Ro)!==0,u,a=!e.startsWith("<!>");return()=>{u===void 0&&(u=Wn(a?e:"<!>"+e),s||(u=Ee(u)));var m=l||Cn?document.importNode(u,!0):u.cloneNode(!0);if(s){var y=Ee(m),b=m.lastChild;Tr(y,b)}else Tr(m,m);return m}}function Mt(e,n){e!==null&&e.before(n)}function pt(e,n){var s=n==null?"":typeof n=="object"?n+"":n;s!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=s,e.nodeValue=s+"")}function fl(e,n){return cl(e,n)}const Qt=new Map;function cl(e,{target:n,anchor:s,props:l={},events:u,context:a,intro:m=!0}){Lo();var y=new Set,b=k=>{for(var A=0;A<k.length;A++){var E=k[A];if(!y.has(E)){y.add(E);var R=ol(E);n.addEventListener(E,xe,{passive:R});var N=Qt.get(E);N===void 0?(document.addEventListener(E,xe,{passive:R}),Qt.set(E,1)):Qt.set(E,N+1)}}};b(Fr(al)),an.add(b);var g=void 0,C=Go(()=>{var k=s??n.appendChild(Sn());return se(()=>{if(a){Pe({});var A=Q;A.c=a}u&&(l.$$events=u),g=e(k,l)||{},a&&Te()}),()=>{var R;for(var A of y){n.removeEventListener(A,xe);var E=Qt.get(A);--E===0?(document.removeEventListener(A,xe),Qt.delete(A)):Qt.set(A,E)}an.delete(b),k!==s&&((R=k.parentNode)==null||R.removeChild(k))}});return vl.set(g,C),g}let vl=new WeakMap;function jr(e,n,[s,l]=[0,0]){var u=e,a=null,m=null,y=dt,b=s>0?Dr:0,g=!1;const C=(A,E=!0)=>{g=!0,k(E,A)},k=(A,E)=>{y!==(y=A)&&(y?(a?sr(a):E&&(a=se(()=>E(u))),m&&nr(m,()=>{m=null})):(m?sr(m):E&&(m=se(()=>E(u,[s+1,l]))),a&&nr(a,()=>{a=null})))};dr(()=>{g=!1,n(C),g||k(null,null)},b)}function dl(e,n){return n}function hl(e,n,s,l){for(var u=[],a=n.length,m=0;m<a;m++)Lr(n[m].e,u,!0);var y=a>0&&u.length===0&&s!==null;if(y){var b=s.parentNode;jo(b),b.append(s),l.clear(),Dt(e,n[0].prev,n[a-1].next)}Mn(u,()=>{for(var g=0;g<a;g++){var C=n[g];y||(l.delete(C.k),Dt(e,C.prev,C.next)),Tt(C.e,!y)}})}function _l(e,n,s,l,u,a=null){var m=e,y={flags:n,items:new Map,first:null};{var b=e;m=b.appendChild(Sn())}var g=null,C=!1,k=rr(()=>{var A=s();return Or(A)?A:A==null?[]:Fr(A)});dr(()=>{var A=U(k),E=A.length;C&&E===0||(C=E===0,pl(A,y,m,u,n,l,s),a!==null&&(E===0?g?sr(g):g=se(()=>a(m)):g!==null&&nr(g,()=>{g=null})),U(k))})}function pl(e,n,s,l,u,a,m){var y=e.length,b=n.items,g=n.first,C=g,k,A=null,E=[],R=[],N,D,i,F;for(F=0;F<y;F+=1){if(N=e[F],D=a(N,F),i=b.get(D),i===void 0){var L=C?C.e.nodes_start:s;A=bl(L,n,A,A===null?n.first:A.next,N,D,F,l,u,m),b.set(D,A),E=[],R=[],C=A.next;continue}if(ml(i,N,F),(i.e.f&Pt)!==0&&sr(i.e),i!==C){if(k!==void 0&&k.has(i)){if(E.length<R.length){var j=R[0],S;A=j.prev;var T=E[0],t=E[E.length-1];for(S=0;S<E.length;S+=1)un(E[S],j,s);for(S=0;S<R.length;S+=1)k.delete(R[S]);Dt(n,T.prev,t.next),Dt(n,A,T),Dt(n,t,j),C=j,A=t,F-=1,E=[],R=[]}else k.delete(i),un(i,C,s),Dt(n,i.prev,i.next),Dt(n,i,A===null?n.first:A.next),Dt(n,A,i),A=i;continue}for(E=[],R=[];C!==null&&C.k!==D;)(C.e.f&Pt)===0&&(k??(k=new Set)).add(C),R.push(C),C=C.next;if(C===null)continue;i=C}E.push(i),A=i,C=i.next}if(C!==null||k!==void 0){for(var P=k===void 0?[]:Fr(k);C!==null;)(C.e.f&Pt)===0&&P.push(C),C=C.next;var I=P.length;if(I>0){var B=y===0?s:null;hl(n,P,B,b)}}J.first=n.first&&n.first.e,J.last=A&&A.e}function ml(e,n,s,l){An(e.v,n),e.i=s}function bl(e,n,s,l,u,a,m,y,b,g){var C=(b&ko)!==0,k=(b&Po)===0,A=C?k?Nr(u):ee(u):u,E=(b&So)===0?m:ee(m),R={i:E,v:A,k:a,a:null,e:null,prev:s,next:l};try{return R.e=se(()=>y(e,A,E,g),No),R.e.prev=s&&s.e,R.e.next=l&&l.e,s===null?n.first=R:(s.next=R,s.e.next=R.e),l!==null&&(l.prev=R,l.e.prev=R.e),R}finally{}}function un(e,n,s){for(var l=e.next?e.next.e.nodes_start:s,u=n?n.e.nodes_start:s,a=e.e.nodes_start;a!==l;){var m=cr(a);u.before(a),a=m}}function Dt(e,n,s){n===null?e.first=s:(n.next=s,n.e.next=s&&s.e),s!==null&&(s.prev=n,s.e.prev=n&&n.e)}function gl(e,n,s,l,u){var a=e,m="",y;dr(()=>{m!==(m=n()??"")&&(y!==void 0&&(Tt(y),y=void 0),m!==""&&(y=se(()=>{var b=m+"",g=Wn(b);Tr(Ee(g),g.lastChild),a.before(g)})))})}function yl(e,n,s){vr(()=>{var l=ke(()=>n(e,s==null?void 0:s())||{});if(l!=null&&l.destroy)return()=>l.destroy()})}const fn=[...` 	
\r\f \v\uFEFF`];function wl(e,n,s){var l=e==null?"":""+e;if(n&&(l=l?l+" "+n:n),s){for(var u in s)if(s[u])l=l?l+" "+u:u;else if(l.length)for(var a=u.length,m=0;(m=l.indexOf(u,m))>=0;){var y=m+a;(m===0||fn.includes(l[m-1]))&&(y===l.length||fn.includes(l[y]))?l=(m===0?"":l.substring(0,m))+l.substring(y+1):m=y}}return l===""?null:l}function te(e,n,s,l,u,a){var m=e.__className;if(m!==s||m===void 0){var y=wl(s,l,a);y==null?e.removeAttribute("class"):e.className=y,e.__className=s}else if(a&&u!==a)for(var b in a){var g=!!a[b];(u==null||g!==!!u[b])&&e.classList.toggle(b,g)}return a}function Al(e,n,s=n){var l=Oe();il(e,"input",u=>{var a=u?e.defaultValue:e.value;if(a=wr(e)?Ar(a):a,s(a),l&&a!==(a=n())){var m=e.selectionStart,y=e.selectionEnd;e.value=a??"",y!==null&&(e.selectionStart=m,e.selectionEnd=Math.min(y,e.value.length))}}),ke(n)==null&&e.value&&s(wr(e)?Ar(e.value):e.value),Dn(()=>{var u=n();wr(e)&&u===Ar(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function wr(e){var n=e.type;return n==="number"||n==="range"}function Ar(e){return e===""?null:+e}function Yn(e=!1){const n=Q,s=n.l.u;if(!s)return;let l=()=>nl(n.s);if(e){let u=0,a={};const m=re(()=>{let y=!1;const b=n.s;for(const g in b)b[g]!==a[g]&&(a[g]=b[g],y=!0);return y&&u++,u});l=()=>U(m)}s.b.length&&Uo(()=>{cn(n,l),Cr(s.b)}),kr(()=>{const u=ke(()=>s.m.map(fo));return()=>{for(const a of u)typeof a=="function"&&a()}}),s.a.length&&kr(()=>{cn(n,l),Cr(s.a)})}function cn(e,n){if(e.l.s)for(const s of e.l.s)U(s);n()}let Je=!1;function xl(e){var n=Je;try{return Je=!1,[e(),Je]}finally{Je=n}}const Cl={get(e,n){if(!e.exclude.includes(n))return U(e.version),n in e.special?e.special[n]():e.props[n]},set(e,n,s){return n in e.special||(e.special[n]=lt({get[n](){return e.props[n]}},n,wn)),e.special[n](s),nn(e.version),!0},getOwnPropertyDescriptor(e,n){if(!e.exclude.includes(n)&&n in e.props)return{enumerable:!0,configurable:!0,value:e.props[n]}},deleteProperty(e,n){return e.exclude.includes(n)||(e.exclude.push(n),nn(e.version)),!0},has(e,n){return e.exclude.includes(n)?!1:n in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(n=>!e.exclude.includes(n))}};function El(e,n){return new Proxy({props:e,exclude:n,special:{},version:ee(0)},Cl)}const kl={get(e,n){let s=e.props.length;for(;s--;){let l=e.props[s];if(Ae(l)&&(l=l()),typeof l=="object"&&l!==null&&n in l)return l[n]}},set(e,n,s){let l=e.props.length;for(;l--;){let u=e.props[l];Ae(u)&&(u=u());const a=Nt(u,n);if(a&&a.set)return a.set(s),!0}return!1},getOwnPropertyDescriptor(e,n){let s=e.props.length;for(;s--;){let l=e.props[s];if(Ae(l)&&(l=l()),typeof l=="object"&&l!==null&&n in l){const u=Nt(l,n);return u&&!u.configurable&&(u.configurable=!0),u}}},has(e,n){if(n===Ut||n===gn)return!1;for(let s of e.props)if(Ae(s)&&(s=s()),s!=null&&n in s)return!0;return!1},ownKeys(e){const n=[];for(let s of e.props){Ae(s)&&(s=s());for(const l in s)n.includes(l)||n.push(l)}return n}};function Sl(...e){return new Proxy({props:e},kl)}function vn(e){var n;return((n=e.ctx)==null?void 0:n.d)??!1}function lt(e,n,s,l){var T;var u=(s&To)!==0,a=!Se||(s&Oo)!==0,m=(s&Fo)!==0,y=(s&Io)!==0,b=!1,g;m?[g,b]=xl(()=>e[n]):g=e[n];var C=Ut in e||gn in e,k=m&&(((T=Nt(e,n))==null?void 0:T.set)??(C&&n in e&&(t=>e[n]=t)))||void 0,A=l,E=!0,R=!1,N=()=>(R=!0,E&&(E=!1,y?A=ke(l):A=l),A);g===void 0&&l!==void 0&&(k&&a&&yo(),g=N(),k&&k(g));var D;if(a)D=()=>{var t=e[n];return t===void 0?N():(E=!0,R=!1,t)};else{var i=(u?re:rr)(()=>e[n]);i.f|=vo,D=()=>{var t=U(i);return t!==void 0&&(A=void 0),t===void 0?A:t}}if((s&wn)===0)return D;if(k){var F=e.$$legacy;return function(t,P){return arguments.length>0?((!a||!P||F||b)&&k(P?D():t),t):D()}}var L=!1,j=Nr(g),S=re(()=>{var t=D(),P=U(j);return L?(L=!1,P):j.v=t});return m&&U(S),u||(S.equals=Rr),function(t,P){if(arguments.length>0){const I=P?U(S):a&&m?At(t):t;if(!S.equals(I)){if(L=!0,rt(j,I),R&&A!==void 0&&(A=I),vn(S))return t;ke(()=>U(S))}return t}return vn(S)?S.v:U(S)}}const Pl="5";var _n;typeof window<"u"&&((_n=window.__svelte??(window.__svelte={})).v??(_n.v=new Set)).add(Pl);Eo();var Tl=jt('<button class="svelte-kn1b4h"> </button>'),Ol=jt('<nav class="menu svelte-kn1b4h"><div class="menu-container svelte-kn1b4h"><div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">File</button> <div><button class="svelte-kn1b4h">New</button> <button class="svelte-kn1b4h">Open..</button> <button class="svelte-kn1b4h">Save</button> <button class="svelte-kn1b4h">Save as..</button></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h"> </button> <div></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">Format</button> <div><button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button> <hr class="svelte-kn1b4h"> <button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">View</button> <div><button class="svelte-kn1b4h"> </button> <hr class="svelte-kn1b4h"> <button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">Help</button> <div><a href="https://www.chordpro.org/chordpro/" class="svelte-kn1b4h">ChordPro Format</a> <a href="https://github.com/mnezerka/svelte-chordpro-editor" class="svelte-kn1b4h">Github Repository</a></div></div></div></nav>');function Fl(e,n){Pe(n,!1);let s=lt(n,"transpose_steps",8,0),l=lt(n,"format",24,()=>({})),u=lt(n,"view",24,()=>({})),a=lt(n,"on_new",8,()=>{}),m=lt(n,"on_open",8,()=>{}),y=lt(n,"on_save",8,()=>{}),b=lt(n,"on_save_as",8,()=>{}),g=lt(n,"on_transpose",8,()=>{}),C=lt(n,"on_format_toggle",8,()=>{}),k=lt(n,"on_format_set",8,()=>{}),A=lt(n,"on_view_toggle",8,()=>{}),E=Nr(null);const R=[-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6];function N(z){U(E)===z?rt(E,null):rt(E,z)}function D(z,X,ut){rt(E,null),z(X,ut)}function i(z){const X=ut=>{z.contains(ut.target)||z.dispatchEvent(new CustomEvent("outclick"))};return document.addEventListener("click",X,!0),{destroy(){document.removeEventListener("click",X,!0)}}}const F=()=>{rt(E,null)};function L(z,X){return z<0?"-"+z:z>0?"+"+z:X!==void 0?X:"no transposition"}function j(z){return T(L(z),z==s())}function S(){let z="Transpose",X=L(s(),"");return X&&(z+=" ("+X+")"),z}function T(z,X){let ut=z;return X&&(ut+=" ✓"),ut}Yn();var t=Ol(),P=$(t),I=$(P),B=$(I),O=W(B,2);let K;var qt=$(O),Bt=W(qt,2),Vt=W(Bt,2),q=W(Vt,2),Z=W(I,2),It=$(Z),De=$(It),ae=W(It,2);let ue;_l(ae,5,()=>R,dl,(z,X)=>{var ut=Tl(),we=$(ut);ne(G=>pt(we,G),[()=>j(U(X))],rr),et("click",ut,()=>{D(g(),U(X))}),Mt(z,ut)});var fe=W(Z,2),ce=$(fe),ve=W(ce,2);let de;var $t=$(ve),Re=$($t),Wt=W($t,2),Ne=$(Wt),Yt=W(Wt,2),Le=$(Yt),Ht=W(Yt,4),Me=$(Ht),he=W(Ht,2),je=$(he),_e=W(fe,2),pe=$(_e),me=W(pe,2);let be;var Kt=$(me),qe=$(Kt),zt=W(Kt,4),Be=$(zt),ge=W(zt,2),Ve=$(ge),Ue=W(_e,2),Ge=$(Ue),pr=W(Ge,2);let ye;yl(t,z=>i==null?void 0:i(z)),vr(()=>et("outclick",t,()=>F())),ne((z,X,ut,we,G,$e,We,Ye,He,Jt,mr,tt,it,Y)=>{K=te(O,1,"menu-item-container svelte-kn1b4h",null,K,z),pt(De,X),ue=te(ae,1,"menu-item-container svelte-kn1b4h",null,ue,ut),de=te(ve,1,"menu-item-container svelte-kn1b4h",null,de,we),pt(Re,G),pt(Ne,$e),pt(Le,We),pt(Me,Ye),pt(je,He),be=te(me,1,"menu-item-container svelte-kn1b4h",null,be,Jt),pt(qe,mr),pt(Be,tt),pt(Ve,it),ye=te(pr,1,"menu-item-container svelte-kn1b4h",null,ye,Y)},[()=>({hidden:U(E)!=="file"}),S,()=>({hidden:U(E)!=="transpose"}),()=>({hidden:U(E)!=="format"}),()=>T("Title Left",l().title_align=="left"),()=>T("Title Center",l().title_align=="center"),()=>T("Title Right",l().title_align=="right"),()=>T("Color Title",l().color_title),()=>T("Color Chords",l().color_chords),()=>({hidden:U(E)!=="view"}),()=>T("ChordPro Cheat Sheet",u().cheatsheet),()=>T("Show Artist",u().show_artist),()=>T("Show Chords",u().show_chords),()=>({hidden:U(E)!=="help"})],rr),et("click",B,()=>{N("file")}),et("click",qt,()=>{D(a())}),et("click",Bt,()=>{D(m())}),et("click",Vt,()=>{D(y())}),et("click",q,()=>{D(b())}),et("click",It,()=>{N("transpose")}),et("click",ce,()=>{N("format")}),et("click",$t,()=>{D(k(),"title_align","left")}),et("click",Wt,()=>{D(k(),"title_align","center")}),et("click",Yt,()=>{D(k(),"title_align","right")}),et("click",Ht,()=>{D(C(),"color_title")}),et("click",he,()=>{D(C(),"color_chords")}),et("click",pe,()=>{N("view")}),et("click",Kt,()=>{D(A(),"cheatsheet")}),et("click",zt,()=>{D(A(),"show_artist")}),et("click",ge,()=>{D(A(),"show_chords")}),et("click",Ge,()=>{N("help")}),Mt(e,t),Te()}var Il=jt('<span class="sub"> </span>'),Dl=jt('<nav class="no-print svelte-dzut9y"><div class="title svelte-dzut9y"><span class="main svelte-dzut9y">ChordPro Editor</span> <!></div> <!></nav>');function Rl(e,n){const s=El(n,["children","$$slots","$$events","$$legacy"]);Pe(n,!1);let l=lt(n,"subtitle",8,"");Yn();var u=Dl(),a=$(u),m=W($(a),2);{var y=g=>{var C=Il(),k=$(C);ne(()=>pt(k,`- ${l()??""}`)),Mt(g,C)};jr(m,g=>{l().length>0&&g(y)})}var b=W(a,2);Fl(b,Sl(()=>s)),Mt(e,u),Te()}function Nl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ze={},dn;function Ll(){if(dn)return Ze;dn=1;function e(N){return N&&N.__esModule&&Object.prototype.hasOwnProperty.call(N,"default")?N.default:N}Object.defineProperty(Ze,"__esModule",{value:!0});var n,s,l,u,a,m,y,b,g,C={};function k(){if(s)return n;function N(i,F,L,j){var S=Error.call(this,i);return Object.setPrototypeOf&&Object.setPrototypeOf(S,N.prototype),S.expected=F,S.found=L,S.location=j,S.name="SyntaxError",S}function D(i,F,L){return L=L||" ",i.length>F?i:(F-=i.length,i+(L+=L.repeat(F)).slice(0,F))}return s=1,function(i,F){function L(){this.constructor=i}L.prototype=F.prototype,i.prototype=new L}(N,Error),N.prototype.format=function(i){var F="Error: "+this.message;if(this.location){var L,j=null;for(L=0;L<i.length;L++)if(i[L].source===this.location.source){j=i[L].text.split(/\r\n|\n|\r/g);break}var S=this.location.start,T=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(S):S,t=this.location.source+":"+T.line+":"+T.column;if(j){var P=this.location.end,I=D("",T.line.toString().length," "),B=j[S.line-1],O=(S.line===P.line?P.column:B.length+1)-S.column||1;F+=`
 --> `+t+`
`+I+` |
`+T.line+" | "+B+`
`+I+" | "+D("",S.column-1," ")+D("",O,"^")}else F+=`
 at `+t}return F},N.buildMessage=function(i,F){var L={literal:function(P){return'"'+S(P.text)+'"'},class:function(P){var I=P.parts.map(function(B){return Array.isArray(B)?T(B[0])+"-"+T(B[1]):T(B)});return"["+(P.inverted?"^":"")+I.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(P){return P.description}};function j(P){return P.charCodeAt(0).toString(16).toUpperCase()}function S(P){return P.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(I){return"\\x0"+j(I)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(I){return"\\x"+j(I)})}function T(P){return P.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(I){return"\\x0"+j(I)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(I){return"\\x"+j(I)})}function t(P){return L[P.type](P)}return"Expected "+function(P){var I,B,O=P.map(t);if(O.sort(),O.length>0){for(I=1,B=1;I<O.length;I++)O[I-1]!==O[I]&&(O[B]=O[I],B++);O.length=B}switch(O.length){case 1:return O[0];case 2:return O[0]+" or "+O[1];default:return O.slice(0,-1).join(", ")+", or "+O[O.length-1]}}(i)+" but "+function(P){return P?'"'+S(P)+'"':"end of input"}(F)+" found."},n={StartRules:["All"],SyntaxError:N,parse:function(i,F){var L,j,S,T,t={},P=(F=F!==void 0?F:{}).grammarSource,I={All:Kr},B=Kr,O="{",K="}",qt="title:",Bt="t:",Vt="meta: title",q="subtitle:",Z="st:",It="meta: subtitle",De="artist:",ae="meta: artist",ue="composer:",fe="meta: composer",ce="lyricist:",ve="meta: lyricist",de="copyright:",$t="meta: copyright",Re="album:",Wt="meta: album",Ne="year:",Yt="meta: year",Le="key:",Ht="meta: key",Me="capo:",he="meta: capo",je="time:",_e="meta: time",pe="tempo:",me="meta: tempo",be="duration:",Kt="meta: duration",qe="{c:",zt="{comment:",Be="soc",ge="start_of_chorus",Ve="eoc",Ue="end_of_chorus",Ge="[",pr="]",ye="sot",z="start_of_tab",X="eot",ut="end_of_tab",we=/^[\n\r]/,G=/^[^}]/,$e=/^[^{[\n\r]/,We=/^[A-Z]/,Ye=/^[^\]]/,He=/^[^{\n\r]/,Jt={type:"any"},mr=Xt([`
`,"\r"],!1,!1),tt=M("{",!1),it=M(" ",!1),Y=Xt(["}"],!0,!1),nt=M("}",!1),Hn=M("title:",!1),Kn=M("t:",!1),zn=M("meta: title",!1),Jn=M("subtitle:",!1),Zn=M("st:",!1),Xn=M("meta: subtitle",!1),Qn=M("artist:",!1),ts=M("meta: artist",!1),es=M("composer:",!1),rs=M("meta: composer",!1),ns=M("lyricist:",!1),ss=M("meta: lyricist",!1),os=M("copyright:",!1),ls=M("meta: copyright",!1),is=M("album:",!1),as=M("meta: album",!1),us=M("year:",!1),fs=M("meta: year",!1),cs=M("key:",!1),vs=M("meta: key",!1),ds=M("capo:",!1),hs=M("meta: capo",!1),_s=M("time:",!1),ps=M("meta: time",!1),ms=M("tempo:",!1),bs=M("meta: tempo",!1),gs=M("duration:",!1),ys=M("meta: duration",!1),ws=M("{c:",!1),As=M("{comment:",!1),xs=M("soc",!1),Cs=M("start_of_chorus",!1),Es=M("eoc",!1),ks=M("end_of_chorus",!1),qr=Xt(["{","[",`
`,"\r"],!0,!1),Ss=M("[",!1),Br=Xt([["A","Z"]],!1,!1),Vr=Xt(["]"],!0,!1),Ps=M("]",!1),Ts=M("sot",!1),Os=M("start_of_tab",!1),Fs=M("eot",!1),Is=M("end_of_tab",!1),Ur=Xt(["{",`
`,"\r"],!0,!1),Ds=function(v){return""},Rs=function(v,o){return{header:v,content:o}},Ns=function(v){return v},Ls=function(v){return{type:"title",value:v}},Ms=function(v){return{type:"subtitle",value:v}},js=function(v){return{type:"artist",value:v}},qs=function(v){return{type:"composer",value:v}},Bs=function(v){return{type:"lyricist",value:v}},Vs=function(v){return{type:"copyright",value:v}},Us=function(v){return{type:"album",value:v}},Gs=function(v){return{type:"year",value:v}},$s=function(v){return{type:"key",value:v}},Ws=function(v){return{type:"capo",value:v}},Ys=function(v){return{type:"time",value:v}},Hs=function(v){return{type:"tempo",value:v}},Ks=function(v){return{type:"duration",value:v}},zs=function(v){return{type:"comment",value:v}},Gr=function(v,o){return o},Js=function(v,o,_){return[v].concat(o)},Zs=function(v){return{type:"verse",items:v}},Xs=function(v){return{type:"chorus",items:v}},$r=function(v,o){return o},Qs=function(v,o){return[v].concat(o)},to=function(v){return{type:"line",items:v}},eo=function(v){return{type:"text",value:v}},ro=function(v){return{type:"chord",value:v}},no=function(v){return{type:"tab",items:v}},Wr=function(v,o){return o},so=function(v,o){return[v].concat(o)},r=0|F.peg$currPos,Zt=[{line:1,column:1}],yt=r,Ke=F.peg$maxFailExpected||[],d=0|F.peg$silentFails;if(F.startRule){if(!(F.startRule in I))throw new Error(`Can't start parsing from rule "`+F.startRule+'".');B=I[F.startRule]}function M(v,o){return{type:"literal",text:v,ignoreCase:o}}function Xt(v,o,_){return{type:"class",parts:v,inverted:o,ignoreCase:_}}function Yr(v){var o,_=Zt[v];if(_)return _;if(v>=Zt.length)o=Zt.length-1;else for(o=v;!Zt[--o];);for(_={line:(_=Zt[o]).line,column:_.column};o<v;)i.charCodeAt(o)===10?(_.line++,_.column=1):_.column++,o++;return Zt[v]=_,_}function Hr(v,o,_){var x=Yr(v),w=Yr(o);return{source:P,start:{offset:v,line:x.line,column:x.column},end:{offset:o,line:w.line,column:w.column}}}function h(v){r<yt||(r>yt&&(yt=r,Ke=[]),Ke.push(v))}function Kr(){var v,o,_,x,w;return v=r,o=function(){var c,f,p;if(c=r,f=[],p=zr(),p!==t)for(;p!==t;)f.push(p),p=zr();else f=t;return f!==t&&(f=Ns(f)),c=f,c}(),o===t&&(o=null),_=function(){var c,f,p,V,ot,vt,at;if(c=r,f=br(),f!==t){if(p=[],V=r,(ot=st())!==t){if(vt=[],(at=st())!==t)for(;at!==t;)vt.push(at),at=st();else vt=t;vt!==t&&(at=br())!==t?V=Gr(f,at):(r=V,V=t)}else r=V,V=t;for(;V!==t;)if(p.push(V),V=r,(ot=st())!==t){if(vt=[],(at=st())!==t)for(;at!==t;)vt.push(at),at=st();else vt=t;vt!==t&&(at=br())!==t?V=Gr(f,at):(r=V,V=t)}else r=V,V=t;if(V=r,d++,i.length>r?(ot=i.charAt(r),r++):(ot=t,d===0&&h(Jt)),d--,ot===t?V=void 0:(r=V,V=t),V===t){if(V=[],(ot=st())!==t)for(;ot!==t;)V.push(ot),ot=st();else V=t;V===t&&(V=r,d++,i.length>r?(ot=i.charAt(r),r++):(ot=t,d===0&&h(Jt)),d--,ot===t?V=void 0:(r=V,V=t))}V!==t?c=Js(f,p):(r=c,c=t)}else r=c,c=t;return c}(),_===t&&(_=r,x=r,d++,i.length>r?(w=i.charAt(r),r++):(w=t,d===0&&h(Jt)),d--,w===t?x=void 0:(r=x,x=t),x!==t&&(x=Ds()),_=x),_!==t?v=Rs(o,_):(r=v,v=t),v}function zr(){var v;return(v=function(){var o,_,x,w,c,f;if(o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t)if(x=function(){var p;return i.substr(r,6)===qt?(p=qt,r+=6):(p=t,d===0&&h(Hn)),p===t&&(i.substr(r,2)===Bt?(p=Bt,r+=2):(p=t,d===0&&h(Kn)),p===t&&(i.substr(r,11)===Vt?(p=Vt,r+=11):(p=t,d===0&&h(zn)))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(it),w=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y));else c=t;(w=c!==t?i.substring(w,r):c)!==t?(i.charCodeAt(r)===125?(c=K,r++):(c=t,d===0&&h(nt)),c!==t&&(f=ht())!==t?o=Ls(w):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,x,w,c,f;if(o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t)if(x=function(){var p;return i.substr(r,9)===q?(p=q,r+=9):(p=t,d===0&&h(Jn)),p===t&&(i.substr(r,3)===Z?(p=Z,r+=3):(p=t,d===0&&h(Zn)),p===t&&(i.substr(r,14)===It?(p=It,r+=14):(p=t,d===0&&h(Xn)))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(it),w=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y));else c=t;(w=c!==t?i.substring(w,r):c)!==t?(i.charCodeAt(r)===125?(c=K,r++):(c=t,d===0&&h(nt)),c!==t&&(f=ht())!==t?o=Ms(w):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,x,w,c,f;if(o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t)if(x=function(){var p;return i.substr(r,7)===De?(p=De,r+=7):(p=t,d===0&&h(Qn)),p===t&&(i.substr(r,12)===ae?(p=ae,r+=12):(p=t,d===0&&h(ts))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(it),w=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y));else c=t;(w=c!==t?i.substring(w,r):c)!==t?(i.charCodeAt(r)===125?(c=K,r++):(c=t,d===0&&h(nt)),c!==t&&(f=ht())!==t?o=js(w):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,x,w,c,f;if(o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t)if(x=function(){var p;return i.substr(r,9)===ue?(p=ue,r+=9):(p=t,d===0&&h(es)),p===t&&(i.substr(r,14)===fe?(p=fe,r+=14):(p=t,d===0&&h(rs))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(it),w=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y));else c=t;(w=c!==t?i.substring(w,r):c)!==t?(i.charCodeAt(r)===125?(c=K,r++):(c=t,d===0&&h(nt)),c!==t&&(f=ht())!==t?o=qs(w):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,x,w,c,f;if(o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t)if(x=function(){var p;return i.substr(r,9)===ce?(p=ce,r+=9):(p=t,d===0&&h(ns)),p===t&&(i.substr(r,14)===ve?(p=ve,r+=14):(p=t,d===0&&h(ss))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(it),w=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y));else c=t;(w=c!==t?i.substring(w,r):c)!==t?(i.charCodeAt(r)===125?(c=K,r++):(c=t,d===0&&h(nt)),c!==t&&(f=ht())!==t?o=Bs(w):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,x,w,c,f;if(o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t)if(x=function(){var p;return i.substr(r,10)===de?(p=de,r+=10):(p=t,d===0&&h(os)),p===t&&(i.substr(r,15)===$t?(p=$t,r+=15):(p=t,d===0&&h(ls))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(it),w=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y));else c=t;(w=c!==t?i.substring(w,r):c)!==t?(i.charCodeAt(r)===125?(c=K,r++):(c=t,d===0&&h(nt)),c!==t&&(f=ht())!==t?o=Vs(w):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,x,w,c,f;if(o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t)if(x=function(){var p;return i.substr(r,6)===Re?(p=Re,r+=6):(p=t,d===0&&h(is)),p===t&&(i.substr(r,11)===Wt?(p=Wt,r+=11):(p=t,d===0&&h(as))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(it),w=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y));else c=t;(w=c!==t?i.substring(w,r):c)!==t?(i.charCodeAt(r)===125?(c=K,r++):(c=t,d===0&&h(nt)),c!==t&&(f=ht())!==t?o=Us(w):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,x,w,c,f;if(o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t)if(x=function(){var p;return i.substr(r,5)===Ne?(p=Ne,r+=5):(p=t,d===0&&h(us)),p===t&&(i.substr(r,10)===Yt?(p=Yt,r+=10):(p=t,d===0&&h(fs))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(it),w=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y));else c=t;(w=c!==t?i.substring(w,r):c)!==t?(i.charCodeAt(r)===125?(c=K,r++):(c=t,d===0&&h(nt)),c!==t&&(f=ht())!==t?o=Gs(w):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,x,w,c,f;if(o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t)if(x=function(){var p;return i.substr(r,4)===Le?(p=Le,r+=4):(p=t,d===0&&h(cs)),p===t&&(i.substr(r,9)===Ht?(p=Ht,r+=9):(p=t,d===0&&h(vs))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(it),w=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y));else c=t;(w=c!==t?i.substring(w,r):c)!==t?(i.charCodeAt(r)===125?(c=K,r++):(c=t,d===0&&h(nt)),c!==t&&(f=ht())!==t?o=$s(w):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,x,w,c,f;if(o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t)if(x=function(){var p;return i.substr(r,5)===Me?(p=Me,r+=5):(p=t,d===0&&h(ds)),p===t&&(i.substr(r,10)===he?(p=he,r+=10):(p=t,d===0&&h(hs))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(it),w=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y));else c=t;(w=c!==t?i.substring(w,r):c)!==t?(i.charCodeAt(r)===125?(c=K,r++):(c=t,d===0&&h(nt)),c!==t&&(f=ht())!==t?o=Ws(w):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,x,w,c,f;if(o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t)if(x=function(){var p;return i.substr(r,5)===je?(p=je,r+=5):(p=t,d===0&&h(_s)),p===t&&(i.substr(r,10)===_e?(p=_e,r+=10):(p=t,d===0&&h(ps))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(it),w=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y));else c=t;(w=c!==t?i.substring(w,r):c)!==t?(i.charCodeAt(r)===125?(c=K,r++):(c=t,d===0&&h(nt)),c!==t&&(f=ht())!==t?o=Ys(w):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,x,w,c,f;if(o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t)if(x=function(){var p;return i.substr(r,6)===pe?(p=pe,r+=6):(p=t,d===0&&h(ms)),p===t&&(i.substr(r,11)===me?(p=me,r+=11):(p=t,d===0&&h(bs))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(it),w=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y));else c=t;(w=c!==t?i.substring(w,r):c)!==t?(i.charCodeAt(r)===125?(c=K,r++):(c=t,d===0&&h(nt)),c!==t&&(f=ht())!==t?o=Hs(w):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,x,w,c,f;if(o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t)if(x=function(){var p;return i.substr(r,9)===be?(p=be,r+=9):(p=t,d===0&&h(gs)),p===t&&(i.substr(r,14)===Kt?(p=Kt,r+=14):(p=t,d===0&&h(ys))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(it),w=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(Y));else c=t;(w=c!==t?i.substring(w,r):c)!==t?(i.charCodeAt(r)===125?(c=K,r++):(c=t,d===0&&h(nt)),c!==t&&(f=ht())!==t?o=Ks(w):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}()),v}function st(){var v;return v=i.charAt(r),we.test(v)?r++:(v=t,d===0&&h(mr)),v}function ht(){var v,o;if(v=[],(o=st())!==t)for(;o!==t;)v.push(o),o=st();else v=t;return v===t&&(v=r,d++,i.length>r?(o=i.charAt(r),r++):(o=t,d===0&&h(Jt)),d--,o===t?v=void 0:(r=v,v=t)),v}function br(){var v;return(v=function(){var o,_;return o=r,(_=Jr())!==t&&(_=Zs(_)),o=_,o}())===t&&(v=function(){var o,_,x,w,c,f,p,V;return o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t?(i.substr(r,3)===Be?(x=Be,r+=3):(x=t,d===0&&h(xs)),x===t&&(i.substr(r,15)===ge?(x=ge,r+=15):(x=t,d===0&&h(Cs))),x!==t?(i.charCodeAt(r)===125?(w=K,r++):(w=t,d===0&&h(nt)),w!==t&&st()!==t&&(c=Jr())!==t&&st()!==t?(i.charCodeAt(r)===123?(f=O,r++):(f=t,d===0&&h(tt)),f!==t?(i.substr(r,3)===Ve?(p=Ve,r+=3):(p=t,d===0&&h(Es)),p===t&&(i.substr(r,13)===Ue?(p=Ue,r+=13):(p=t,d===0&&h(ks))),p!==t?(i.charCodeAt(r)===125?(V=K,r++):(V=t,d===0&&h(nt)),V!==t?o=Xs(c):(r=o,o=t)):(r=o,o=t)):(r=o,o=t)):(r=o,o=t)):(r=o,o=t)):(r=o,o=t),o}())===t&&(v=function(){var o,_,x,w,c;if(o=r,i.substr(r,3)===qe?(_=qe,r+=3):(_=t,d===0&&h(ws)),_===t&&(i.substr(r,9)===zt?(_=zt,r+=9):(_=t,d===0&&h(As))),_!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(it),x=r,w=[],c=i.charAt(r),G.test(c)?r++:(c=t,d===0&&h(Y)),c!==t)for(;c!==t;)w.push(c),c=i.charAt(r),G.test(c)?r++:(c=t,d===0&&h(Y));else w=t;(x=w!==t?i.substring(x,r):w)!==t?(i.charCodeAt(r)===125?(w=K,r++):(w=t,d===0&&h(nt)),w!==t?o=zs(x):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;return o}())===t&&(v=function(){var o,_,x,w,c,f,p,V;return o=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(tt)),_!==t?(i.substr(r,3)===ye?(x=ye,r+=3):(x=t,d===0&&h(Ts)),x===t&&(i.substr(r,12)===z?(x=z,r+=12):(x=t,d===0&&h(Os))),x!==t?(i.charCodeAt(r)===125?(w=K,r++):(w=t,d===0&&h(nt)),w!==t&&st()!==t?(c=function(){var ot,vt,at,xt,ze;if(ot=r,vt=yr(),vt!==t){for(at=[],xt=r,st()!==t&&(ze=yr())!==t?xt=Wr(vt,ze):(r=xt,xt=t);xt!==t;)at.push(xt),xt=r,st()!==t&&(ze=yr())!==t?xt=Wr(vt,ze):(r=xt,xt=t);ot=so(vt,at)}else r=ot,ot=t;return ot}(),c!==t&&st()!==t?(i.charCodeAt(r)===123?(f=O,r++):(f=t,d===0&&h(tt)),f!==t?(i.substr(r,3)===X?(p=X,r+=3):(p=t,d===0&&h(Fs)),p===t&&(i.substr(r,10)===ut?(p=ut,r+=10):(p=t,d===0&&h(Is))),p!==t?(i.charCodeAt(r)===125?(V=K,r++):(V=t,d===0&&h(nt)),V!==t?o=no(c):(r=o,o=t)):(r=o,o=t)):(r=o,o=t)):(r=o,o=t)):(r=o,o=t)):(r=o,o=t)):(r=o,o=t),o}()),v}function Jr(){var v,o,_,x,w;if(v=r,(o=gr())!==t){for(_=[],x=r,st()!==t&&(w=gr())!==t?x=$r(o,w):(r=x,x=t);x!==t;)_.push(x),x=r,st()!==t&&(w=gr())!==t?x=$r(o,w):(r=x,x=t);v=Qs(o,_)}else r=v,v=t;return v}function gr(){var v,o;if(v=[],(o=Xr())===t&&(o=Zr()),o!==t)for(;o!==t;)v.push(o),(o=Xr())===t&&(o=Zr());else v=t;return v!==t&&(v=to(v)),v}function Zr(){var v,o,_;if(v=r,o=[],_=i.charAt(r),$e.test(_)?r++:(_=t,d===0&&h(qr)),_!==t)for(;_!==t;)o.push(_),_=i.charAt(r),$e.test(_)?r++:(_=t,d===0&&h(qr));else o=t;return(v=o!==t?i.substring(v,r):o)!==t&&(v=eo(v)),v}function Xr(){var v,o,_,x,w,c,f;if(v=r,i.charCodeAt(r)===91?(o=Ge,r++):(o=t,d===0&&h(Ss)),o!==t){if(_=r,x=r,w=[],c=i.charAt(r),We.test(c)?r++:(c=t,d===0&&h(Br)),c!==t)for(;c!==t;)w.push(c),c=i.charAt(r),We.test(c)?r++:(c=t,d===0&&h(Br));else w=t;if(w!==t){for(c=[],f=i.charAt(r),Ye.test(f)?r++:(f=t,d===0&&h(Vr));f!==t;)c.push(f),f=i.charAt(r),Ye.test(f)?r++:(f=t,d===0&&h(Vr));x=w=[w,c]}else r=x,x=t;(_=x!==t?i.substring(_,r):x)!==t?(i.charCodeAt(r)===93?(x=pr,r++):(x=t,d===0&&h(Ps)),x!==t?v=ro(_):(r=v,v=t)):(r=v,v=t)}else r=v,v=t;return v}function yr(){var v,o,_;if(v=r,o=[],_=i.charAt(r),He.test(_)?r++:(_=t,d===0&&h(Ur)),_!==t)for(;_!==t;)o.push(_),_=i.charAt(r),He.test(_)?r++:(_=t,d===0&&h(Ur));else o=t;return v=o!==t?i.substring(v,r):o}if(L=B(),F.peg$library)return{peg$result:L,peg$currPos:r,peg$FAILED:t,peg$maxFailExpected:Ke,peg$maxFailPos:yt};if(L!==t&&r===i.length)return L;throw L!==t&&r<i.length&&h({type:"end"}),j=Ke,S=yt<i.length?i.charAt(yt):null,T=yt<i.length?Hr(yt,yt+1):Hr(yt,yt),new N(N.buildMessage(j,S),j,S,T)}}}function A(){if(b)return y;function N(D,i){const F=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],L=["C","Db","D","D#","E","F","Gb","G","G#","A","A#","B"];if(D.length<1)return;let j="",S=0;for(;S<D.length;){if("CDEFGAB".indexOf(D[S])===-1){j+=D[S],S++;continue}let T=D[S];S++,S<D.length&&(D[S]!=="#"&&D[S]!=="b"||(T+=D[S],S++));let t=F.indexOf(T);t===-1&&(t=L.indexOf(T),t===-1&&console.error("Unknown chord root",T)),t+=i,t%=12,t<0&&(t=12+t),j+=F[t]}return j}return b=1,y={transpose:function(D,i){for(let F of D.content)if(["verse","chorus"].includes(F.type)){for(let L of F.items)if(L.type=="line")for(let j of L.items)j.type=="chord"&&(j.value=N(j.value,i))}return D},transposeChord:N}}var E=function(){if(g)return C;g=1;const N=k(),D=function(){if(u)return l;function L(S){let T="",t="";for(let I=0;I<S.items.length;I++){const B=S.items[I];let O;switch(B.value.length,B.type){case"chord":O=t.length-T.length,O>0&&(T+=" ".repeat(O)),T+=B.value+" ";break;case"text":t+=B.value,O=T.length-t.length,O>0&&(t+=" ".repeat(O))}}let P="";return T.length>0&&(P+=T+`
`),P+t}function j(S){var T="";for(let t=0;t<S.items.length;t++){const P=S.items[t];P.type=="line"&&(T+=L(P)+`
`)}return T}return u=1,l={processSong:function(S){var T="";if(S.header)for(let t=0;t<S.header.length;t++){let P=S.header[t];switch(P.type){case"title":T+=`Title: ${P.value}
`;break;case"subtitle":T+=`Subtitle: ${P.value}
`;break;case"artist":T+=`Artist: ${P.value}
`}}T+=`
`;for(let t=0;t<S.content.length;t++){let P=S.content[t];t>0&&(T+=`

`),P.type!="verse"&&P.type!="chorus"||(T+=j(P))}return T},processVerse:j,processRow:L}}(),i=function(){if(m)return a;function L(S,T){let t=[],P=[],I=null;for(let O=0;O<S.items.length;O++){let K=S.items[O];K.type==="chord"?(t.push(K.value),I=K.value):K.type==="text"&&(I===null&&t.push(""),P.push(K.value),I=null)}let B='<table class="line">';return T&&(B+='<tr class="line-chords">',B+=t.map(O=>`<td class="chord">${O}</td>`).join(`
`),B+="</tr>"),B+='<tr class="line-lyrics">',B+=P.map(O=>`<td class="lyrics">${O.replaceAll(" ","&nbsp;")}</td>`).join(`
`),B+="</tr>",B+="</table>",B}function j(S){let T=function(P){for(let I=0;I<P.items.length;I++){let B=P.items[I];for(let O=0;O<B.items.length;O++)if(B.items[O].type==="chord")return!0}return!1}(S),t=`<div class="${S.type}">
`;for(let P=0;P<S.items.length;P++)t+=L(S.items[P],T);return t+="</div>",t}return m=1,a={processSong:function(S){var T=`<div class="jschordpro-song">

`;let t="";if(S.header)for(let P=0;P<S.header.length;P++){let I=S.header[P];switch(I.type){case"title":t+=`<h1 class="${I.type}">${I.value}</h1>
`;break;case"subtitle":case"artist":case"composer":case"lyricist":case"copyright":case"album":case"year":case"key":case"capo":case"time":case"tempo":case"duration":t+=`<h2 class="${I.type}">${I.value}</h2>
`;break;default:console.warn(`no formatting defined for header item of type "${I.type}".`)}}t&&(T+=`<div class="header">
`,T+=t,T+=`</div>

`),T+=`<div class="content">
`;for(let P=0;P<S.content.length;P++)T+=j(S.content[P]);return(T+=`</div>
`)+`</div>
`}}}(),F=A();return C.parse=N.parse,C.to_ascii=D.processSong,C.to_html=i.processSong,C.transpose=F.transpose,C}(),R=e(E);return Ze.default=R,Ze}var Ml=Ll();const xr=Nl(Ml);var jl=jt('<div class="error svelte-1i76g0"> </div>'),ql=jt('<div class="preview svelte-1i76g0"><!> <div><!></div></div>');function Bl(e,n){Pe(n,!0);let s=lt(n,"source",3,""),l=lt(n,"transpose_steps",3,0),u=lt(n,"format",19,()=>({})),a=lt(n,"view",19,()=>({})),m=Pn(()=>{let E={html:"",err:null};try{let R=xr.parse(s());l()!=0&&xr.transpose(R,l()),E.html=xr.to_html(R)}catch(R){E.err=R.toString()}return E});function y(){let E="";return E+="meta-"+u().title_align+" ",u().color_title===!0&&(E+="color-title "),u().color_chords===!0&&(E+="color-chords "),a().show_artist===!1&&(E+="hide-artist "),a().show_chords===!1&&(E+="hide-chords "),E}var b=ql(),g=$(b);{var C=E=>{var R=jl(),N=$(R);ne(()=>pt(N,U(m).err)),Mt(E,R)};jr(g,E=>{U(m).err!==null&&E(C)})}var k=W(g,2),A=$(k);gl(A,()=>U(m).html),ne(E=>te(k,1,E,"svelte-1i76g0"),[y]),Mt(e,b),Te()}var Vl=jt(`<div class="cheatsheet svelte-lvi09b"><h1 class="svelte-lvi09b">ChordPro Cheat Sheet</h1> <p class="svelte-lvi09b"><b>Title</b> of the song:</p> <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Sub Title</b> - additional (less important) title of the song:</p> <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Artist</b> of the song:</p> <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Chorus</b> is text between <i>start</i> and <i>end</i> identifiers (no empty lines allowed).</p> <pre class="svelte-lvi09b"></pre> or <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Chords</b> are inserted into the text between brackets <i>[</i> and <i>]</i> It is important to start each chord with capital letter to keep your text
machine readable and benefit from additional functionality (e.g.
transpositions). See example of verse with major and minor chords:</p> <pre class="svelte-lvi09b"></pre></div>`);function Ul(e){var n=Vl(),s=W($(n),4);s.textContent=`{title: Song title}
`;var l=W(s,4);l.textContent=`{subtitle: Song subtitle}
`;var u=W(l,4);u.textContent=`{artist: Bob Dylan}
`;var a=W(u,4);a.textContent=`{start_of_chorus}
First line of chorus
Second line of chorus
{end_of_chorus}
`;var m=W(a,2);m.textContent=`{soc}
First line of chorus
Second line of chorus
{eoc}
`;var y=W(m,4);y.textContent=`[Am]In my time of dying
[Am]I don't want nobody to mourn
[Am]All I want for you to do
Is [D]take my body [Am]home

`,Mt(e,n)}function Gl(){if("showSaveFilePicker"in window){const n={types:[{description:"Chordpro text file",accept:{"text/plain":[".txt"]}}]};return window.showSaveFilePicker(n)}const e={type:"save-file",accepts:[{description:"Text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function $l(){if("showOpenFilePicker"in window){const n={types:[{description:"Chordpro",accept:{"text/plain":[".txt"]}}],excludeAcceptAllOption:!1,multiple:!1};return window.showOpenFilePicker(n).then(s=>s[0])}const e={type:"open-file",accepts:[{description:"Chordpro text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function Wl(e){return e.text?e.text():new Promise(s=>{const l=new FileReader;l.addEventListener("loadend",function(){s(l.result)}),l.readAsText(e)})}function hn(e,n){e.createWriter?e.createWriter().then(function(s){s.write(0,n).then(function(){return s.close()})}):e.createWritable().then(function(s){s.write(n).then(function(){return s.close()})})}function Yl(e){return e.replace(/\r\n|\r/g,`
`)}const Hl=`{title: In My Time of Dyin'}
{artist: Bob Dylan}

[Am]In my time of dying
[Am]I don't want nobody to mourn
[Am]All I want for you to do
Is [D]take my body [Am]home

{start_of_chorus}
[Am]Well, well, well, so I can die easy
Well, well, [D]well, so I can die [Am]easy
[Am]Well, well, well, so I can die easy
[D]Jesus gonna make up my [G]dy[G#]ing [Am]bed
{end_of_chorus}

Well, meet me Jesus, meet me
Meet me in the middle of the air
If these wings should fail to me
Lord, won't you meet me with another pair

Lord, in my time of dying
I don't want nobody to cry
All I want you to do
Is take me when I die
`,Kl=`{title: Song Title}
{artist: Song Artist}

Verse [C]with [G]chods...

{start_of_chorus}
Chorus [C]with [G]chords ...
{end_of_chorus}

Verse...
`;var zl=jt(`<!> <main class="svelte-1f1vxka"><div class="editor no-print svelte-1f1vxka"><textarea class="no-print svelte-1f1vxka">
        ></textarea> <!></div> <div class="preview svelte-1f1vxka"><!></div></main> <footer class="no-print svelte-1f1vxka"> </footer>`,1);function Jl(e,n){Pe(n,!0);let s=lt(n,"song",3,"");const l="chooseFileSystemEntries"in window||"showOpenFilePicker"in window;let u,a=wt(At(s())),m=wt(At(s())),y=wt(0),b=At({title_align:"left",color_title:!1,color_chords:!1}),g=At({cheatsheet:!1,show_artist:!0,show_chords:!0});function C(){rt(a,Kl,!0)}async function k(){u=await $l();try{let q=await u.getFile(),Z=await Wl(q);rt(a,Yl(Z),!0)}catch(q){console.error("read failed: ",q)}}async function A(){if(u)try{await hn(u,U(a))}catch(q){const Z="Unable to save file";console.error(Z,q),alert(Z)}}async function E(){if(!l){console.error("this browser does not support access to file system");return}try{u=await Gl()}catch(q){if(q.name==="AbortError")return;const Z="An error occured trying to open the file.";console.error(Z,q),alert(Z);return}try{await hn(u,U(a))}catch(q){const Z="Unable to save file.";console.error(Z,q),alert(Z);return}}function R(q){rt(y,q,!0)}function N(q){q in b&&(b[q]=!b[q])}function D(q,Z){q in b&&(b[q]=Z)}function i(q){q in g&&(g[q]=!g[q])}var F;function L(q,Z,It){F&&clearTimeout(F),F=setTimeout(()=>{It(Z)},q)}kr(()=>{L(1e3,U(a),q=>{rt(m,q,!0)})});var j=zl(),S=Mo(j);const T=Pn(()=>u&&u.name);Rl(S,{get subtitle(){return U(T)},get format(){return b},get view(){return g},get transpose_steps(){return U(y)},on_open:k,on_new:C,on_save:A,on_save_as:E,on_transpose:R,on_format_toggle:N,on_format_set:D,on_view_toggle:i});var t=W(S,2),P=$(t),I=$(P),B=W(I,2);{var O=q=>{Ul(q)};jr(B,q=>{g.cheatsheet&&q(O)})}var K=W(P,2),qt=$(K);Bl(qt,{get source(){return U(m)},get transpose_steps(){return U(y)},get format(){return b},get view(){return g}});var Bt=W(t,2),Vt=$(Bt);ne(q=>pt(Vt,`BlueSoft © ${q??""}`),[()=>new Date().getFullYear()]),Al(I,()=>U(a),q=>rt(a,q)),Mt(e,j),Te()}fl(Jl,{target:document.body,props:{song:Hl}});
