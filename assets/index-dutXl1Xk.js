(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const a of u)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(u){const a={};return u.integrity&&(a.integrity=u.integrity),u.referrerPolicy&&(a.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?a.credentials="include":u.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(u){if(u.ep)return;u.ep=!0;const a=s(u);fetch(u.href,a)}})();const an=!1;var jr=Array.isArray,lo=Array.prototype.indexOf,qr=Array.from,io=Object.defineProperty,jt=Object.getOwnPropertyDescriptor,ao=Object.getOwnPropertyDescriptors,uo=Object.prototype,fo=Array.prototype,Cn=Object.getPrototypeOf,un=Object.isExtensible;function Ee(e){return typeof e=="function"}function co(e){return e()}function Ir(e){for(var n=0;n<e.length;n++)e[n]()}const Et=2,En=4,fr=8,Br=16,Dt=32,ae=64,er=128,wt=256,rr=512,pt=1024,Tt=2048,Yt=4096,Ft=8192,cr=16384,vo=32768,$r=65536,ho=1<<17,_o=1<<19,kn=1<<20,Dr=1<<21,Gt=Symbol("$state"),Sn=Symbol("legacy props");function Pn(e){return e===this.v}function po(e,n){return e!=e?n==n:e!==n||e!==null&&typeof e=="object"||typeof e=="function"}function Vr(e){return!po(e,this.v)}function mo(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function bo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function go(e){throw new Error("https://svelte.dev/e/effect_orphan")}function wo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function yo(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ao(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function xo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Co(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Oe=!1,Eo=!1;function ko(){Oe=!0}const So=1,Po=2,To=16,Oo=1,Fo=2,Tn=4,Io=8,Do=16,Ro=1,No=2,_t=Symbol();let et=null;function fn(e){et=e}function Fe(e,n=!1,s){var l=et={p:et,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Oe&&!n&&(et.l={s:null,u:null,r1:[],r2:oe(!1)}),$n(()=>{l.d=!0})}function Ie(e){const n=et;if(n!==null){const m=n.e;if(m!==null){var s=J,l=K;n.e=null;try{for(var u=0;u<m.length;u++){var a=m[u];qt(a.effect),Ot(a.reaction),dr(a.fn)}}finally{qt(s),Ot(l)}}et=n.p,n.m=!0}return{}}function De(){return!Oe||et!==null&&et.l===null}function Ct(e){if(typeof e!="object"||e===null||Gt in e)return e;const n=Cn(e);if(n!==uo&&n!==fo)return e;var s=new Map,l=jr(e),u=xt(0),a=K,m=w=>{var b=K;Ot(a);var g=w();return Ot(b),g};return l&&s.set("length",xt(e.length)),new Proxy(e,{defineProperty(w,b,g){(!("value"in g)||g.configurable===!1||g.enumerable===!1||g.writable===!1)&&Ao();var E=s.get(b);return E===void 0?(E=m(()=>xt(g.value)),s.set(b,E)):st(E,m(()=>Ct(g.value))),!0},deleteProperty(w,b){var g=s.get(b);if(g===void 0)b in w&&s.set(b,m(()=>xt(_t)));else{if(l&&typeof b=="string"){var E=s.get("length"),k=Number(b);Number.isInteger(k)&&k<E.v&&st(E,k)}st(g,_t),cn(u)}return!0},get(w,b,g){var x;if(b===Gt)return e;var E=s.get(b),k=b in w;if(E===void 0&&(!k||(x=jt(w,b))!=null&&x.writable)&&(E=m(()=>xt(Ct(k?w[b]:_t))),s.set(b,E)),E!==void 0){var A=U(E);return A===_t?void 0:A}return Reflect.get(w,b,g)},getOwnPropertyDescriptor(w,b){var g=Reflect.getOwnPropertyDescriptor(w,b);if(g&&"value"in g){var E=s.get(b);E&&(g.value=U(E))}else if(g===void 0){var k=s.get(b),A=k==null?void 0:k.v;if(k!==void 0&&A!==_t)return{enumerable:!0,configurable:!0,value:A,writable:!0}}return g},has(w,b){var A;if(b===Gt)return!0;var g=s.get(b),E=g!==void 0&&g.v!==_t||Reflect.has(w,b);if(g!==void 0||J!==null&&(!E||(A=jt(w,b))!=null&&A.writable)){g===void 0&&(g=m(()=>xt(E?Ct(w[b]):_t)),s.set(b,g));var k=U(g);if(k===_t)return!1}return E},set(w,b,g,E){var O;var k=s.get(b),A=b in w;if(l&&b==="length")for(var x=g;x<k.v;x+=1){var R=s.get(x+"");R!==void 0?st(R,_t):x in w&&(R=m(()=>xt(_t)),s.set(x+"",R))}k===void 0?(!A||(O=jt(w,b))!=null&&O.writable)&&(k=m(()=>xt(void 0)),st(k,m(()=>Ct(g))),s.set(b,k)):(A=k.v!==_t,st(k,m(()=>Ct(g))));var N=Reflect.getOwnPropertyDescriptor(w,b);if(N!=null&&N.set&&N.set.call(E,g),!A){if(l&&typeof b=="string"){var D=s.get("length"),i=Number(b);Number.isInteger(i)&&i>=D.v&&st(D,i+1)}cn(u)}return!0},ownKeys(w){U(u);var b=Reflect.ownKeys(w).filter(k=>{var A=s.get(k);return A===void 0||A.v!==_t});for(var[g,E]of s)E.v!==_t&&!(g in w)&&b.push(g);return b},setPrototypeOf(){xo()}})}function cn(e,n=1){st(e,e.v+n)}function se(e){var n=Et|Tt,s=K!==null&&(K.f&Et)!==0?K:null;return J===null||s!==null&&(s.f&wt)!==0?n|=wt:J.f|=kn,{ctx:et,deps:null,effects:null,equals:Pn,f:n,fn:e,reactions:null,rv:0,v:null,wv:0,parent:s??J}}function On(e){const n=se(e);return Kn(n),n}function nr(e){const n=se(e);return n.equals=Vr,n}function Fn(e){var n=e.effects;if(n!==null){e.effects=null;for(var s=0;s<n.length;s+=1)It(n[s])}}function Lo(e){for(var n=e.parent;n!==null;){if((n.f&Et)===0)return n;n=n.parent}return null}function In(e){var n,s=J;qt(Lo(e));try{Fn(e),n=Xn(e)}finally{qt(s)}return n}function Dn(e){var n=In(e),s=(Mt||(e.f&wt)!==0)&&e.deps!==null?Yt:pt;kt(e,s),e.equals(n)||(e.v=n,e.wv=Jn())}const Se=new Map;function oe(e,n){var s={f:0,v:e,reactions:null,equals:Pn,rv:0,wv:0};return s}function xt(e,n){const s=oe(e);return Kn(s),s}function Ur(e,n=!1){var l;const s=oe(e);return n||(s.equals=Vr),Oe&&et!==null&&et.l!==null&&((l=et.l).s??(l.s=[])).push(s),s}function st(e,n,s=!1){K!==null&&!Pt&&De()&&(K.f&(Et|Br))!==0&&!(dt!=null&&dt.includes(e))&&Co();let l=s?Ct(n):n;return Rn(e,l)}function Rn(e,n){if(!e.equals(n)){var s=e.v;Re?Se.set(e,n):Se.set(e,s),e.v=n,(e.f&Et)!==0&&((e.f&Tt)!==0&&In(e),kt(e,(e.f&wt)===0?pt:Yt)),e.wv=Jn(),Nn(e,Tt),De()&&J!==null&&(J.f&pt)!==0&&(J.f&(Dt|ae))===0&&(yt===null?Ko([e]):yt.push(e))}return n}function vn(e,n=1){var s=U(e),l=n===1?s++:s--;return st(e,s),l}function Nn(e,n){var s=e.reactions;if(s!==null)for(var l=De(),u=s.length,a=0;a<u;a++){var m=s[a],w=m.f;(w&Tt)===0&&(!l&&m===J||(kt(m,n),(w&(pt|wt))!==0&&((w&Et)!==0?Nn(m,Yt):pr(m))))}}let Mo=!1;var dn,Ln,Mn,jn;function jo(){if(dn===void 0){dn=window,Ln=/Firefox/.test(navigator.userAgent);var e=Element.prototype,n=Node.prototype,s=Text.prototype;Mn=jt(n,"firstChild").get,jn=jt(n,"nextSibling").get,un(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),un(s)&&(s.__t=void 0)}}function qn(e=""){return document.createTextNode(e)}function Pe(e){return Mn.call(e)}function vr(e){return jn.call(e)}function W(e,n){return Pe(e)}function qo(e,n){{var s=Pe(e);return s instanceof Comment&&s.data===""?vr(s):s}}function V(e,n=1,s=!1){let l=e;for(;n--;)l=vr(l);return l}function Bo(e){e.textContent=""}function Bn(e){J===null&&K===null&&go(),K!==null&&(K.f&wt)!==0&&J===null&&bo(),Re&&mo()}function $o(e,n){var s=n.last;s===null?n.last=n.first=e:(s.next=e,e.prev=s,n.last=e)}function ue(e,n,s,l=!0){var u=J,a={ctx:et,deps:null,nodes_start:null,nodes_end:null,f:e|Tt,first:null,fn:n,last:null,next:null,parent:u,prev:null,teardown:null,transitions:null,wv:0};if(s)try{Wr(a),a.f|=vo}catch(b){throw It(a),b}else n!==null&&pr(a);var m=s&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(kn|er))===0;if(!m&&l&&(u!==null&&$o(a,u),K!==null&&(K.f&Et)!==0)){var w=K;(w.effects??(w.effects=[])).push(a)}return a}function $n(e){const n=ue(fr,null,!1);return kt(n,pt),n.teardown=e,n}function Rr(e){Bn();var n=J!==null&&(J.f&Dt)!==0&&et!==null&&!et.m;if(n){var s=et;(s.e??(s.e=[])).push({fn:e,effect:J,reaction:K})}else{var l=dr(e);return l}}function Vo(e){return Bn(),Vn(e)}function Uo(e){const n=ue(ae,e,!0);return(s={})=>new Promise(l=>{s.outro?sr(n,()=>{It(n),l(void 0)}):(It(n),l(void 0))})}function dr(e){return ue(En,e,!1)}function Vn(e){return ue(fr,e,!0)}function le(e,n=[],s=se){const l=n.map(s);return hr(()=>e(...l.map(U)))}function hr(e,n=0){return ue(fr|Br|n,e,!0)}function ie(e,n=!0){return ue(fr|Dt,e,!0,n)}function Un(e){var n=e.teardown;if(n!==null){const s=Re,l=K;hn(!0),Ot(null);try{n.call(null)}finally{hn(s),Ot(l)}}}function Gn(e,n=!1){var s=e.first;for(e.first=e.last=null;s!==null;){var l=s.next;(s.f&ae)!==0?s.parent=null:It(s,n),s=l}}function Go(e){for(var n=e.first;n!==null;){var s=n.next;(n.f&Dt)===0&&It(n),n=s}}function It(e,n=!0){var s=!1;if((n||(e.f&_o)!==0)&&e.nodes_start!==null){for(var l=e.nodes_start,u=e.nodes_end;l!==null;){var a=l===u?null:vr(l);l.remove(),l=a}s=!0}Gn(e,n&&!s),ur(e,0),kt(e,cr);var m=e.transitions;if(m!==null)for(const b of m)b.stop();Un(e);var w=e.parent;w!==null&&w.first!==null&&Wn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Wn(e){var n=e.parent,s=e.prev,l=e.next;s!==null&&(s.next=l),l!==null&&(l.prev=s),n!==null&&(n.first===e&&(n.first=l),n.last===e&&(n.last=s))}function sr(e,n){var s=[];Gr(e,s,!0),Yn(s,()=>{It(e),n&&n()})}function Yn(e,n){var s=e.length;if(s>0){var l=()=>--s||n();for(var u of e)u.out(l)}else n()}function Gr(e,n,s){if((e.f&Ft)===0){if(e.f^=Ft,e.transitions!==null)for(const m of e.transitions)(m.is_global||s)&&n.push(m);for(var l=e.first;l!==null;){var u=l.next,a=(l.f&$r)!==0||(l.f&Dt)!==0;Gr(l,n,a?s:!1),l=u}}}function or(e){Hn(e,!0)}function Hn(e,n){if((e.f&Ft)!==0){e.f^=Ft,(e.f&pt)===0&&(e.f^=pt),Ne(e)&&(kt(e,Tt),pr(e));for(var s=e.first;s!==null;){var l=s.next,u=(s.f&$r)!==0||(s.f&Dt)!==0;Hn(s,u?n:!1),s=l}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&a.in()}}let lr=[];function Wo(){var e=lr;lr=[],Ir(e)}function Yo(e){lr.length===0&&queueMicrotask(Wo),lr.push(e)}let Qe=!1,Nr=!1,ir=null,Wt=!1,Re=!1;function hn(e){Re=e}let tr=[];let K=null,Pt=!1;function Ot(e){K=e}let J=null;function qt(e){J=e}let dt=null;function Ho(e){dt=e}function Kn(e){K!==null&&K.f&Dr&&(dt===null?Ho([e]):dt.push(e))}let vt=null,gt=0,yt=null;function Ko(e){yt=e}let zn=1,ar=0,Mt=!1;function Jn(){return++zn}function Ne(e){var k;var n=e.f;if((n&Tt)!==0)return!0;if((n&Yt)!==0){var s=e.deps,l=(n&wt)!==0;if(s!==null){var u,a,m=(n&rr)!==0,w=l&&J!==null&&!Mt,b=s.length;if(m||w){var g=e,E=g.parent;for(u=0;u<b;u++)a=s[u],(m||!((k=a==null?void 0:a.reactions)!=null&&k.includes(g)))&&(a.reactions??(a.reactions=[])).push(g);m&&(g.f^=rr),w&&E!==null&&(E.f&wt)===0&&(g.f^=wt)}for(u=0;u<b;u++)if(a=s[u],Ne(a)&&Dn(a),a.wv>e.wv)return!0}(!l||J!==null&&!Mt)&&kt(e,pt)}return!1}function zo(e,n){for(var s=n;s!==null;){if((s.f&er)!==0)try{s.fn(e);return}catch{s.f^=er}s=s.parent}throw Qe=!1,e}function Jo(e){return(e.f&cr)===0&&(e.parent===null||(e.parent.f&er)===0)}function _r(e,n,s,l){if(Qe){if(s===null&&(Qe=!1),Jo(n))throw e;return}s!==null&&(Qe=!0);{zo(e,n);return}}function Zn(e,n,s=!0){var l=e.reactions;if(l!==null)for(var u=0;u<l.length;u++){var a=l[u];dt!=null&&dt.includes(e)||((a.f&Et)!==0?Zn(a,n,!1):n===a&&(s?kt(a,Tt):(a.f&pt)!==0&&kt(a,Yt),pr(a)))}}function Xn(e){var x;var n=vt,s=gt,l=yt,u=K,a=Mt,m=dt,w=et,b=Pt,g=e.f;vt=null,gt=0,yt=null,Mt=(g&wt)!==0&&(Pt||!Wt||K===null),K=(g&(Dt|ae))===0?e:null,dt=null,fn(e.ctx),Pt=!1,ar++,e.f|=Dr;try{var E=(0,e.fn)(),k=e.deps;if(vt!==null){var A;if(ur(e,gt),k!==null&&gt>0)for(k.length=gt+vt.length,A=0;A<vt.length;A++)k[gt+A]=vt[A];else e.deps=k=vt;if(!Mt)for(A=gt;A<k.length;A++)((x=k[A]).reactions??(x.reactions=[])).push(e)}else k!==null&&gt<k.length&&(ur(e,gt),k.length=gt);if(De()&&yt!==null&&!Pt&&k!==null&&(e.f&(Et|Yt|Tt))===0)for(A=0;A<yt.length;A++)Zn(yt[A],e);return u!==e&&(ar++,yt!==null&&(l===null?l=yt:l.push(...yt))),E}finally{vt=n,gt=s,yt=l,K=u,Mt=a,dt=m,fn(w),Pt=b,e.f^=Dr}}function Zo(e,n){let s=n.reactions;if(s!==null){var l=lo.call(s,e);if(l!==-1){var u=s.length-1;u===0?s=n.reactions=null:(s[l]=s[u],s.pop())}}s===null&&(n.f&Et)!==0&&(vt===null||!vt.includes(n))&&(kt(n,Yt),(n.f&(wt|rr))===0&&(n.f^=rr),Fn(n),ur(n,0))}function ur(e,n){var s=e.deps;if(s!==null)for(var l=n;l<s.length;l++)Zo(e,s[l])}function Wr(e){var n=e.f;if((n&cr)===0){kt(e,pt);var s=J,l=et,u=Wt;J=e,Wt=!0;try{(n&Br)!==0?Go(e):Gn(e),Un(e);var a=Xn(e);e.teardown=typeof a=="function"?a:null,e.wv=zn;var m=e.deps,w;an&&Eo&&e.f&Tt}catch(b){_r(b,e,s,l||e.ctx)}finally{Wt=u,J=s}}}function Xo(){try{wo()}catch(e){if(ir!==null)_r(e,ir,null);else throw e}}function Qo(){var e=Wt;try{var n=0;for(Wt=!0;tr.length>0;){n++>1e3&&Xo();var s=tr,l=s.length;tr=[];for(var u=0;u<l;u++){var a=el(s[u]);tl(a)}Se.clear()}}finally{Nr=!1,Wt=e,ir=null}}function tl(e){var n=e.length;if(n!==0)for(var s=0;s<n;s++){var l=e[s];if((l.f&(cr|Ft))===0)try{Ne(l)&&(Wr(l),l.deps===null&&l.first===null&&l.nodes_start===null&&(l.teardown===null?Wn(l):l.fn=null))}catch(u){_r(u,l,null,l.ctx)}}}function pr(e){Nr||(Nr=!0,queueMicrotask(Qo));for(var n=ir=e;n.parent!==null;){n=n.parent;var s=n.f;if((s&(ae|Dt))!==0){if((s&pt)===0)return;n.f^=pt}}tr.push(n)}function el(e){for(var n=[],s=e;s!==null;){var l=s.f,u=(l&(Dt|ae))!==0,a=u&&(l&pt)!==0;if(!a&&(l&Ft)===0){if((l&En)!==0)n.push(s);else if(u)s.f^=pt;else{var m=K;try{K=s,Ne(s)&&Wr(s)}catch(g){_r(g,s,null,s.ctx)}finally{K=m}}var w=s.first;if(w!==null){s=w;continue}}var b=s.parent;for(s=s.next;s===null&&b!==null;)s=b.next,b=b.parent}return n}function U(e){var n=e.f,s=(n&Et)!==0;if(K!==null&&!Pt){if(!(dt!=null&&dt.includes(e))){var l=K.deps;e.rv<ar&&(e.rv=ar,vt===null&&l!==null&&l[gt]===e?gt++:vt===null?vt=[e]:(!Mt||!vt.includes(e))&&vt.push(e))}}else if(s&&e.deps===null&&e.effects===null){var u=e,a=u.parent;a!==null&&(a.f&wt)===0&&(u.f^=wt)}return s&&(u=e,Ne(u)&&Dn(u)),Re&&Se.has(e)?Se.get(e):e.v}function Te(e){var n=Pt;try{return Pt=!0,e()}finally{Pt=n}}const rl=-7169;function kt(e,n){e.f=e.f&rl|n}function nl(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Gt in e)Lr(e);else if(!Array.isArray(e))for(let n in e){const s=e[n];typeof s=="object"&&s&&Gt in s&&Lr(s)}}}function Lr(e,n=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!n.has(e)){n.add(e),e instanceof Date&&e.getTime();for(let l in e)try{Lr(e[l],n)}catch{}const s=Cn(e);if(s!==Object.prototype&&s!==Array.prototype&&s!==Map.prototype&&s!==Set.prototype&&s!==Date.prototype){const l=ao(s);for(let u in l){const a=l[u].get;if(a)try{a.call(e)}catch{}}}}}const sl=["touchstart","touchmove"];function ol(e){return sl.includes(e)}let _n=!1;function ll(){_n||(_n=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var n;if(!e.defaultPrevented)for(const s of e.target.elements)(n=s.__on_r)==null||n.call(s)})},{capture:!0}))}function Qn(e){var n=K,s=J;Ot(null),qt(null);try{return e()}finally{Ot(n),qt(s)}}function il(e,n,s,l=s){e.addEventListener(n,()=>Qn(s));const u=e.__on_r;u?e.__on_r=()=>{u(),l(!0)}:e.__on_r=()=>l(!0),ll()}const al=new Set,pn=new Set;function ul(e,n,s,l={}){function u(a){if(l.capture||ke.call(n,a),!a.cancelBubble)return Qn(()=>s==null?void 0:s.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Yo(()=>{n.addEventListener(e,u,l)}):n.addEventListener(e,u,l),u}function Z(e,n,s,l,u){var a={capture:l,passive:u},m=ul(e,n,s,a);(n===document.body||n===window||n===document)&&$n(()=>{n.removeEventListener(e,m,a)})}function ke(e){var O;var n=this,s=n.ownerDocument,l=e.type,u=((O=e.composedPath)==null?void 0:O.call(e))||[],a=u[0]||e.target,m=0,w=e.__root;if(w){var b=u.indexOf(w);if(b!==-1&&(n===document||n===window)){e.__root=n;return}var g=u.indexOf(n);if(g===-1)return;b<=g&&(m=b)}if(a=u[m]||e.target,a!==n){io(e,"currentTarget",{configurable:!0,get(){return a||s}});var E=K,k=J;Ot(null),qt(null);try{for(var A,x=[];a!==null;){var R=a.assignedSlot||a.parentNode||a.host||null;try{var N=a["__"+l];if(N!=null&&(!a.disabled||e.target===a))if(jr(N)){var[D,...i]=N;D.apply(a,[e,...i])}else N.call(a,e)}catch(L){A?x.push(L):A=L}if(e.cancelBubble||R===n||R===null)break;a=R}if(A){for(let L of x)queueMicrotask(()=>{throw L});throw A}}finally{e.__root=n,delete e.currentTarget,Ot(E),qt(k)}}}function ts(e){var n=document.createElement("template");return n.innerHTML=e,n.content}function Mr(e,n){var s=J;s.nodes_start===null&&(s.nodes_start=e,s.nodes_end=n)}function $t(e,n){var s=(n&Ro)!==0,l=(n&No)!==0,u,a=!e.startsWith("<!>");return()=>{u===void 0&&(u=ts(a?e:"<!>"+e),s||(u=Pe(u)));var m=l||Ln?document.importNode(u,!0):u.cloneNode(!0);if(s){var w=Pe(m),b=m.lastChild;Mr(w,b)}else Mr(m,m);return m}}function Bt(e,n){e!==null&&e.before(n)}function ft(e,n){var s=n==null?"":typeof n=="object"?n+"":n;s!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=s,e.nodeValue=s+"")}function fl(e,n){return cl(e,n)}const ne=new Map;function cl(e,{target:n,anchor:s,props:l={},events:u,context:a,intro:m=!0}){jo();var w=new Set,b=k=>{for(var A=0;A<k.length;A++){var x=k[A];if(!w.has(x)){w.add(x);var R=ol(x);n.addEventListener(x,ke,{passive:R});var N=ne.get(x);N===void 0?(document.addEventListener(x,ke,{passive:R}),ne.set(x,1)):ne.set(x,N+1)}}};b(qr(al)),pn.add(b);var g=void 0,E=Uo(()=>{var k=s??n.appendChild(qn());return ie(()=>{if(a){Fe({});var A=et;A.c=a}u&&(l.$$events=u),g=e(k,l)||{},a&&Ie()}),()=>{var R;for(var A of w){n.removeEventListener(A,ke);var x=ne.get(A);--x===0?(document.removeEventListener(A,ke),ne.delete(A)):ne.set(A,x)}pn.delete(b),k!==s&&((R=k.parentNode)==null||R.removeChild(k))}});return vl.set(g,E),g}let vl=new WeakMap;function Yr(e,n,[s,l]=[0,0]){var u=e,a=null,m=null,w=_t,b=s>0?$r:0,g=!1;const E=(A,x=!0)=>{g=!0,k(x,A)},k=(A,x)=>{w!==(w=A)&&(w?(a?or(a):x&&(a=ie(()=>x(u))),m&&sr(m,()=>{m=null})):(m?or(m):x&&(m=ie(()=>x(u,[s+1,l]))),a&&sr(a,()=>{a=null})))};hr(()=>{g=!1,n(E),g||k(null,null)},b)}function dl(e,n){return n}function hl(e,n,s,l){for(var u=[],a=n.length,m=0;m<a;m++)Gr(n[m].e,u,!0);var w=a>0&&u.length===0&&s!==null;if(w){var b=s.parentNode;Bo(b),b.append(s),l.clear(),Lt(e,n[0].prev,n[a-1].next)}Yn(u,()=>{for(var g=0;g<a;g++){var E=n[g];w||(l.delete(E.k),Lt(e,E.prev,E.next)),It(E.e,!w)}})}function _l(e,n,s,l,u,a=null){var m=e,w={flags:n,items:new Map,first:null};{var b=e;m=b.appendChild(qn())}var g=null,E=!1,k=nr(()=>{var A=s();return jr(A)?A:A==null?[]:qr(A)});hr(()=>{var A=U(k),x=A.length;E&&x===0||(E=x===0,pl(A,w,m,u,n,l,s),a!==null&&(x===0?g?or(g):g=ie(()=>a(m)):g!==null&&sr(g,()=>{g=null})),U(k))})}function pl(e,n,s,l,u,a,m){var w=e.length,b=n.items,g=n.first,E=g,k,A=null,x=[],R=[],N,D,i,O;for(O=0;O<w;O+=1){if(N=e[O],D=a(N,O),i=b.get(D),i===void 0){var L=E?E.e.nodes_start:s;A=bl(L,n,A,A===null?n.first:A.next,N,D,O,l,u,m),b.set(D,A),x=[],R=[],E=A.next;continue}if(ml(i,N,O),(i.e.f&Ft)!==0&&or(i.e),i!==E){if(k!==void 0&&k.has(i)){if(x.length<R.length){var q=R[0],P;A=q.prev;var F=x[0],t=x[x.length-1];for(P=0;P<x.length;P+=1)mn(x[P],q,s);for(P=0;P<R.length;P+=1)k.delete(R[P]);Lt(n,F.prev,t.next),Lt(n,A,F),Lt(n,t,q),E=q,A=t,O-=1,x=[],R=[]}else k.delete(i),mn(i,E,s),Lt(n,i.prev,i.next),Lt(n,i,A===null?n.first:A.next),Lt(n,A,i),A=i;continue}for(x=[],R=[];E!==null&&E.k!==D;)(E.e.f&Ft)===0&&(k??(k=new Set)).add(E),R.push(E),E=E.next;if(E===null)continue;i=E}x.push(i),A=i,E=i.next}if(E!==null||k!==void 0){for(var S=k===void 0?[]:qr(k);E!==null;)(E.e.f&Ft)===0&&S.push(E),E=E.next;var I=S.length;if(I>0){var M=w===0?s:null;hl(n,S,M,b)}}J.first=n.first&&n.first.e,J.last=A&&A.e}function ml(e,n,s,l){Rn(e.v,n),e.i=s}function bl(e,n,s,l,u,a,m,w,b,g){var E=(b&So)!==0,k=(b&To)===0,A=E?k?Ur(u):oe(u):u,x=(b&Po)===0?m:oe(m),R={i:x,v:A,k:a,a:null,e:null,prev:s,next:l};try{return R.e=ie(()=>w(e,A,x,g),Mo),R.e.prev=s&&s.e,R.e.next=l&&l.e,s===null?n.first=R:(s.next=R,s.e.next=R.e),l!==null&&(l.prev=R,l.e.prev=R.e),R}finally{}}function mn(e,n,s){for(var l=e.next?e.next.e.nodes_start:s,u=n?n.e.nodes_start:s,a=e.e.nodes_start;a!==l;){var m=vr(a);u.before(a),a=m}}function Lt(e,n,s){n===null?e.first=s:(n.next=s,n.e.next=s&&s.e),s!==null&&(s.prev=n,s.e.prev=n&&n.e)}function gl(e,n,s,l,u){var a=e,m="",w;hr(()=>{m!==(m=n()??"")&&(w!==void 0&&(It(w),w=void 0),m!==""&&(w=ie(()=>{var b=m+"",g=ts(b);Mr(Pe(g),g.lastChild),a.before(g)})))})}function wl(e,n,s){dr(()=>{var l=Te(()=>n(e,s==null?void 0:s())||{});if(l!=null&&l.destroy)return()=>l.destroy()})}const bn=[...` 	
\r\f \v\uFEFF`];function yl(e,n,s){var l=e==null?"":""+e;if(n&&(l=l?l+" "+n:n),s){for(var u in s)if(s[u])l=l?l+" "+u:u;else if(l.length)for(var a=u.length,m=0;(m=l.indexOf(u,m))>=0;){var w=m+a;(m===0||bn.includes(l[m-1]))&&(w===l.length||bn.includes(l[w]))?l=(m===0?"":l.substring(0,m))+l.substring(w+1):m=w}}return l===""?null:l}function Ut(e,n,s,l,u,a){var m=e.__className;if(m!==s||m===void 0){var w=yl(s,l,a);w==null?e.removeAttribute("class"):e.className=w,e.__className=s}else if(a&&u!==a)for(var b in a){var g=!!a[b];(u==null||g!==!!u[b])&&e.classList.toggle(b,g)}return a}function Al(e,n,s=n){var l=De();il(e,"input",u=>{var a=u?e.defaultValue:e.value;if(a=Tr(e)?Or(a):a,s(a),l&&a!==(a=n())){var m=e.selectionStart,w=e.selectionEnd;e.value=a??"",w!==null&&(e.selectionStart=m,e.selectionEnd=Math.min(w,e.value.length))}}),Te(n)==null&&e.value&&s(Tr(e)?Or(e.value):e.value),Vn(()=>{var u=n();Tr(e)&&u===Or(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function Tr(e){var n=e.type;return n==="number"||n==="range"}function Or(e){return e===""?null:+e}function es(e=!1){const n=et,s=n.l.u;if(!s)return;let l=()=>nl(n.s);if(e){let u=0,a={};const m=se(()=>{let w=!1;const b=n.s;for(const g in b)b[g]!==a[g]&&(a[g]=b[g],w=!0);return w&&u++,u});l=()=>U(m)}s.b.length&&Vo(()=>{gn(n,l),Ir(s.b)}),Rr(()=>{const u=Te(()=>s.m.map(co));return()=>{for(const a of u)typeof a=="function"&&a()}}),s.a.length&&Rr(()=>{gn(n,l),Ir(s.a)})}function gn(e,n){if(e.l.s)for(const s of e.l.s)U(s);n()}let Ze=!1;function xl(e){var n=Ze;try{return Ze=!1,[e(),Ze]}finally{Ze=n}}const Cl={get(e,n){if(!e.exclude.includes(n))return U(e.version),n in e.special?e.special[n]():e.props[n]},set(e,n,s){return n in e.special||(e.special[n]=it({get[n](){return e.props[n]}},n,Tn)),e.special[n](s),vn(e.version),!0},getOwnPropertyDescriptor(e,n){if(!e.exclude.includes(n)&&n in e.props)return{enumerable:!0,configurable:!0,value:e.props[n]}},deleteProperty(e,n){return e.exclude.includes(n)||(e.exclude.push(n),vn(e.version)),!0},has(e,n){return e.exclude.includes(n)?!1:n in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(n=>!e.exclude.includes(n))}};function El(e,n){return new Proxy({props:e,exclude:n,special:{},version:oe(0)},Cl)}const kl={get(e,n){let s=e.props.length;for(;s--;){let l=e.props[s];if(Ee(l)&&(l=l()),typeof l=="object"&&l!==null&&n in l)return l[n]}},set(e,n,s){let l=e.props.length;for(;l--;){let u=e.props[l];Ee(u)&&(u=u());const a=jt(u,n);if(a&&a.set)return a.set(s),!0}return!1},getOwnPropertyDescriptor(e,n){let s=e.props.length;for(;s--;){let l=e.props[s];if(Ee(l)&&(l=l()),typeof l=="object"&&l!==null&&n in l){const u=jt(l,n);return u&&!u.configurable&&(u.configurable=!0),u}}},has(e,n){if(n===Gt||n===Sn)return!1;for(let s of e.props)if(Ee(s)&&(s=s()),s!=null&&n in s)return!0;return!1},ownKeys(e){const n=[];for(let s of e.props){Ee(s)&&(s=s());for(const l in s)n.includes(l)||n.push(l)}return n}};function Sl(...e){return new Proxy({props:e},kl)}function wn(e){var n;return((n=e.ctx)==null?void 0:n.d)??!1}function it(e,n,s,l){var F;var u=(s&Oo)!==0,a=!Oe||(s&Fo)!==0,m=(s&Io)!==0,w=(s&Do)!==0,b=!1,g;m?[g,b]=xl(()=>e[n]):g=e[n];var E=Gt in e||Sn in e,k=m&&(((F=jt(e,n))==null?void 0:F.set)??(E&&n in e&&(t=>e[n]=t)))||void 0,A=l,x=!0,R=!1,N=()=>(R=!0,x&&(x=!1,w?A=Te(l):A=l),A);g===void 0&&l!==void 0&&(k&&a&&yo(),g=N(),k&&k(g));var D;if(a)D=()=>{var t=e[n];return t===void 0?N():(x=!0,R=!1,t)};else{var i=(u?se:nr)(()=>e[n]);i.f|=ho,D=()=>{var t=U(i);return t!==void 0&&(A=void 0),t===void 0?A:t}}if((s&Tn)===0)return D;if(k){var O=e.$$legacy;return function(t,S){return arguments.length>0?((!a||!S||O||b)&&k(S?D():t),t):D()}}var L=!1,q=Ur(g),P=se(()=>{var t=D(),S=U(q);return L?(L=!1,S):q.v=t});return m&&U(P),u||(P.equals=Vr),function(t,S){if(arguments.length>0){const I=S?U(P):a&&m?Ct(t):t;if(!P.equals(I)){if(L=!0,st(q,I),R&&A!==void 0&&(A=I),wn(P))return t;Te(()=>U(P))}return t}return wn(P)?P.v:U(P)}}const Pl="5";var xn;typeof window<"u"&&((xn=window.__svelte??(window.__svelte={})).v??(xn.v=new Set)).add(Pl);ko();var Tl=$t('<button class="svelte-kn1b4h"> </button>'),Ol=$t('<nav class="menu svelte-kn1b4h"><div class="menu-container svelte-kn1b4h"><div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">File</button> <div><button class="svelte-kn1b4h">New</button> <button class="svelte-kn1b4h">Open..</button> <button class="svelte-kn1b4h">Save</button> <button class="svelte-kn1b4h">Save as..</button></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h"> </button> <div></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">Format</button> <div><button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button> <hr class="svelte-kn1b4h"> <button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">View</button> <div><button class="svelte-kn1b4h"> </button> <hr class="svelte-kn1b4h"> <button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button> <hr class="svelte-kn1b4h"> <button class="svelte-kn1b4h"> </button></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">Help</button> <div><a href="https://www.chordpro.org/chordpro/" class="svelte-kn1b4h">ChordPro Format</a> <a href="https://github.com/mnezerka/svelte-chordpro-editor" class="svelte-kn1b4h">Github Repository</a></div></div></div></nav>');function Fl(e,n){Fe(n,!1);let s=it(n,"transpose_steps",8,0),l=it(n,"format",24,()=>({})),u=it(n,"view",24,()=>({})),a=it(n,"on_new",8,()=>{}),m=it(n,"on_open",8,()=>{}),w=it(n,"on_save",8,()=>{}),b=it(n,"on_save_as",8,()=>{}),g=it(n,"on_transpose",8,()=>{}),E=it(n,"on_format_toggle",8,()=>{}),k=it(n,"on_format_set",8,()=>{}),A=it(n,"on_view_toggle",8,()=>{}),x=Ur(null);const R=[-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6];function N(z){U(x)===z?st(x,null):st(x,z)}function D(z,Q,ct){st(x,null),z(Q,ct)}function i(z){const Q=ct=>{z.contains(ct.target)||z.dispatchEvent(new CustomEvent("outclick"))};return document.addEventListener("click",Q,!0),{destroy(){document.removeEventListener("click",Q,!0)}}}const O=()=>{st(x,null)};function L(z,Q){return z<0?"-"+z:z>0?"+"+z:Q!==void 0?Q:"no transposition"}function q(z){return F(L(z),z==s())}function P(){let z="Transpose",Q=L(s(),"");return Q&&(z+=" ("+Q+")"),z}function F(z,Q){let ct=z;return Q&&(ct+=" ✓"),ct}es();var t=Ol(),S=W(t),I=W(S),M=W(I),T=V(M,2);let G;var rt=W(T),mt=V(rt,2),Vt=V(mt,2),B=V(Vt,2),X=V(I,2),Rt=W(X),Le=W(Rt),fe=V(Rt,2);let ce;_l(fe,5,()=>R,dl,(z,Q)=>{var ct=Tl(),Nt=W(ct);le(Ce=>ft(Nt,Ce),[()=>q(U(Q))],nr),Z("click",ct,()=>{D(g(),U(Q))}),Bt(z,ct)});var ve=V(X,2),de=W(ve),he=V(de,2);let _e;var Ht=W(he),Me=W(Ht),Kt=V(Ht,2),je=W(Kt),zt=V(Kt,2),qe=W(zt),Jt=V(zt,4),Be=W(Jt),pe=V(Jt,2),$e=W(pe),me=V(ve,2),be=W(me),ge=V(be,2);let we;var Zt=W(ge),Ve=W(Zt),Xt=V(Zt,4),Ue=W(Xt),Qt=V(Xt,2),Ge=W(Qt),te=V(Qt,2),mr=W(te),ye=V(te,2),We=W(ye),Ae=V(ye,4),Ye=W(Ae),He=V(me,2),Ke=W(He),Y=V(Ke,2);let xe;wl(t,z=>i==null?void 0:i(z)),dr(()=>Z("outclick",t,()=>O())),le((z,Q,ct,Nt,Ce,nt,at,H,tt,br,gr,wr,yr,Ar,xr,Cr,Er)=>{G=Ut(T,1,"menu-item-container svelte-kn1b4h",null,G,z),ft(Le,Q),ce=Ut(fe,1,"menu-item-container svelte-kn1b4h",null,ce,ct),_e=Ut(he,1,"menu-item-container svelte-kn1b4h",null,_e,Nt),ft(Me,Ce),ft(je,nt),ft(qe,at),ft(Be,H),ft($e,tt),we=Ut(ge,1,"menu-item-container svelte-kn1b4h",null,we,br),ft(Ve,gr),ft(Ue,wr),ft(Ge,yr),ft(mr,Ar),ft(We,xr),ft(Ye,Cr),xe=Ut(Y,1,"menu-item-container svelte-kn1b4h",null,xe,Er)},[()=>({hidden:U(x)!=="file"}),P,()=>({hidden:U(x)!=="transpose"}),()=>({hidden:U(x)!=="format"}),()=>F("Title Left",l().title_align=="left"),()=>F("Title Center",l().title_align=="center"),()=>F("Title Right",l().title_align=="right"),()=>F("Color Title",l().color_title),()=>F("Color Chords",l().color_chords),()=>({hidden:U(x)!=="view"}),()=>F("ChordPro Cheat Sheet",u().cheatsheet),()=>F("Show Artist",u().show_artist),()=>F("Show Chords",u().show_chords),()=>F("Show Comments",u().show_comments),()=>F("Show Tabs",u().show_tabs),()=>F("Monospaced Editor",u().editor_monospaced),()=>({hidden:U(x)!=="help"})],nr),Z("click",M,()=>{N("file")}),Z("click",rt,()=>{D(a())}),Z("click",mt,()=>{D(m())}),Z("click",Vt,()=>{D(w())}),Z("click",B,()=>{D(b())}),Z("click",Rt,()=>{N("transpose")}),Z("click",de,()=>{N("format")}),Z("click",Ht,()=>{D(k(),"title_align","left")}),Z("click",Kt,()=>{D(k(),"title_align","center")}),Z("click",zt,()=>{D(k(),"title_align","right")}),Z("click",Jt,()=>{D(E(),"color_title")}),Z("click",pe,()=>{D(E(),"color_chords")}),Z("click",be,()=>{N("view")}),Z("click",Zt,()=>{D(A(),"cheatsheet")}),Z("click",Xt,()=>{D(A(),"show_artist")}),Z("click",Qt,()=>{D(A(),"show_chords")}),Z("click",te,()=>{D(A(),"show_comments")}),Z("click",ye,()=>{D(A(),"show_tabs")}),Z("click",Ae,()=>{D(A(),"editor_monospaced")}),Z("click",Ke,()=>{N("help")}),Bt(e,t),Ie()}var Il=$t('<span class="sub"> </span>'),Dl=$t('<nav class="no-print svelte-dzut9y"><div class="title svelte-dzut9y"><span class="main svelte-dzut9y">ChordPro Editor</span> <!></div> <!></nav>');function Rl(e,n){const s=El(n,["children","$$slots","$$events","$$legacy"]);Fe(n,!1);let l=it(n,"subtitle",8,"");es();var u=Dl(),a=W(u),m=V(W(a),2);{var w=g=>{var E=Il(),k=W(E);le(()=>ft(k,`- ${l()??""}`)),Bt(g,E)};Yr(m,g=>{l().length>0&&g(w)})}var b=V(a,2);Fl(b,Sl(()=>s)),Bt(e,u),Ie()}function Nl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xe={},yn;function Ll(){if(yn)return Xe;yn=1;function e(N){return N&&N.__esModule&&Object.prototype.hasOwnProperty.call(N,"default")?N.default:N}Object.defineProperty(Xe,"__esModule",{value:!0});var n,s,l,u,a,m,w,b,g,E={};function k(){if(s)return n;function N(i,O,L,q){var P=Error.call(this,i);return Object.setPrototypeOf&&Object.setPrototypeOf(P,N.prototype),P.expected=O,P.found=L,P.location=q,P.name="SyntaxError",P}function D(i,O,L){return L=L||" ",i.length>O?i:(O-=i.length,i+(L+=L.repeat(O)).slice(0,O))}return s=1,function(i,O){function L(){this.constructor=i}L.prototype=O.prototype,i.prototype=new L}(N,Error),N.prototype.format=function(i){var O="Error: "+this.message;if(this.location){var L,q=null;for(L=0;L<i.length;L++)if(i[L].source===this.location.source){q=i[L].text.split(/\r\n|\n|\r/g);break}var P=this.location.start,F=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(P):P,t=this.location.source+":"+F.line+":"+F.column;if(q){var S=this.location.end,I=D("",F.line.toString().length," "),M=q[P.line-1],T=(P.line===S.line?S.column:M.length+1)-P.column||1;O+=`
 --> `+t+`
`+I+` |
`+F.line+" | "+M+`
`+I+" | "+D("",P.column-1," ")+D("",T,"^")}else O+=`
 at `+t}return O},N.buildMessage=function(i,O){var L={literal:function(S){return'"'+P(S.text)+'"'},class:function(S){var I=S.parts.map(function(M){return Array.isArray(M)?F(M[0])+"-"+F(M[1]):F(M)});return"["+(S.inverted?"^":"")+I.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(S){return S.description}};function q(S){return S.charCodeAt(0).toString(16).toUpperCase()}function P(S){return S.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(I){return"\\x0"+q(I)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(I){return"\\x"+q(I)})}function F(S){return S.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(I){return"\\x0"+q(I)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(I){return"\\x"+q(I)})}function t(S){return L[S.type](S)}return"Expected "+function(S){var I,M,T=S.map(t);if(T.sort(),T.length>0){for(I=1,M=1;I<T.length;I++)T[I-1]!==T[I]&&(T[M]=T[I],M++);T.length=M}switch(T.length){case 1:return T[0];case 2:return T[0]+" or "+T[1];default:return T.slice(0,-1).join(", ")+", or "+T[T.length-1]}}(i)+" but "+function(S){return S?'"'+P(S)+'"':"end of input"}(O)+" found."},n={StartRules:["All"],SyntaxError:N,parse:function(i,O){var L,q,P,F,t={},S=(O=O!==void 0?O:{}).grammarSource,I={All:rn},M=rn,T="{",G="}",rt="title:",mt="t:",Vt="meta: title",B="subtitle:",X="st:",Rt="meta: subtitle",Le="artist:",fe="meta: artist",ce="composer:",ve="meta: composer",de="lyricist:",he="meta: lyricist",_e="copyright:",Ht="meta: copyright",Me="album:",Kt="meta: album",je="year:",zt="meta: year",qe="key:",Jt="meta: key",Be="capo:",pe="meta: capo",$e="time:",me="meta: time",be="tempo:",ge="meta: tempo",we="duration:",Zt="meta: duration",Ve="{c:",Xt="{comment:",Ue="soc",Qt="start_of_chorus",Ge="eoc",te="end_of_chorus",mr="[",ye="]",We="sot",Ae="start_of_tab",Ye="eot",He="end_of_tab",Ke=/^[\n\r]/,Y=/^[^}]/,xe=/^[^{[\n\r]/,z=/^[A-Z]/,Q=/^[^\]]/,ct=/^[^{\n\r]/,Nt={type:"any"},Ce=re([`
`,"\r"],!1,!1),nt=j("{",!1),at=j(" ",!1),H=re(["}"],!0,!1),tt=j("}",!1),br=j("title:",!1),gr=j("t:",!1),wr=j("meta: title",!1),yr=j("subtitle:",!1),Ar=j("st:",!1),xr=j("meta: subtitle",!1),Cr=j("artist:",!1),Er=j("meta: artist",!1),rs=j("composer:",!1),ns=j("meta: composer",!1),ss=j("lyricist:",!1),os=j("meta: lyricist",!1),ls=j("copyright:",!1),is=j("meta: copyright",!1),as=j("album:",!1),us=j("meta: album",!1),fs=j("year:",!1),cs=j("meta: year",!1),vs=j("key:",!1),ds=j("meta: key",!1),hs=j("capo:",!1),_s=j("meta: capo",!1),ps=j("time:",!1),ms=j("meta: time",!1),bs=j("tempo:",!1),gs=j("meta: tempo",!1),ws=j("duration:",!1),ys=j("meta: duration",!1),As=j("{c:",!1),xs=j("{comment:",!1),Cs=j("soc",!1),Es=j("start_of_chorus",!1),ks=j("eoc",!1),Ss=j("end_of_chorus",!1),Hr=re(["{","[",`
`,"\r"],!0,!1),Ps=j("[",!1),Kr=re([["A","Z"]],!1,!1),zr=re(["]"],!0,!1),Ts=j("]",!1),Os=j("sot",!1),Fs=j("start_of_tab",!1),Is=j("eot",!1),Ds=j("end_of_tab",!1),Jr=re(["{",`
`,"\r"],!0,!1),Rs=function(v){return""},Ns=function(v,o){return{header:v,content:o}},Ls=function(v){return v},Ms=function(v){return{type:"title",value:v}},js=function(v){return{type:"subtitle",value:v}},qs=function(v){return{type:"artist",value:v}},Bs=function(v){return{type:"composer",value:v}},$s=function(v){return{type:"lyricist",value:v}},Vs=function(v){return{type:"copyright",value:v}},Us=function(v){return{type:"album",value:v}},Gs=function(v){return{type:"year",value:v}},Ws=function(v){return{type:"key",value:v}},Ys=function(v){return{type:"capo",value:v}},Hs=function(v){return{type:"time",value:v}},Ks=function(v){return{type:"tempo",value:v}},zs=function(v){return{type:"duration",value:v}},Js=function(v){return{type:"comment",value:v}},Zr=function(v,o){return o},Zs=function(v,o,_){return[v].concat(o)},Xs=function(v){return{type:"verse",items:v}},Qs=function(v){return{type:"chorus",items:v}},Xr=function(v,o){return o},to=function(v,o){return[v].concat(o)},eo=function(v){return{type:"line",items:v}},ro=function(v){return{type:"text",value:v}},no=function(v){return{type:"chord",value:v}},so=function(v){return{type:"tab",items:v}},Qr=function(v,o){return o},oo=function(v,o){return[v].concat(o)},r=0|O.peg$currPos,ee=[{line:1,column:1}],At=r,ze=O.peg$maxFailExpected||[],d=0|O.peg$silentFails;if(O.startRule){if(!(O.startRule in I))throw new Error(`Can't start parsing from rule "`+O.startRule+'".');M=I[O.startRule]}function j(v,o){return{type:"literal",text:v,ignoreCase:o}}function re(v,o,_){return{type:"class",parts:v,inverted:o,ignoreCase:_}}function tn(v){var o,_=ee[v];if(_)return _;if(v>=ee.length)o=ee.length-1;else for(o=v;!ee[--o];);for(_={line:(_=ee[o]).line,column:_.column};o<v;)i.charCodeAt(o)===10?(_.line++,_.column=1):_.column++,o++;return ee[v]=_,_}function en(v,o,_){var C=tn(v),y=tn(o);return{source:S,start:{offset:v,line:C.line,column:C.column},end:{offset:o,line:y.line,column:y.column}}}function h(v){r<At||(r>At&&(At=r,ze=[]),ze.push(v))}function rn(){var v,o,_,C,y;return v=r,o=function(){var c,f,p;if(c=r,f=[],p=nn(),p!==t)for(;p!==t;)f.push(p),p=nn();else f=t;return f!==t&&(f=Ls(f)),c=f,c}(),o===t&&(o=null),_=function(){var c,f,p,$,lt,ht,ut;if(c=r,f=kr(),f!==t){if(p=[],$=r,(lt=ot())!==t){if(ht=[],(ut=ot())!==t)for(;ut!==t;)ht.push(ut),ut=ot();else ht=t;ht!==t&&(ut=kr())!==t?$=Zr(f,ut):(r=$,$=t)}else r=$,$=t;for(;$!==t;)if(p.push($),$=r,(lt=ot())!==t){if(ht=[],(ut=ot())!==t)for(;ut!==t;)ht.push(ut),ut=ot();else ht=t;ht!==t&&(ut=kr())!==t?$=Zr(f,ut):(r=$,$=t)}else r=$,$=t;if($=r,d++,i.length>r?(lt=i.charAt(r),r++):(lt=t,d===0&&h(Nt)),d--,lt===t?$=void 0:(r=$,$=t),$===t){if($=[],(lt=ot())!==t)for(;lt!==t;)$.push(lt),lt=ot();else $=t;$===t&&($=r,d++,i.length>r?(lt=i.charAt(r),r++):(lt=t,d===0&&h(Nt)),d--,lt===t?$=void 0:(r=$,$=t))}$!==t?c=Zs(f,p):(r=c,c=t)}else r=c,c=t;return c}(),_===t&&(_=r,C=r,d++,i.length>r?(y=i.charAt(r),r++):(y=t,d===0&&h(Nt)),d--,y===t?C=void 0:(r=C,C=t),C!==t&&(C=Rs()),_=C),_!==t?v=Ns(o,_):(r=v,v=t),v}function nn(){var v;return(v=function(){var o,_,C,y,c,f;if(o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t)if(C=function(){var p;return i.substr(r,6)===rt?(p=rt,r+=6):(p=t,d===0&&h(br)),p===t&&(i.substr(r,2)===mt?(p=mt,r+=2):(p=t,d===0&&h(gr)),p===t&&(i.substr(r,11)===Vt?(p=Vt,r+=11):(p=t,d===0&&h(wr)))),p}(),C!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(at),y=r,c=[],f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H));else c=t;(y=c!==t?i.substring(y,r):c)!==t?(i.charCodeAt(r)===125?(c=G,r++):(c=t,d===0&&h(tt)),c!==t&&(f=bt())!==t?o=Ms(y):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,C,y,c,f;if(o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t)if(C=function(){var p;return i.substr(r,9)===B?(p=B,r+=9):(p=t,d===0&&h(yr)),p===t&&(i.substr(r,3)===X?(p=X,r+=3):(p=t,d===0&&h(Ar)),p===t&&(i.substr(r,14)===Rt?(p=Rt,r+=14):(p=t,d===0&&h(xr)))),p}(),C!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(at),y=r,c=[],f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H));else c=t;(y=c!==t?i.substring(y,r):c)!==t?(i.charCodeAt(r)===125?(c=G,r++):(c=t,d===0&&h(tt)),c!==t&&(f=bt())!==t?o=js(y):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,C,y,c,f;if(o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t)if(C=function(){var p;return i.substr(r,7)===Le?(p=Le,r+=7):(p=t,d===0&&h(Cr)),p===t&&(i.substr(r,12)===fe?(p=fe,r+=12):(p=t,d===0&&h(Er))),p}(),C!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(at),y=r,c=[],f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H));else c=t;(y=c!==t?i.substring(y,r):c)!==t?(i.charCodeAt(r)===125?(c=G,r++):(c=t,d===0&&h(tt)),c!==t&&(f=bt())!==t?o=qs(y):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,C,y,c,f;if(o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t)if(C=function(){var p;return i.substr(r,9)===ce?(p=ce,r+=9):(p=t,d===0&&h(rs)),p===t&&(i.substr(r,14)===ve?(p=ve,r+=14):(p=t,d===0&&h(ns))),p}(),C!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(at),y=r,c=[],f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H));else c=t;(y=c!==t?i.substring(y,r):c)!==t?(i.charCodeAt(r)===125?(c=G,r++):(c=t,d===0&&h(tt)),c!==t&&(f=bt())!==t?o=Bs(y):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,C,y,c,f;if(o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t)if(C=function(){var p;return i.substr(r,9)===de?(p=de,r+=9):(p=t,d===0&&h(ss)),p===t&&(i.substr(r,14)===he?(p=he,r+=14):(p=t,d===0&&h(os))),p}(),C!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(at),y=r,c=[],f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H));else c=t;(y=c!==t?i.substring(y,r):c)!==t?(i.charCodeAt(r)===125?(c=G,r++):(c=t,d===0&&h(tt)),c!==t&&(f=bt())!==t?o=$s(y):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,C,y,c,f;if(o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t)if(C=function(){var p;return i.substr(r,10)===_e?(p=_e,r+=10):(p=t,d===0&&h(ls)),p===t&&(i.substr(r,15)===Ht?(p=Ht,r+=15):(p=t,d===0&&h(is))),p}(),C!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(at),y=r,c=[],f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H));else c=t;(y=c!==t?i.substring(y,r):c)!==t?(i.charCodeAt(r)===125?(c=G,r++):(c=t,d===0&&h(tt)),c!==t&&(f=bt())!==t?o=Vs(y):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,C,y,c,f;if(o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t)if(C=function(){var p;return i.substr(r,6)===Me?(p=Me,r+=6):(p=t,d===0&&h(as)),p===t&&(i.substr(r,11)===Kt?(p=Kt,r+=11):(p=t,d===0&&h(us))),p}(),C!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(at),y=r,c=[],f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H));else c=t;(y=c!==t?i.substring(y,r):c)!==t?(i.charCodeAt(r)===125?(c=G,r++):(c=t,d===0&&h(tt)),c!==t&&(f=bt())!==t?o=Us(y):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,C,y,c,f;if(o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t)if(C=function(){var p;return i.substr(r,5)===je?(p=je,r+=5):(p=t,d===0&&h(fs)),p===t&&(i.substr(r,10)===zt?(p=zt,r+=10):(p=t,d===0&&h(cs))),p}(),C!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(at),y=r,c=[],f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H));else c=t;(y=c!==t?i.substring(y,r):c)!==t?(i.charCodeAt(r)===125?(c=G,r++):(c=t,d===0&&h(tt)),c!==t&&(f=bt())!==t?o=Gs(y):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,C,y,c,f;if(o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t)if(C=function(){var p;return i.substr(r,4)===qe?(p=qe,r+=4):(p=t,d===0&&h(vs)),p===t&&(i.substr(r,9)===Jt?(p=Jt,r+=9):(p=t,d===0&&h(ds))),p}(),C!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(at),y=r,c=[],f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H));else c=t;(y=c!==t?i.substring(y,r):c)!==t?(i.charCodeAt(r)===125?(c=G,r++):(c=t,d===0&&h(tt)),c!==t&&(f=bt())!==t?o=Ws(y):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,C,y,c,f;if(o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t)if(C=function(){var p;return i.substr(r,5)===Be?(p=Be,r+=5):(p=t,d===0&&h(hs)),p===t&&(i.substr(r,10)===pe?(p=pe,r+=10):(p=t,d===0&&h(_s))),p}(),C!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(at),y=r,c=[],f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H));else c=t;(y=c!==t?i.substring(y,r):c)!==t?(i.charCodeAt(r)===125?(c=G,r++):(c=t,d===0&&h(tt)),c!==t&&(f=bt())!==t?o=Ys(y):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,C,y,c,f;if(o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t)if(C=function(){var p;return i.substr(r,5)===$e?(p=$e,r+=5):(p=t,d===0&&h(ps)),p===t&&(i.substr(r,10)===me?(p=me,r+=10):(p=t,d===0&&h(ms))),p}(),C!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(at),y=r,c=[],f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H));else c=t;(y=c!==t?i.substring(y,r):c)!==t?(i.charCodeAt(r)===125?(c=G,r++):(c=t,d===0&&h(tt)),c!==t&&(f=bt())!==t?o=Hs(y):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,C,y,c,f;if(o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t)if(C=function(){var p;return i.substr(r,6)===be?(p=be,r+=6):(p=t,d===0&&h(bs)),p===t&&(i.substr(r,11)===ge?(p=ge,r+=11):(p=t,d===0&&h(gs))),p}(),C!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(at),y=r,c=[],f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H));else c=t;(y=c!==t?i.substring(y,r):c)!==t?(i.charCodeAt(r)===125?(c=G,r++):(c=t,d===0&&h(tt)),c!==t&&(f=bt())!==t?o=Ks(y):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}())===t&&(v=function(){var o,_,C,y,c,f;if(o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t)if(C=function(){var p;return i.substr(r,9)===we?(p=we,r+=9):(p=t,d===0&&h(ws)),p===t&&(i.substr(r,14)===Zt?(p=Zt,r+=14):(p=t,d===0&&h(ys))),p}(),C!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(at),y=r,c=[],f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),Y.test(f)?r++:(f=t,d===0&&h(H));else c=t;(y=c!==t?i.substring(y,r):c)!==t?(i.charCodeAt(r)===125?(c=G,r++):(c=t,d===0&&h(tt)),c!==t&&(f=bt())!==t?o=zs(y):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;else r=o,o=t;return o}()),v}function ot(){var v;return v=i.charAt(r),Ke.test(v)?r++:(v=t,d===0&&h(Ce)),v}function bt(){var v,o;if(v=[],(o=ot())!==t)for(;o!==t;)v.push(o),o=ot();else v=t;return v===t&&(v=r,d++,i.length>r?(o=i.charAt(r),r++):(o=t,d===0&&h(Nt)),d--,o===t?v=void 0:(r=v,v=t)),v}function kr(){var v;return(v=function(){var o,_;return o=r,(_=sn())!==t&&(_=Xs(_)),o=_,o}())===t&&(v=function(){var o,_,C,y,c,f,p,$;return o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t?(i.substr(r,3)===Ue?(C=Ue,r+=3):(C=t,d===0&&h(Cs)),C===t&&(i.substr(r,15)===Qt?(C=Qt,r+=15):(C=t,d===0&&h(Es))),C!==t?(i.charCodeAt(r)===125?(y=G,r++):(y=t,d===0&&h(tt)),y!==t&&ot()!==t&&(c=sn())!==t&&ot()!==t?(i.charCodeAt(r)===123?(f=T,r++):(f=t,d===0&&h(nt)),f!==t?(i.substr(r,3)===Ge?(p=Ge,r+=3):(p=t,d===0&&h(ks)),p===t&&(i.substr(r,13)===te?(p=te,r+=13):(p=t,d===0&&h(Ss))),p!==t?(i.charCodeAt(r)===125?($=G,r++):($=t,d===0&&h(tt)),$!==t?o=Qs(c):(r=o,o=t)):(r=o,o=t)):(r=o,o=t)):(r=o,o=t)):(r=o,o=t)):(r=o,o=t),o}())===t&&(v=function(){var o,_,C,y,c;if(o=r,i.substr(r,3)===Ve?(_=Ve,r+=3):(_=t,d===0&&h(As)),_===t&&(i.substr(r,9)===Xt?(_=Xt,r+=9):(_=t,d===0&&h(xs))),_!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(at),C=r,y=[],c=i.charAt(r),Y.test(c)?r++:(c=t,d===0&&h(H)),c!==t)for(;c!==t;)y.push(c),c=i.charAt(r),Y.test(c)?r++:(c=t,d===0&&h(H));else y=t;(C=y!==t?i.substring(C,r):y)!==t?(i.charCodeAt(r)===125?(y=G,r++):(y=t,d===0&&h(tt)),y!==t?o=Js(C):(r=o,o=t)):(r=o,o=t)}else r=o,o=t;return o}())===t&&(v=function(){var o,_,C,y,c,f,p,$;return o=r,i.charCodeAt(r)===123?(_=T,r++):(_=t,d===0&&h(nt)),_!==t?(i.substr(r,3)===We?(C=We,r+=3):(C=t,d===0&&h(Os)),C===t&&(i.substr(r,12)===Ae?(C=Ae,r+=12):(C=t,d===0&&h(Fs))),C!==t?(i.charCodeAt(r)===125?(y=G,r++):(y=t,d===0&&h(tt)),y!==t&&ot()!==t?(c=function(){var lt,ht,ut,St,Je;if(lt=r,ht=Pr(),ht!==t){for(ut=[],St=r,ot()!==t&&(Je=Pr())!==t?St=Qr(ht,Je):(r=St,St=t);St!==t;)ut.push(St),St=r,ot()!==t&&(Je=Pr())!==t?St=Qr(ht,Je):(r=St,St=t);lt=oo(ht,ut)}else r=lt,lt=t;return lt}(),c!==t&&ot()!==t?(i.charCodeAt(r)===123?(f=T,r++):(f=t,d===0&&h(nt)),f!==t?(i.substr(r,3)===Ye?(p=Ye,r+=3):(p=t,d===0&&h(Is)),p===t&&(i.substr(r,10)===He?(p=He,r+=10):(p=t,d===0&&h(Ds))),p!==t?(i.charCodeAt(r)===125?($=G,r++):($=t,d===0&&h(tt)),$!==t?o=so(c):(r=o,o=t)):(r=o,o=t)):(r=o,o=t)):(r=o,o=t)):(r=o,o=t)):(r=o,o=t)):(r=o,o=t),o}()),v}function sn(){var v,o,_,C,y;if(v=r,(o=Sr())!==t){for(_=[],C=r,ot()!==t&&(y=Sr())!==t?C=Xr(o,y):(r=C,C=t);C!==t;)_.push(C),C=r,ot()!==t&&(y=Sr())!==t?C=Xr(o,y):(r=C,C=t);v=to(o,_)}else r=v,v=t;return v}function Sr(){var v,o;if(v=[],(o=ln())===t&&(o=on()),o!==t)for(;o!==t;)v.push(o),(o=ln())===t&&(o=on());else v=t;return v!==t&&(v=eo(v)),v}function on(){var v,o,_;if(v=r,o=[],_=i.charAt(r),xe.test(_)?r++:(_=t,d===0&&h(Hr)),_!==t)for(;_!==t;)o.push(_),_=i.charAt(r),xe.test(_)?r++:(_=t,d===0&&h(Hr));else o=t;return(v=o!==t?i.substring(v,r):o)!==t&&(v=ro(v)),v}function ln(){var v,o,_,C,y,c,f;if(v=r,i.charCodeAt(r)===91?(o=mr,r++):(o=t,d===0&&h(Ps)),o!==t){if(_=r,C=r,y=[],c=i.charAt(r),z.test(c)?r++:(c=t,d===0&&h(Kr)),c!==t)for(;c!==t;)y.push(c),c=i.charAt(r),z.test(c)?r++:(c=t,d===0&&h(Kr));else y=t;if(y!==t){for(c=[],f=i.charAt(r),Q.test(f)?r++:(f=t,d===0&&h(zr));f!==t;)c.push(f),f=i.charAt(r),Q.test(f)?r++:(f=t,d===0&&h(zr));C=y=[y,c]}else r=C,C=t;(_=C!==t?i.substring(_,r):C)!==t?(i.charCodeAt(r)===93?(C=ye,r++):(C=t,d===0&&h(Ts)),C!==t?v=no(_):(r=v,v=t)):(r=v,v=t)}else r=v,v=t;return v}function Pr(){var v,o,_;if(v=r,o=[],_=i.charAt(r),ct.test(_)?r++:(_=t,d===0&&h(Jr)),_!==t)for(;_!==t;)o.push(_),_=i.charAt(r),ct.test(_)?r++:(_=t,d===0&&h(Jr));else o=t;return v=o!==t?i.substring(v,r):o}if(L=M(),O.peg$library)return{peg$result:L,peg$currPos:r,peg$FAILED:t,peg$maxFailExpected:ze,peg$maxFailPos:At};if(L!==t&&r===i.length)return L;throw L!==t&&r<i.length&&h({type:"end"}),q=ze,P=At<i.length?i.charAt(At):null,F=At<i.length?en(At,At+1):en(At,At),new N(N.buildMessage(q,P),q,P,F)}}}function A(){if(b)return w;function N(D,i){const O=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],L=["C","Db","D","D#","E","F","Gb","G","G#","A","A#","B"];if(D.length<1)return;let q="",P=0;for(;P<D.length;){if("CDEFGAB".indexOf(D[P])===-1){q+=D[P],P++;continue}let F=D[P];P++,P<D.length&&(D[P]!=="#"&&D[P]!=="b"||(F+=D[P],P++));let t=O.indexOf(F);t===-1&&(t=L.indexOf(F),t===-1&&console.error("Unknown chord root",F)),t+=i,t%=12,t<0&&(t=12+t),q+=O[t]}return q}return b=1,w={transpose:function(D,i){for(let O of D.content)if(["verse","chorus"].includes(O.type)){for(let L of O.items)if(L.type=="line")for(let q of L.items)q.type=="chord"&&(q.value=N(q.value,i))}return D},transposeChord:N}}var x=function(){if(g)return E;g=1;const N=k(),D=function(){if(u)return l;function L(P){let F="",t="";for(let I=0;I<P.items.length;I++){const M=P.items[I];let T;switch(M.value.length,M.type){case"chord":T=t.length-F.length,T>0&&(F+=" ".repeat(T)),F+=M.value+" ";break;case"text":t+=M.value,T=F.length-t.length,T>0&&(t+=" ".repeat(T))}}let S="";return F.length>0&&(S+=F+`
`),S+t}function q(P){var F="";for(let t=0;t<P.items.length;t++){const S=P.items[t];S.type=="line"&&(F+=L(S)+`
`)}return F}return u=1,l={processSong:function(P){var F="";if(P.header)for(let t=0;t<P.header.length;t++){let S=P.header[t];switch(S.type){case"title":F+=`Title: ${S.value}
`;break;case"subtitle":F+=`Subtitle: ${S.value}
`;break;case"artist":F+=`Artist: ${S.value}
`}}F+=`
`;for(let t=0;t<P.content.length;t++){let S=P.content[t];t>0&&(F+=`

`),S.type!="verse"&&S.type!="chorus"||(F+=q(S))}return F},processVerse:q,processRow:L}}(),i=function(){if(m)return a;function L(t,S){let I=[],M=[],T=null;for(let rt=0;rt<t.items.length;rt++){let mt=t.items[rt];mt.type==="chord"?(I.push(mt.value),T=mt.value):mt.type==="text"&&(T===null&&I.push(""),M.push(mt.value),T=null)}let G='<table class="line">';return S&&(G+='<tr class="line-chords">',G+=I.map(rt=>`<td class="chord">${rt}</td>`).join(`
`),G+="</tr>"),G+='<tr class="line-lyrics">',G+=M.map(rt=>`<td class="lyrics">${rt.replaceAll(" ","&nbsp;")}</td>`).join(`
`),G+="</tr>",G+="</table>",G}function q(t){let S=function(M){if(!M.items)return!1;for(let T=0;T<M.items.length;T++){let G=M.items[T];for(let rt=0;rt<G.items.length;rt++)if(G.items[rt].type==="chord")return!0}return!1}(t),I=`<div class="${t.type}">
`;for(let M=0;M<t.items.length;M++)I+=L(t.items[M],S);return I+="</div>",I}function P(t){let S=`<div class="${t.type}">
`;return S+=t.value+`
`,S+=`</div>
`,S}function F(t){let S=`<div class="${t.type}">
`;for(let I=0;I<t.items.length;I++)S+=t.items[I]+`
`;return S+="</div>",S}return m=1,a={processSong:function(t){var S=`<div class="jschordpro-song">

`;let I="";if(t.header)for(let M=0;M<t.header.length;M++){let T=t.header[M];switch(T.type){case"title":I+=`<h1 class="${T.type}">${T.value}</h1>
`;break;case"subtitle":case"artist":case"composer":case"lyricist":case"copyright":case"album":case"year":case"key":case"capo":case"time":case"tempo":case"duration":I+=`<h2 class="${T.type}">${T.value}</h2>
`;break;default:console.warn(`no formatting defined for header item of type "${T.type}".`)}}I&&(S+=`<div class="header">
`,S+=I,S+=`</div>

`),S+=`<div class="content">
`;for(let M=0;M<t.content.length;M++){let T=t.content[M];switch(T.type){case"comment":S+=P(T);break;case"tab":S+=F(T);break;default:S+=q(T)}}return(S+=`</div>
`)+`</div>
`}}}(),O=A();return E.parse=N.parse,E.to_ascii=D.processSong,E.to_html=i.processSong,E.transpose=O.transpose,E}(),R=e(x);return Xe.default=R,Xe}var Ml=Ll();const Fr=Nl(Ml);var jl=$t('<div class="error svelte-na4x06"> </div>'),ql=$t('<div class="preview svelte-na4x06"><!> <div><!></div></div>');function Bl(e,n){Fe(n,!0);let s=it(n,"source",3,""),l=it(n,"transpose_steps",3,0),u=it(n,"format",19,()=>({})),a=it(n,"view",19,()=>({})),m=On(()=>{let x={html:"",err:null};try{let R=Fr.parse(s());l()!=0&&Fr.transpose(R,l()),x.html=Fr.to_html(R)}catch(R){x.err=R.toString()}return x});function w(){let x="";return x+="meta-"+u().title_align+" ",u().color_title===!0&&(x+="color-title "),u().color_chords===!0&&(x+="color-chords "),a().show_artist===!1&&(x+="hide-artist "),a().show_chords===!1&&(x+="hide-chords "),a().show_comments===!1&&(x+="hide-comments "),a().show_tabs===!1&&(x+="hide-tabs "),x}var b=ql(),g=W(b);{var E=x=>{var R=jl(),N=W(R);le(()=>ft(N,U(m).err)),Bt(x,R)};Yr(g,x=>{U(m).err!==null&&x(E)})}var k=V(g,2),A=W(k);gl(A,()=>U(m).html),le(x=>Ut(k,1,x,"svelte-na4x06"),[w]),Bt(e,b),Ie()}var $l=$t(`<div class="cheatsheet svelte-lvi09b"><h1 class="svelte-lvi09b">ChordPro Cheat Sheet</h1> <p class="svelte-lvi09b"><b>Title</b> of the song:</p> <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Sub Title</b> - additional (less important) title of the song:</p> <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Artist</b> of the song:</p> <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Chorus</b> is text between <i>start</i> and <i>end</i> identifiers (no empty lines allowed).</p> <pre class="svelte-lvi09b"></pre> or <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Chords</b> are inserted into the text between brackets <i>[</i> and <i>]</i> It is important to start each chord with capital letter to keep your text
machine readable and benefit from additional functionality (e.g.
transpositions). See example of verse with major and minor chords:</p> <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Comments</b> could be added to provide additional information:</p> <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Tabulatures</b> could be added. Tab sections will be formatted in monospace
font to keep all alignments and postions:</p> <pre class="svelte-lvi09b"></pre></div>`);function Vl(e){var n=$l(),s=V(W(n),4);s.textContent=`{title: Song title}
`;var l=V(s,4);l.textContent=`{subtitle: Song subtitle}
`;var u=V(l,4);u.textContent=`{artist: Bob Dylan}
`;var a=V(u,4);a.textContent=`{start_of_chorus}
First line of chorus
Second line of chorus
{end_of_chorus}
`;var m=V(a,2);m.textContent=`{soc}
First line of chorus
Second line of chorus
{eoc}
`;var w=V(m,4);w.textContent=`[Am]In my time of dying
[Am]I don't want nobody to mourn
[Am]All I want for you to do
Is [D]take my body [Am]home

`;var b=V(w,4);b.textContent=`{comment: Some comment text}

or

{c: Some comment text}
`;var g=V(b,4);g.textContent=`{start_of_tab}
--------2---3---4---3-----
------1---1---1---0-3-----
--------------------------
--------------------------
--------------------------


`,Bt(e,n)}function Ul(){if("showSaveFilePicker"in window){const n={types:[{description:"Chordpro text file",accept:{"text/plain":[".txt"]}}]};return window.showSaveFilePicker(n)}const e={type:"save-file",accepts:[{description:"Text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function Gl(){if("showOpenFilePicker"in window){const n={types:[{description:"Chordpro",accept:{"text/plain":[".txt"]}}],excludeAcceptAllOption:!1,multiple:!1};return window.showOpenFilePicker(n).then(s=>s[0])}const e={type:"open-file",accepts:[{description:"Chordpro text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function Wl(e){return e.text?e.text():new Promise(s=>{const l=new FileReader;l.addEventListener("loadend",function(){s(l.result)}),l.readAsText(e)})}function An(e,n){e.createWriter?e.createWriter().then(function(s){s.write(0,n).then(function(){return s.close()})}):e.createWritable().then(function(s){s.write(n).then(function(){return s.close()})})}function Yl(e){return e.replace(/\r\n|\r/g,`
`)}const Hl=`{title: In My Time of Dyin'}
{artist: Bob Dylan}

[Am]In my time of dying
[Am]I don't want nobody to mourn
[Am]All I want for you to do
Is [D]take my body [Am]home

{start_of_chorus}
[Am]Well, well, well, so I can die easy
Well, well, [D]well, so I can die [Am]easy
[Am]Well, well, well, so I can die easy
[D]Jesus gonna make up my [G]dy[G#]ing [Am]bed
{end_of_chorus}

Well, meet me Jesus, meet me
Meet me in the middle of the air
If these wings should fail to me
Lord, won't you meet me with another pair

Lord, in my time of dying
I don't want nobody to cry
All I want you to do
Is take me when I die
`,Kl=`{title: Song Title}
{artist: Song Artist}

Verse [C]with [G]chods...

{start_of_chorus}
Chorus [C]with [G]chords ...
{end_of_chorus}

Verse...
`;var zl=$t(`<!> <main class="svelte-17mjb53"><div class="editor no-print svelte-17mjb53"><textarea>
        ></textarea> <!></div> <div class="preview svelte-17mjb53"><!></div></main> <footer class="no-print svelte-17mjb53"> </footer>`,1);function Jl(e,n){Fe(n,!0);let s=it(n,"song",3,"");const l="chooseFileSystemEntries"in window||"showOpenFilePicker"in window;let u,a=xt(Ct(s())),m=xt(Ct(s())),w=xt(0),b=Ct({title_align:"left",color_title:!1,color_chords:!1}),g=Ct({cheatsheet:!1,show_artist:!0,show_chords:!0,show_comments:!0,show_tabs:!1,editor_monospaced:!1});function E(){st(a,Kl,!0)}async function k(){u=await Gl();try{let B=await u.getFile(),X=await Wl(B);st(a,Yl(X),!0)}catch(B){console.error("read failed: ",B)}}async function A(){if(u)try{await An(u,U(a))}catch(B){const X="Unable to save file";console.error(X,B),alert(X)}}async function x(){if(!l){console.error("this browser does not support access to file system");return}try{u=await Ul()}catch(B){if(B.name==="AbortError")return;const X="An error occured trying to open the file.";console.error(X,B),alert(X);return}try{await An(u,U(a))}catch(B){const X="Unable to save file.";console.error(X,B),alert(X);return}}function R(B){st(w,B,!0)}function N(B){B in b&&(b[B]=!b[B])}function D(B,X){B in b&&(b[B]=X)}function i(B){B in g&&(g[B]=!g[B])}var O;function L(B,X,Rt){O&&clearTimeout(O),O=setTimeout(()=>{Rt(X)},B)}Rr(()=>{L(1e3,U(a),B=>{st(m,B,!0)})});var q=zl(),P=qo(q);const F=On(()=>u&&u.name);Rl(P,{get subtitle(){return U(F)},get format(){return b},get view(){return g},get transpose_steps(){return U(w)},on_open:k,on_new:E,on_save:A,on_save_as:x,on_transpose:R,on_format_toggle:N,on_format_set:D,on_view_toggle:i});var t=V(P,2),S=W(t),I=W(S),M=V(I,2);{var T=B=>{Vl(B)};Yr(M,B=>{g.cheatsheet&&B(T)})}var G=V(S,2),rt=W(G);Bl(rt,{get source(){return U(m)},get transpose_steps(){return U(w)},get format(){return b},get view(){return g}});var mt=V(t,2),Vt=W(mt);le(B=>{Ut(I,1,`no-print ${(g.editor_monospaced?"editor-monospaced":"")??""}`,"svelte-17mjb53"),ft(Vt,`BlueSoft © ${B??""}`)},[()=>new Date().getFullYear()]),Al(I,()=>U(a),B=>st(a,B)),Bt(e,q),Ie()}fl(Jl,{target:document.body,props:{song:Hl}});
