(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();const cn=!1;var Tt=Array.isArray,Ir=Array.prototype.indexOf,Ft=Array.from,Dr=Object.defineProperty,Fe=Object.getOwnPropertyDescriptor,Rr=Object.getOwnPropertyDescriptors,Nr=Object.prototype,qr=Array.prototype,Sn=Object.getPrototypeOf;function Lr(e){return e()}function At(e){for(var t=0;t<e.length;t++)e[t]()}const le=2,Cn=4,Ge=8,It=16,ve=32,Ne=64,nt=128,Ae=256,rt=512,Z=1024,pe=2048,qe=4096,ae=8192,Le=16384,Mr=32768,Dt=65536,jr=1<<17,Br=1<<19,On=1<<20,we=Symbol("$state"),Ur=Symbol("legacy props");function kn(e){return e===this.v}function Vr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Rt(e){return!Vr(e,this.v)}function zr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Wr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function $r(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Gr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Yr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Hr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Kr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Jr(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Zr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ye=!1,Xr=!1;function Qr(){Ye=!0}const el=1,tl=2,nl=16,rl=1,ll=2,il=4,ol=8,ul=16,sl=1,al=2,ee=Symbol();function re(e,t){var n={f:0,v:e,reactions:null,equals:kn,rv:0,wv:0};return n}function fl(e){return Pn(re(e))}function Nt(e,t=!1){var i;const n=re(e);return t||(n.equals=Rt),Ye&&G!==null&&G.l!==null&&((i=G.l).s??(i.s=[])).push(n),n}function cl(e,t=!1){return Pn(Nt(e,t))}function Pn(e){return B!==null&&B.f&le&&(fe===null?Sl([e]):fe.push(e)),e}function K(e,t){return B!==null&&He()&&B.f&(le|It)&&(fe===null||!fe.includes(e))&&Zr(),Tn(e,t)}function Tn(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=Hn(),Fn(e,pe),He()&&U!==null&&U.f&Z&&!(U.f&(ve|Ne))&&(de===null?Cl([e]):de.push(e))),t}function Fn(e,t){var n=e.reactions;if(n!==null)for(var i=He(),l=n.length,o=0;o<l;o++){var s=n[o],y=s.f;y&pe||!i&&s===U||(se(s,t),y&(Z|Ae)&&(y&le?Fn(s,qe):ht(s)))}}let vl=!1;function _e(e,t=null,n){if(typeof e!="object"||e===null||we in e)return e;const i=Sn(e);if(i!==Nr&&i!==qr)return e;var l=new Map,o=Tt(e),s=re(0);o&&l.set("length",re(e.length));var y;return new Proxy(e,{defineProperty(d,a,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&Hr();var f=l.get(a);return f===void 0?(f=re(h.value),l.set(a,f)):K(f,_e(h.value,y)),!0},deleteProperty(d,a){var h=l.get(a);if(h===void 0)a in d&&l.set(a,re(ee));else{if(o&&typeof a=="string"){var f=l.get("length"),_=Number(a);Number.isInteger(_)&&_<f.v&&K(f,_)}K(h,ee),vn(s)}return!0},get(d,a,h){var w;if(a===we)return e;var f=l.get(a),_=a in d;if(f===void 0&&(!_||(w=Fe(d,a))!=null&&w.writable)&&(f=re(_e(_?d[a]:ee,y)),l.set(a,f)),f!==void 0){var m=z(f);return m===ee?void 0:m}return Reflect.get(d,a,h)},getOwnPropertyDescriptor(d,a){var h=Reflect.getOwnPropertyDescriptor(d,a);if(h&&"value"in h){var f=l.get(a);f&&(h.value=z(f))}else if(h===void 0){var _=l.get(a),m=_==null?void 0:_.v;if(_!==void 0&&m!==ee)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return h},has(d,a){var m;if(a===we)return!0;var h=l.get(a),f=h!==void 0&&h.v!==ee||Reflect.has(d,a);if(h!==void 0||U!==null&&(!f||(m=Fe(d,a))!=null&&m.writable)){h===void 0&&(h=re(f?_e(d[a],y):ee),l.set(a,h));var _=z(h);if(_===ee)return!1}return f},set(d,a,h,f){var S;var _=l.get(a),m=a in d;if(o&&a==="length")for(var w=h;w<_.v;w+=1){var C=l.get(w+"");C!==void 0?K(C,ee):w in d&&(C=re(ee),l.set(w+"",C))}_===void 0?(!m||(S=Fe(d,a))!=null&&S.writable)&&(_=re(void 0),K(_,_e(h,y)),l.set(a,_)):(m=_.v!==ee,K(_,_e(h,y)));var T=Reflect.getOwnPropertyDescriptor(d,a);if(T!=null&&T.set&&T.set.call(f,h),!m){if(o&&typeof a=="string"){var c=l.get("length"),x=Number(a);Number.isInteger(x)&&x>=c.v&&K(c,x+1)}vn(s)}return!0},ownKeys(d){z(s);var a=Reflect.ownKeys(d).filter(_=>{var m=l.get(_);return m===void 0||m.v!==ee});for(var[h,f]of l)f.v!==ee&&!(h in d)&&a.push(h);return a},setPrototypeOf(){Kr()}})}function vn(e,t=1){K(e,e.v+t)}function dn(e){return e!==null&&typeof e=="object"&&we in e?e[we]:e}function dl(e,t){return Object.is(dn(e),dn(t))}var _n,In,Dn;function _l(){if(_n===void 0){_n=window;var e=Element.prototype,t=Node.prototype;In=Fe(t,"firstChild").get,Dn=Fe(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Rn(e=""){return document.createTextNode(e)}function ze(e){return In.call(e)}function ct(e){return Dn.call(e)}function J(e,t){return ze(e)}function hl(e,t){{var n=ze(e);return n instanceof Comment&&n.data===""?ct(n):n}}function ue(e,t=1,n=!1){let i=e;for(;t--;)i=ct(i);return i}function pl(e){e.textContent=""}function De(e){var t=le|pe;U===null?t|=Ae:U.f|=On;var n=B!==null&&B.f&le?B:null;const i={children:null,ctx:G,deps:null,equals:kn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??U};return n!==null&&(n.children??(n.children=[])).push(i),i}function Nn(e){const t=De(e);return t.equals=Rt,t}function qn(e){var t=e.children;if(t!==null){e.children=null;for(var n=0;n<t.length;n+=1){var i=t[n];i.f&le?qt(i):he(i)}}}function gl(e){for(var t=e.parent;t!==null;){if(!(t.f&le))return t;t=t.parent}return null}function Ln(e){var t,n=U;ce(gl(e));try{qn(e),t=Jn(e)}finally{ce(n)}return t}function Mn(e){var t=Ln(e),n=(xe||e.f&Ae)&&e.deps!==null?qe:Z;se(e,n),e.equals(t)||(e.v=t,e.wv=Hn())}function qt(e){qn(e),$e(e,0),se(e,Le),e.v=e.children=e.deps=e.ctx=e.reactions=null}function jn(e){U===null&&B===null&&$r(),B!==null&&B.f&Ae&&Wr(),Mt&&zr()}function ml(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Me(e,t,n,i=!0){var l=(e&Ne)!==0,o=U,s={ctx:G,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|pe,first:null,fn:t,last:null,next:null,parent:l?null:o,prev:null,teardown:null,transitions:null,wv:0};if(n){var y=Ie;try{pn(!0),jt(s),s.f|=Mr}catch(h){throw he(s),h}finally{pn(y)}}else t!==null&&ht(s);var d=n&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(On|nt))===0;if(!d&&!l&&i&&(o!==null&&ml(s,o),B!==null&&B.f&le)){var a=B;(a.children??(a.children=[])).push(s)}return s}function yl(e){const t=Me(Ge,null,!1);return se(t,Z),t.teardown=e,t}function hn(e){jn();var t=U!==null&&(U.f&ve)!==0&&G!==null&&!G.m;if(t){var n=G;(n.e??(n.e=[])).push({fn:e,effect:U,reaction:B})}else{var i=vt(e);return i}}function wl(e){return jn(),Bn(e)}function bl(e){const t=Me(Ne,e,!0);return(n={})=>new Promise(i=>{n.outro?lt(t,()=>{he(t),i(void 0)}):(he(t),i(void 0))})}function vt(e){return Me(Cn,e,!1)}function Bn(e){return Me(Ge,e,!0)}function We(e){return dt(e)}function dt(e,t=0){return Me(Ge|It|t,e,!0)}function Re(e,t=!0){return Me(Ge|ve,e,!0,t)}function Un(e){var t=e.teardown;if(t!==null){const n=Mt,i=B;gn(!0),be(null);try{t.call(null)}finally{gn(n),be(i)}}}function Vn(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var n=0;n<t.length;n+=1)qt(t[n])}}function zn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var i=n.next;he(n,t),n=i}}function xl(e){for(var t=e.first;t!==null;){var n=t.next;t.f&ve||he(t),t=n}}function he(e,t=!0){var n=!1;if((t||e.f&Br)&&e.nodes_start!==null){for(var i=e.nodes_start,l=e.nodes_end;i!==null;){var o=i===l?null:ct(i);i.remove(),i=o}n=!0}zn(e,t&&!n),Vn(e),$e(e,0),se(e,Le);var s=e.transitions;if(s!==null)for(const d of s)d.stop();Un(e);var y=e.parent;y!==null&&y.first!==null&&Wn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Wn(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function lt(e,t){var n=[];Lt(e,n,!0),$n(n,()=>{he(e),t&&t()})}function $n(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var l of e)l.out(i)}else t()}function Lt(e,t,n){if(!(e.f&ae)){if(e.f^=ae,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var i=e.first;i!==null;){var l=i.next,o=(i.f&Dt)!==0||(i.f&ve)!==0;Lt(i,t,o?n:!1),i=l}}}function it(e){Gn(e,!0)}function Gn(e,t){if(e.f&ae){e.f^=ae,e.f&Z||(e.f^=Z),Ke(e)&&(se(e,pe),ht(e));for(var n=e.first;n!==null;){var i=n.next,l=(n.f&Dt)!==0||(n.f&ve)!==0;Gn(n,l?t:!1),n=i}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let St=!1,Ct=[];function El(){St=!1;const e=Ct.slice();Ct=[],At(e)}function Al(e){St||(St=!0,queueMicrotask(El)),Ct.push(e)}let tt=!1,ot=!1,ut=null,Ie=!1,Mt=!1;function pn(e){Ie=e}function gn(e){Mt=e}let Ot=[],Ue=0;let B=null;function be(e){B=e}let U=null;function ce(e){U=e}let fe=null;function Sl(e){fe=e}let te=null,ne=0,de=null;function Cl(e){de=e}let Yn=1,st=0,xe=!1,G=null;function Hn(){return++Yn}function He(){return!Ye||G!==null&&G.l===null}function Ke(e){var a;var t=e.f;if(t&pe)return!0;if(t&qe){var n=e.deps,i=(t&Ae)!==0;if(n!==null){var l,o,s=(t&rt)!==0,y=i&&U!==null&&!xe,d=n.length;if(s||y){for(l=0;l<d;l++)o=n[l],(s||!((a=o==null?void 0:o.reactions)!=null&&a.includes(e)))&&(o.reactions??(o.reactions=[])).push(e);s&&(e.f^=rt)}for(l=0;l<d;l++)if(o=n[l],Ke(o)&&Mn(o),o.wv>e.wv)return!0}(!i||U!==null&&!xe)&&se(e,Z)}return!1}function Ol(e,t){for(var n=t;n!==null;){if(n.f&nt)try{n.fn(e);return}catch{n.f^=nt}n=n.parent}throw tt=!1,e}function kl(e){return(e.f&Le)===0&&(e.parent===null||(e.parent.f&nt)===0)}function _t(e,t,n,i){if(tt){if(n===null&&(tt=!1),kl(t))throw e;return}n!==null&&(tt=!0);{Ol(e,t);return}}function Kn(e,t,n=0){var i=e.reactions;if(i!==null)for(var l=0;l<i.length;l++){var o=i[l];o.f&le?Kn(o,t,n+1):t===o&&(n===0?se(o,pe):o.f&Z&&se(o,qe),ht(o))}}function Jn(e){var _;var t=te,n=ne,i=de,l=B,o=xe,s=fe,y=G,d=e.f;te=null,ne=0,de=null,B=d&(ve|Ne)?null:e,xe=!Ie&&(d&Ae)!==0,fe=null,G=e.ctx,st++;try{var a=(0,e.fn)(),h=e.deps;if(te!==null){var f;if($e(e,ne),h!==null&&ne>0)for(h.length=ne+te.length,f=0;f<te.length;f++)h[ne+f]=te[f];else e.deps=h=te;if(!xe)for(f=ne;f<h.length;f++)((_=h[f]).reactions??(_.reactions=[])).push(e)}else h!==null&&ne<h.length&&($e(e,ne),h.length=ne);if(He()&&de!==null&&!(e.f&(le|qe|pe)))for(f=0;f<de.length;f++)Kn(de[f],e);return l!==null&&st++,a}finally{te=t,ne=n,de=i,B=l,xe=o,fe=s,G=y}}function Pl(e,t){let n=t.reactions;if(n!==null){var i=Ir.call(n,e);if(i!==-1){var l=n.length-1;l===0?n=t.reactions=null:(n[i]=n[l],n.pop())}}n===null&&t.f&le&&(te===null||!te.includes(t))&&(se(t,qe),t.f&(Ae|rt)||(t.f^=rt),$e(t,0))}function $e(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)Pl(e,n[i])}function jt(e){var t=e.f;if(!(t&Le)){se(e,Z);var n=U,i=G;U=e;try{t&It?xl(e):zn(e),Vn(e),Un(e);var l=Jn(e);e.teardown=typeof l=="function"?l:null,e.wv=Yn;var o=e.deps,s;cn&&Xr&&e.f&pe}catch(y){_t(y,e,n,i||e.ctx)}finally{U=n}}}function Tl(){if(Ue>1e3){Ue=0;try{Gr()}catch(e){if(ut!==null)_t(e,ut,null);else throw e}}Ue++}function Fl(e){var t=e.length;if(t!==0){Tl();var n=Ie;Ie=!0;try{for(var i=0;i<t;i++){var l=e[i];l.f&Z||(l.f^=Z);var o=[];Zn(l,o),Il(o)}}finally{Ie=n}}}function Il(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var i=e[n];if(!(i.f&(Le|ae)))try{Ke(i)&&(jt(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?Wn(i):i.fn=null))}catch(l){_t(l,i,null,i.ctx)}}}function Dl(){if(ot=!1,Ue>1001)return;const e=Ot;Ot=[],Fl(e),ot||(Ue=0,ut=null)}function ht(e){ot||(ot=!0,queueMicrotask(Dl)),ut=e;for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(Ne|ve)){if(!(n&Z))return;t.f^=Z}}Ot.push(t)}function Zn(e,t){var n=e.first,i=[];e:for(;n!==null;){var l=n.f,o=(l&ve)!==0,s=o&&(l&Z)!==0,y=n.next;if(!s&&!(l&ae))if(l&Ge){if(o)n.f^=Z;else try{Ke(n)&&jt(n)}catch(f){_t(f,n,null,n.ctx)}var d=n.first;if(d!==null){n=d;continue}}else l&Cn&&i.push(n);if(y===null){let f=n.parent;for(;f!==null;){if(e===f)break e;var a=f.next;if(a!==null){n=a;continue e}f=f.parent}}n=y}for(var h=0;h<i.length;h++)d=i[h],t.push(d),Zn(d,t)}function z(e){var h;var t=e.f,n=(t&le)!==0;if(n&&t&Le){var i=Ln(e);return qt(e),i}if(B!==null){fe!==null&&fe.includes(e)&&Jr();var l=B.deps;e.rv<st&&(e.rv=st,te===null&&l!==null&&l[ne]===e?ne++:te===null?te=[e]:te.push(e))}else if(n&&e.deps===null)for(var o=e,s=o.parent,y=o;s!==null;)if(s.f&le){var d=s;y=d,s=d.parent}else{var a=s;(h=a.deriveds)!=null&&h.includes(y)||(a.deriveds??(a.deriveds=[])).push(y);break}return n&&(o=e,Ke(o)&&Mn(o)),e.v}function at(e){const t=B;try{return B=null,e()}finally{B=t}}const Rl=-7169;function se(e,t){e.f=e.f&Rl|t}function pt(e,t=!1,n){G={p:G,c:null,e:null,m:!1,s:e,x:null,l:null},Ye&&!t&&(G.l={s:null,u:null,r1:[],r2:re(!1)})}function gt(e){const t=G;if(t!==null){const s=t.e;if(s!==null){var n=U,i=B;t.e=null;try{for(var l=0;l<s.length;l++){var o=s[l];ce(o.effect),be(o.reaction),vt(o.fn)}}finally{ce(n),be(i)}}G=t.p,t.m=!0}return{}}function Nl(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(we in e)kt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&we in n&&kt(n)}}}function kt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{kt(e[i],t)}catch{}const n=Sn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const i=Rr(n);for(let l in i){const o=i[l].get;if(o)try{o.call(e)}catch{}}}}}const ql=["touchstart","touchmove"];function Ll(e){return ql.includes(e)}let mn=!1;function Ml(){mn||(mn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Xn(e){var t=B,n=U;be(null),ce(null);try{return e()}finally{be(t),ce(n)}}function Qn(e,t,n,i=n){e.addEventListener(t,()=>Xn(n));const l=e.__on_r;l?e.__on_r=()=>{l(),i(!0)}:e.__on_r=()=>i(!0),Ml()}const jl=new Set,yn=new Set;function Bl(e,t,n,i){function l(o){if(i.capture||Be.call(t,o),!o.cancelBubble)return Xn(()=>n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Al(()=>{t.addEventListener(e,l,i)}):t.addEventListener(e,l,i),l}function Te(e,t,n,i,l){var o={capture:i,passive:l},s=Bl(e,t,n,o);(t===document.body||t===window||t===document)&&yl(()=>{t.removeEventListener(e,s,o)})}function Be(e){var x;var t=this,n=t.ownerDocument,i=e.type,l=((x=e.composedPath)==null?void 0:x.call(e))||[],o=l[0]||e.target,s=0,y=e.__root;if(y){var d=l.indexOf(y);if(d!==-1&&(t===document||t===window)){e.__root=t;return}var a=l.indexOf(t);if(a===-1)return;d<=a&&(s=d)}if(o=l[s]||e.target,o!==t){Dr(e,"currentTarget",{configurable:!0,get(){return o||n}});var h=B,f=U;be(null),ce(null);try{for(var _,m=[];o!==null;){var w=o.assignedSlot||o.parentNode||o.host||null;try{var C=o["__"+i];if(C!==void 0&&!o.disabled)if(Tt(C)){var[T,...c]=C;T.apply(o,[e,...c])}else C.call(o,e)}catch(S){_?m.push(S):_=S}if(e.cancelBubble||w===t||w===null)break;o=w}if(_){for(let S of m)queueMicrotask(()=>{throw S});throw _}}finally{e.__root=t,delete e.currentTarget,be(h),ce(f)}}}function er(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Pt(e,t){var n=U;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Se(e,t){var n=(t&sl)!==0,i=(t&al)!==0,l,o=!e.startsWith("<!>");return()=>{l===void 0&&(l=er(o?e:"<!>"+e),n||(l=ze(l)));var s=i?document.importNode(l,!0):l.cloneNode(!0);if(n){var y=ze(s),d=s.lastChild;Pt(y,d)}else Pt(s,s);return s}}function Ee(e,t){e!==null&&e.before(t)}function ft(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n==null?"":n+"")}function Ul(e,t){return Vl(e,t)}const Pe=new Map;function Vl(e,{target:t,anchor:n,props:i={},events:l,context:o,intro:s=!0}){_l();var y=new Set,d=f=>{for(var _=0;_<f.length;_++){var m=f[_];if(!y.has(m)){y.add(m);var w=Ll(m);t.addEventListener(m,Be,{passive:w});var C=Pe.get(m);C===void 0?(document.addEventListener(m,Be,{passive:w}),Pe.set(m,1)):Pe.set(m,C+1)}}};d(Ft(jl)),yn.add(d);var a=void 0,h=bl(()=>{var f=n??t.appendChild(Rn());return Re(()=>{if(o){pt({});var _=G;_.c=o}l&&(i.$$events=l),a=e(f,i)||{},o&&gt()}),()=>{var w;for(var _ of y){t.removeEventListener(_,Be);var m=Pe.get(_);--m===0?(document.removeEventListener(_,Be),Pe.delete(_)):Pe.set(_,m)}yn.delete(d),f!==n&&((w=f.parentNode)==null||w.removeChild(f))}});return zl.set(a,h),a}let zl=new WeakMap;function tr(e,t,n=!1){var i=e,l=null,o=null,s=ee,y=n?Dt:0,d=!1;const a=(f,_=!0)=>{d=!0,h(_,f)},h=(f,_)=>{s!==(s=f)&&(s?(l?it(l):_&&(l=Re(()=>_(i))),o&&lt(o,()=>{o=null})):(o?it(o):_&&(o=Re(()=>_(i))),l&&lt(l,()=>{l=null})))};dt(()=>{d=!1,t(a),d||h(null,null)},y)}function Wl(e,t){return t}function $l(e,t,n,i){for(var l=[],o=t.length,s=0;s<o;s++)Lt(t[s].e,l,!0);var y=o>0&&l.length===0&&n!==null;if(y){var d=n.parentNode;pl(d),d.append(n),i.clear(),ye(e,t[0].prev,t[o-1].next)}$n(l,()=>{for(var a=0;a<o;a++){var h=t[a];y||(i.delete(h.k),ye(e,h.prev,h.next)),he(h.e,!y)}})}function Gl(e,t,n,i,l,o=null){var s=e,y={flags:t,items:new Map,first:null};{var d=e;s=d.appendChild(Rn())}var a=null,h=!1,f=Nn(()=>{var _=n();return Tt(_)?_:_==null?[]:Ft(_)});dt(()=>{var _=z(f),m=_.length;if(!(h&&m===0)){h=m===0;{var w=B;Yl(_,y,s,l,t,(w.f&ae)!==0,i)}o!==null&&(m===0?a?it(a):a=Re(()=>o(s)):a!==null&&lt(a,()=>{a=null})),z(f)}})}function Yl(e,t,n,i,l,o,s,y){var d=e.length,a=t.items,h=t.first,f=h,_,m=null,w=[],C=[],T,c,x,S;for(S=0;S<d;S+=1){if(T=e[S],c=s(T,S),x=a.get(c),x===void 0){var P=f?f.e.nodes_start:n;m=Kl(P,t,m,m===null?t.first:m.next,T,c,S,i,l),a.set(c,m),w=[],C=[],f=m.next;continue}if(Hl(x,T,S),x.e.f&ae&&it(x.e),x!==f){if(_!==void 0&&_.has(x)){if(w.length<C.length){var g=C[0],b;m=g.prev;var r=w[0],E=w[w.length-1];for(b=0;b<w.length;b+=1)wn(w[b],g,n);for(b=0;b<C.length;b+=1)_.delete(C[b]);ye(t,r.prev,E.next),ye(t,m,r),ye(t,E,g),f=g,m=E,S-=1,w=[],C=[]}else _.delete(x),wn(x,f,n),ye(t,x.prev,x.next),ye(t,x,m===null?t.first:m.next),ye(t,m,x),m=x;continue}for(w=[],C=[];f!==null&&f.k!==c;)(o||!(f.e.f&ae))&&(_??(_=new Set)).add(f),C.push(f),f=f.next;if(f===null)continue;x=f}w.push(x),m=x,f=x.next}if(f!==null||_!==void 0){for(var k=_===void 0?[]:Ft(_);f!==null;)(o||!(f.e.f&ae))&&k.push(f),f=f.next;var q=k.length;if(q>0){var L=d===0?n:null;$l(t,k,L,a)}}U.first=t.first&&t.first.e,U.last=m&&m.e}function Hl(e,t,n,i){Tn(e.v,t),e.i=n}function Kl(e,t,n,i,l,o,s,y,d,a){var h=(d&el)!==0,f=(d&nl)===0,_=h?f?Nt(l):re(l):l,m=d&tl?re(s):s,w={i:m,v:_,k:o,a:null,e:null,prev:n,next:i};try{return w.e=Re(()=>y(e,_,m),vl),w.e.prev=n&&n.e,w.e.next=i&&i.e,n===null?t.first=w:(n.next=w,n.e.next=w.e),i!==null&&(i.prev=w,i.e.prev=w.e),w}finally{}}function wn(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,l=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==i;){var s=ct(o);l.before(o),o=s}}function ye(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Jl(e,t,n,i,l){var o=e,s="",y;dt(()=>{s!==(s=t()??"")&&(y!==void 0&&(he(y),y=void 0),s!==""&&(y=Re(()=>{var d=s+"",a=er(d);Pt(ze(a),a.lastChild),o.before(a)})))})}function Zl(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function Xl(e,t,n=t){var i=He();Qn(e,"input",l=>{var o=l?e.defaultValue:e.value;if(o=bt(e)?xt(o):o,n(o),i&&o!==(o=t())){var s=e.selectionStart,y=e.selectionEnd;e.value=o??"",y!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(y,e.value.length))}}),at(t)==null&&e.value&&n(bt(e)?xt(e.value):e.value),Bn(()=>{var l=t();bt(e)&&l===xt(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function bt(e){var t=e.type;return t==="number"||t==="range"}function xt(e){return e===""?null:+e}function nr(e,t,n){if(e.multiple)return ti(e,t);for(var i of e.options){var l=Ve(i);if(dl(l,t)){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Ql(e,t){vt(()=>{var n=new MutationObserver(()=>{var i=e.__value;nr(e,i)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function ei(e,t,n=t){var i=!0;Qn(e,"change",l=>{var o=l?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(o),Ve);else{var y=e.querySelector(o)??e.querySelector("option:not([disabled])");s=y&&Ve(y)}n(s)}),vt(()=>{var l=t();if(nr(e,l,i),i&&l===void 0){var o=e.querySelector(":checked");o!==null&&(l=Ve(o),n(l))}e.__value=l,i=!1}),Ql(e)}function ti(e,t){for(var n of e.options)n.selected=~t.indexOf(Ve(n))}function Ve(e){return"__value"in e?e.__value:e.value}function ni(e=!1){const t=G,n=t.l.u;if(!n)return;let i=()=>Nl(t.s);if(e){let l=0,o={};const s=De(()=>{let y=!1;const d=t.s;for(const a in d)d[a]!==o[a]&&(o[a]=d[a],y=!0);return y&&l++,l});i=()=>z(s)}n.b.length&&wl(()=>{bn(t,i),At(n.b)}),hn(()=>{const l=at(()=>n.m.map(Lr));return()=>{for(const o of l)typeof o=="function"&&o()}}),n.a.length&&hn(()=>{bn(t,i),At(n.a)})}function bn(e,t){if(e.l.s)for(const n of e.l.s)z(n);t()}let Qe=!1;function ri(e){var t=Qe;try{return Qe=!1,[e(),Qe]}finally{Qe=t}}function xn(e){for(var t=U,n=U;t!==null&&!(t.f&(ve|Ne));)t=t.parent;try{return ce(t),e()}finally{ce(n)}}function oe(e,t,n,i){var r;var l=(n&rl)!==0,o=!Ye||(n&ll)!==0,s=(n&ol)!==0,y=(n&ul)!==0,d=!1,a;s?[a,d]=ri(()=>e[t]):a=e[t];var h=we in e||Ur in e,f=s&&(((r=Fe(e,t))==null?void 0:r.set)??(h&&t in e&&(E=>e[t]=E)))||void 0,_=i,m=!0,w=!1,C=()=>(w=!0,m&&(m=!1,y?_=at(i):_=i),_);a===void 0&&i!==void 0&&(f&&o&&Yr(),a=C(),f&&f(a));var T;if(o)T=()=>{var E=e[t];return E===void 0?C():(m=!0,w=!1,E)};else{var c=xn(()=>(l?De:Nn)(()=>e[t]));c.f|=jr,T=()=>{var E=z(c);return E!==void 0&&(_=void 0),E===void 0?_:E}}if(!(n&il))return T;if(f){var x=e.$$legacy;return function(E,k){return arguments.length>0?((!o||!k||x||d)&&f(k?T():E),E):T()}}var S=!1,P=!1,g=Nt(a),b=xn(()=>De(()=>{var E=T(),k=z(g);return S?(S=!1,P=!0,k):(P=!1,g.v=E)}));return l||(b.equals=Rt),function(E,k){if(arguments.length>0){const q=k?z(b):o&&s?_e(E):E;return b.equals(q)||(S=!0,K(g,q),w&&_!==void 0&&(_=q),at(()=>z(b))),E}return z(b)}}const li="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(li);Qr();var ii=Se('<nav class="menu svelte-q1uz4f"><div class="menu-container svelte-q1uz4f"><button class="menu-top svelte-q1uz4f">File</button> <div class="menu-item-container svelte-q1uz4f"><button class="svelte-q1uz4f">New</button> <button class="svelte-q1uz4f">Open..</button> <button class="svelte-q1uz4f">Save</button> <button class="svelte-q1uz4f">Save as..</button></div></div></nav>');function oi(e,t){let n=oe(t,"on_new",8,()=>{}),i=oe(t,"on_open",8,()=>{}),l=oe(t,"on_save",8,()=>{}),o=oe(t,"on_save_as",8,()=>{}),s=cl(null);function y(c){z(s)===c?K(s,null):K(s,c)}function d(c){K(s,null),c()}var a=ii(),h=J(a),f=J(h),_=ue(f,2),m=J(_),w=ue(m,2),C=ue(w,2),T=ue(C,2);We(()=>Zl(_,"hidden",z(s)!=="file")),Te("click",f,()=>{y("file")}),Te("click",m,()=>{d(n())}),Te("click",w,()=>{d(i())}),Te("click",C,()=>{d(l())}),Te("click",T,()=>{d(o())}),Ee(e,a)}var ui=Se('<span class="sub"> </span>'),si=Se('<nav class="no-print svelte-1m7tsxb"><div class="title svelte-1m7tsxb"><span class="main svelte-1m7tsxb">ChordPro Editor</span> <!></div> <!></nav>');function ai(e,t){pt(t,!1);let n=oe(t,"subtitle",8,""),i=oe(t,"on_new",8,()=>{}),l=oe(t,"on_open",8,()=>{}),o=oe(t,"on_save",8,()=>{}),s=oe(t,"on_save_as",8,()=>{});ni();var y=si(),d=J(y),a=ue(J(d),2);{var h=_=>{var m=ui(),w=J(m);We(()=>ft(w,`- ${n()??""}`)),Ee(_,m)};tr(a,_=>{n().length>0&&_(h)})}var f=ue(d,2);oi(f,{get on_new(){return i()},get on_open(){return l()},get on_save(){return o()},get on_save_as(){return s()}}),Ee(e,y),gt()}function fi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var et={},En;function ci(){if(En)return et;En=1;function e(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}Object.defineProperty(et,"__esModule",{value:!0});var t,n,i,l,o,s,y,d,a,h={};function f(){if(n)return t;function C(c,x,S,P){var g=Error.call(this,c);return Object.setPrototypeOf&&Object.setPrototypeOf(g,C.prototype),g.expected=x,g.found=S,g.location=P,g.name="SyntaxError",g}function T(c,x,S){return S=S||" ",c.length>x?c:(x-=c.length,c+(S+=S.repeat(x)).slice(0,x))}return n=1,function(c,x){function S(){this.constructor=c}S.prototype=x.prototype,c.prototype=new S}(C,Error),C.prototype.format=function(c){var x="Error: "+this.message;if(this.location){var S,P=null;for(S=0;S<c.length;S++)if(c[S].source===this.location.source){P=c[S].text.split(/\r\n|\n|\r/g);break}var g=this.location.start,b=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(g):g,r=this.location.source+":"+b.line+":"+b.column;if(P){var E=this.location.end,k=T("",b.line.toString().length," "),q=P[g.line-1],L=(g.line===E.line?E.column:q.length+1)-g.column||1;x+=`
 --> `+r+`
`+k+` |
`+b.line+" | "+q+`
`+k+" | "+T("",g.column-1," ")+T("",L,"^")}else x+=`
 at `+r}return x},C.buildMessage=function(c,x){var S={literal:function(E){return'"'+g(E.text)+'"'},class:function(E){var k=E.parts.map(function(q){return Array.isArray(q)?b(q[0])+"-"+b(q[1]):b(q)});return"["+(E.inverted?"^":"")+k.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(E){return E.description}};function P(E){return E.charCodeAt(0).toString(16).toUpperCase()}function g(E){return E.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(k){return"\\x0"+P(k)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(k){return"\\x"+P(k)})}function b(E){return E.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(k){return"\\x0"+P(k)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(k){return"\\x"+P(k)})}function r(E){return S[E.type](E)}return"Expected "+function(E){var k,q,L=E.map(r);if(L.sort(),L.length>0){for(k=1,q=1;k<L.length;k++)L[k-1]!==L[k]&&(L[q]=L[k],q++);L.length=q}switch(L.length){case 1:return L[0];case 2:return L[0]+" or "+L[1];default:return L.slice(0,-1).join(", ")+", or "+L[L.length-1]}}(c)+" but "+function(E){return E?'"'+g(E)+'"':"end of input"}(x)+" found."},t={StartRules:["All"],SyntaxError:C,parse:function(c,x){var S,P,g,b,r={},E=(x=x!==void 0?x:{}).grammarSource,k={All:un},q=un,L="{title:",Ce="}",Bt="{subtitle:",Ut="{artist:",Vt="{c:",zt="{comment:",Wt="{",$t="soc",Gt="start_of_chorus",Yt="eoc",Ht="end_of_chorus",rr="[",lr="]",ir=/^[\n\r]/,ge=/^[^}]/,Kt=/^[^{[\n\r]/,Jt=/^[A-Z]/,Zt=/^[^\]]/,Je={type:"any"},or=je([`
`,"\r"],!1,!1),ur=X("{title:",!1),Ze=X(" ",!1),me=je(["}"],!0,!1),Oe=X("}",!1),sr=X("{subtitle:",!1),ar=X("{artist:",!1),fr=X("{c:",!1),cr=X("{comment:",!1),Xt=X("{",!1),vr=X("soc",!1),dr=X("start_of_chorus",!1),_r=X("eoc",!1),hr=X("end_of_chorus",!1),Qt=je(["{","[",`
`,"\r"],!0,!1),pr=X("[",!1),en=je([["A","Z"]],!1,!1),tn=je(["]"],!0,!1),gr=X("]",!1),mr=function(v){return""},yr=function(v,p){return{header:v,content:p}},wr=function(v,p,A){return{title:v,subTitle:p,artist:A}},br=function(v){return v},xr=function(v){return v},Er=function(v){return v},Ar=function(v){return{type:"comment",value:v}},nn=function(v,p){return p},Sr=function(v,p,A){return[v].concat(p)},Cr=function(v){return{type:"verse",items:v}},Or=function(v){return{type:"chorus",items:v}},rn=function(v,p){return p},kr=function(v,p){return[v].concat(p)},Pr=function(v){return{type:"line",items:v}},Tr=function(v){return{type:"text",value:v}},Fr=function(v){return{type:"chord",value:v}},u=0|x.peg$currPos,ke=[{line:1,column:1}],ie=u,Xe=x.peg$maxFailExpected||[],O=0|x.peg$silentFails;if(x.startRule){if(!(x.startRule in k))throw new Error(`Can't start parsing from rule "`+x.startRule+'".');q=k[x.startRule]}function X(v,p){return{type:"literal",text:v,ignoreCase:p}}function je(v,p,A){return{type:"class",parts:v,inverted:p,ignoreCase:A}}function ln(v){var p,A=ke[v];if(A)return A;if(v>=ke.length)p=ke.length-1;else for(p=v;!ke[--p];);for(A={line:(A=ke[p]).line,column:A.column};p<v;)c.charCodeAt(p)===10?(A.line++,A.column=1):A.column++,p++;return ke[v]=A,A}function on(v,p,A){var I=ln(v),j=ln(p);return{source:E,start:{offset:v,line:I.line,column:I.column},end:{offset:p,line:j.line,column:j.column}}}function F(v){u<ie||(u>ie&&(ie=u,Xe=[]),Xe.push(v))}function un(){var v,p,A,I,j;return v=u,p=function(){var R,$,H,N;return R=u,$=function(){var D,Y,V,W,M;if(D=u,c.substr(u,7)===L?(Y=L,u+=7):(Y=r,O===0&&F(ur)),Y!==r){if(c.charCodeAt(u)===32?u++:O===0&&F(Ze),V=u,W=[],M=c.charAt(u),ge.test(M)?u++:(M=r,O===0&&F(me)),M!==r)for(;M!==r;)W.push(M),M=c.charAt(u),ge.test(M)?u++:(M=r,O===0&&F(me));else W=r;(V=W!==r?c.substring(V,u):W)!==r?(c.charCodeAt(u)===125?(W=Ce,u++):(W=r,O===0&&F(Oe)),W!==r&&(M=mt())!==r?D=br(V):(u=D,D=r)):(u=D,D=r)}else u=D,D=r;return D}(),$===r&&($=null),H=function(){var D,Y,V,W,M;if(D=u,c.substr(u,10)===Bt?(Y=Bt,u+=10):(Y=r,O===0&&F(sr)),Y!==r){if(c.charCodeAt(u)===32?u++:O===0&&F(Ze),V=u,W=[],M=c.charAt(u),ge.test(M)?u++:(M=r,O===0&&F(me)),M!==r)for(;M!==r;)W.push(M),M=c.charAt(u),ge.test(M)?u++:(M=r,O===0&&F(me));else W=r;(V=W!==r?c.substring(V,u):W)!==r?(c.charCodeAt(u)===125?(W=Ce,u++):(W=r,O===0&&F(Oe)),W!==r&&(M=mt())!==r?D=xr(V):(u=D,D=r)):(u=D,D=r)}else u=D,D=r;return D}(),H===r&&(H=null),N=function(){var D,Y,V,W,M;if(D=u,c.substr(u,8)===Ut?(Y=Ut,u+=8):(Y=r,O===0&&F(ar)),Y!==r){if(c.charCodeAt(u)===32?u++:O===0&&F(Ze),V=u,W=[],M=c.charAt(u),ge.test(M)?u++:(M=r,O===0&&F(me)),M!==r)for(;M!==r;)W.push(M),M=c.charAt(u),ge.test(M)?u++:(M=r,O===0&&F(me));else W=r;(V=W!==r?c.substring(V,u):W)!==r?(c.charCodeAt(u)===125?(W=Ce,u++):(W=r,O===0&&F(Oe)),W!==r&&(M=mt())!==r?D=Er(V):(u=D,D=r)):(u=D,D=r)}else u=D,D=r;return D}(),N===r&&(N=null),R=wr($,H,N),R}(),A=function(){var R,$,H,N,D,Y,V;if(R=u,$=yt(),$!==r){if(H=[],N=u,(D=Q())!==r){if(Y=[],(V=Q())!==r)for(;V!==r;)Y.push(V),V=Q();else Y=r;Y!==r&&(V=yt())!==r?N=nn($,V):(u=N,N=r)}else u=N,N=r;for(;N!==r;)if(H.push(N),N=u,(D=Q())!==r){if(Y=[],(V=Q())!==r)for(;V!==r;)Y.push(V),V=Q();else Y=r;Y!==r&&(V=yt())!==r?N=nn($,V):(u=N,N=r)}else u=N,N=r;if(N=u,O++,c.length>u?(D=c.charAt(u),u++):(D=r,O===0&&F(Je)),O--,D===r?N=void 0:(u=N,N=r),N===r){if(N=[],(D=Q())!==r)for(;D!==r;)N.push(D),D=Q();else N=r;N===r&&(N=u,O++,c.length>u?(D=c.charAt(u),u++):(D=r,O===0&&F(Je)),O--,D===r?N=void 0:(u=N,N=r))}N!==r?R=Sr($,H):(u=R,R=r)}else u=R,R=r;return R}(),A===r&&(A=u,I=u,O++,c.length>u?(j=c.charAt(u),u++):(j=r,O===0&&F(Je)),O--,j===r?I=void 0:(u=I,I=r),I!==r&&(I=mr()),A=I),A!==r?v=yr(p,A):(u=v,v=r),v}function Q(){var v;return v=c.charAt(u),ir.test(v)?u++:(v=r,O===0&&F(or)),v}function mt(){var v,p;if(v=[],(p=Q())!==r)for(;p!==r;)v.push(p),p=Q();else v=r;return v===r&&(v=u,O++,c.length>u?(p=c.charAt(u),u++):(p=r,O===0&&F(Je)),O--,p===r?v=void 0:(u=v,v=r)),v}function yt(){var v;return(v=function(){var p,A;return p=u,(A=sn())!==r&&(A=Cr(A)),p=A,p}())===r&&(v=function(){var p,A,I,j,R,$,H,N;return p=u,c.charCodeAt(u)===123?(A=Wt,u++):(A=r,O===0&&F(Xt)),A!==r?(c.substr(u,3)===$t?(I=$t,u+=3):(I=r,O===0&&F(vr)),I===r&&(c.substr(u,15)===Gt?(I=Gt,u+=15):(I=r,O===0&&F(dr))),I!==r?(c.charCodeAt(u)===125?(j=Ce,u++):(j=r,O===0&&F(Oe)),j!==r&&Q()!==r&&(R=sn())!==r&&Q()!==r?(c.charCodeAt(u)===123?($=Wt,u++):($=r,O===0&&F(Xt)),$!==r?(c.substr(u,3)===Yt?(H=Yt,u+=3):(H=r,O===0&&F(_r)),H===r&&(c.substr(u,13)===Ht?(H=Ht,u+=13):(H=r,O===0&&F(hr))),H!==r?(c.charCodeAt(u)===125?(N=Ce,u++):(N=r,O===0&&F(Oe)),N!==r?p=Or(R):(u=p,p=r)):(u=p,p=r)):(u=p,p=r)):(u=p,p=r)):(u=p,p=r)):(u=p,p=r),p}())===r&&(v=function(){var p,A,I,j,R;if(p=u,c.substr(u,3)===Vt?(A=Vt,u+=3):(A=r,O===0&&F(fr)),A===r&&(c.substr(u,9)===zt?(A=zt,u+=9):(A=r,O===0&&F(cr))),A!==r){if(c.charCodeAt(u)===32?u++:O===0&&F(Ze),I=u,j=[],R=c.charAt(u),ge.test(R)?u++:(R=r,O===0&&F(me)),R!==r)for(;R!==r;)j.push(R),R=c.charAt(u),ge.test(R)?u++:(R=r,O===0&&F(me));else j=r;(I=j!==r?c.substring(I,u):j)!==r?(c.charCodeAt(u)===125?(j=Ce,u++):(j=r,O===0&&F(Oe)),j!==r?p=Ar(I):(u=p,p=r)):(u=p,p=r)}else u=p,p=r;return p}()),v}function sn(){var v,p,A,I,j;if(v=u,(p=wt())!==r){for(A=[],I=u,Q()!==r&&(j=wt())!==r?I=rn(p,j):(u=I,I=r);I!==r;)A.push(I),I=u,Q()!==r&&(j=wt())!==r?I=rn(p,j):(u=I,I=r);v=kr(p,A)}else u=v,v=r;return v}function wt(){var v,p;if(v=[],(p=fn())===r&&(p=an()),p!==r)for(;p!==r;)v.push(p),(p=fn())===r&&(p=an());else v=r;return v!==r&&(v=Pr(v)),v}function an(){var v,p,A;if(v=u,p=[],A=c.charAt(u),Kt.test(A)?u++:(A=r,O===0&&F(Qt)),A!==r)for(;A!==r;)p.push(A),A=c.charAt(u),Kt.test(A)?u++:(A=r,O===0&&F(Qt));else p=r;return(v=p!==r?c.substring(v,u):p)!==r&&(v=Tr(v)),v}function fn(){var v,p,A,I,j,R,$;if(v=u,c.charCodeAt(u)===91?(p=rr,u++):(p=r,O===0&&F(pr)),p!==r){if(A=u,I=u,j=[],R=c.charAt(u),Jt.test(R)?u++:(R=r,O===0&&F(en)),R!==r)for(;R!==r;)j.push(R),R=c.charAt(u),Jt.test(R)?u++:(R=r,O===0&&F(en));else j=r;if(j!==r){for(R=[],$=c.charAt(u),Zt.test($)?u++:($=r,O===0&&F(tn));$!==r;)R.push($),$=c.charAt(u),Zt.test($)?u++:($=r,O===0&&F(tn));I=j=[j,R]}else u=I,I=r;(A=I!==r?c.substring(A,u):I)!==r?(c.charCodeAt(u)===93?(I=lr,u++):(I=r,O===0&&F(gr)),I!==r?v=Fr(A):(u=v,v=r)):(u=v,v=r)}else u=v,v=r;return v}if(S=q(),x.peg$library)return{peg$result:S,peg$currPos:u,peg$FAILED:r,peg$maxFailExpected:Xe,peg$maxFailPos:ie};if(S!==r&&u===c.length)return S;throw S!==r&&u<c.length&&F({type:"end"}),P=Xe,g=ie<c.length?c.charAt(ie):null,b=ie<c.length?on(ie,ie+1):on(ie,ie),new C(C.buildMessage(P,g),P,g,b)}}}function _(){if(d)return y;function C(T,c){const x=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],S=["C","Db","D","D#","E","F","Gb","G","G#","A","A#","B"];if(T.length<1)return;let P="",g=0;for(;g<T.length;){if("CDEFGAB".indexOf(T[g])===-1){P+=T[g],g++;continue}let b=T[g];g++,g<T.length&&(T[g]!=="#"&&T[g]!=="b"||(b+=T[g],g++));let r=x.indexOf(b);r===-1&&(r=S.indexOf(b),r===-1&&console.error("Unknown chord root",b)),r+=c,r%=12,r<0&&(r=12+r),P+=x[r]}return P}return d=1,y={transpose:function(T,c){for(let x of T.content)if(["verse","chorus"].includes(x.type)){for(let S of x.items)if(S.type=="line")for(let P of S.items)P.type=="chord"&&(P.value=C(P.value,c))}return T},transposeChord:C}}var m=function(){if(a)return h;a=1;const C=f(),T=function(){if(l)return i;function S(g){let b="",r="";for(let k=0;k<g.items.length;k++){const q=g.items[k];let L;switch(q.value.length,q.type){case"chord":L=r.length-b.length,L>0&&(b+=" ".repeat(L)),b+=q.value+" ";break;case"text":r+=q.value,L=b.length-r.length,L>0&&(r+=" ".repeat(L))}}let E="";return b.length>0&&(E+=b+`
`),E+r}function P(g){var b="";for(let r=0;r<g.items.length;r++){const E=g.items[r];E.type=="line"&&(b+=S(E)+`
`)}return b}return l=1,i={processSong:function(g){var b="";g.header.title&&(b+=`Title: ${g.header.title}
`),g.header.subTitle&&(b+=`Subtitle: ${g.header.subTitle}
`),g.header.artist&&(b+=`Artist: ${g.header.artist}
`),b+=`
`;for(let r=0;r<g.content.length;r++){let E=g.content[r];r>0&&(b+=`

`),E.type!="verse"&&E.type!="chorus"||(b+=P(E))}return b},processVerse:P,processRow:S}}(),c=function(){if(s)return o;function S(g){let b=[],r=[],E=null;for(let q=0;q<g.items.length;q++){let L=g.items[q];L.type==="chord"?(b.push(L.value),E=L.value):L.type==="text"&&(E===null&&b.push(""),r.push(L.value),E=null)}let k='<table class="line">';return b.filter(q=>q!=="").length>0&&(k+='<tr class="line-chords">',k+=b.map(q=>`<td class="chord">${q}</td>`).join(`
`),k+="</tr>"),k+='<tr class="line-lyrics">',k+=r.map(q=>`<td class="lyrics">${q.replaceAll(" ","&nbsp;")}</td>`).join(`
`),k+="</tr>",k+="</table>",k}function P(g){let b=`<div class="${g.type}">
`;for(let r=0;r<g.items.length;r++)b+=S(g.items[r]);return b+="</div>",b}return s=1,o={processSong:function(g){var b=`<div class="jschordpro-song">

`;b+=`<div class="header">
`,g.header.title&&g.header.title.length>0&&(b+=`<h1>${g.header.title}</h1>
`),g.header.subtitle&&g.header.subTitle.length>0&&(b+=`<h2>${g.header.subTitle}</h2>
`),g.header.artist&&g.header.artist.length>0&&(b+=`<h2>${g.header.artist}</h2>
`),b+=`</div>

`,b+=`<div class="content">
`;for(let r=0;r<g.content.length;r++)b+=P(g.content[r]);return(b+=`</div>
`)+`</div>
`}}}(),x=_();return h.parse=C.parse,h.to_ascii=T.processSong,h.to_html=c.processSong,h.transpose=x.transpose,h}(),w=e(m);return et.default=w,et}var vi=ci();const Et=fi(vi);var di=Se("<option> </option>"),_i=Se('<div class="error svelte-1la4bgz"> </div>'),hi=Se('<div class="preview svelte-1la4bgz"><div class="transpose svelte-1la4bgz"><form><select></select></form></div> <!> <!></div>');function pi(e,t){pt(t,!0);let n=oe(t,"source",3,"");const i=[{id:-6,text:"-6"},{id:-5,text:"-5"},{id:-4,text:"-4"},{id:-3,text:"-3"},{id:-2,text:"-2"},{id:-1,text:"-1"},{id:0,text:"no transposition"},{id:1,text:"+1"},{id:2,text:"+2"},{id:3,text:"+3"},{id:4,text:"+4"},{id:5,text:"+5"},{id:6,text:"+6"}];let l=_e({transposeStep:0}),o=De(()=>{let m={html:"",err:null};try{let w=Et.parse(n());l.transposeStep!=0&&Et.transpose(w,l.transposeStep),m.html=Et.to_html(w)}catch(w){m.err=w.toString()}return m});var s=hi(),y=J(s),d=J(y),a=J(d);Gl(a,21,()=>i,Wl,(m,w)=>{var C=di(),T={},c=J(C);We(()=>{T!==(T=z(w).id)&&(C.value=(C.__value=z(w).id)==null?"":z(w).id),ft(c,z(w).text)}),Ee(m,C)});var h=ue(y,2);{var f=m=>{var w=_i(),C=J(w);We(()=>ft(C,z(o).err)),Ee(m,w)};tr(h,m=>{z(o).err!==null&&m(f)})}var _=ue(h,2);Jl(_,()=>z(o).html),Te("submit",d,m=>m.preventDefault()),ei(a,()=>l.transposeStep,m=>l.transposeStep=m),Ee(e,s),gt()}function gi(){if("showSaveFilePicker"in window){const t={types:[{description:"Chordpro text file",accept:{"text/plain":[".txt"]}}]};return window.showSaveFilePicker(t)}const e={type:"save-file",accepts:[{description:"Text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function mi(){if("showOpenFilePicker"in window){const t={types:[{description:"Chordpro",accept:{"text/plain":[".txt"]}}],excludeAcceptAllOption:!1,multiple:!1};return window.showOpenFilePicker(t).then(n=>n[0])}const e={type:"open-file",accepts:[{description:"Chordpro text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function yi(e){return e.text?e.text():new Promise(n=>{const i=new FileReader;i.addEventListener("loadend",function(){n(i.result)}),i.readAsText(e)})}function An(e,t){e.createWriter?e.createWriter().then(function(n){n.write(0,t).then(function(){return n.close()})}):e.createWritable().then(function(n){n.write(t).then(function(){return n.close()})})}var wi=Se(`<!> <main class="svelte-1f1vxka"><div class="editor no-print svelte-1f1vxka"><textarea class="no-print svelte-1f1vxka">
        ></textarea></div> <div class="preview svelte-1f1vxka"><!></div></main> <footer class="no-print svelte-1f1vxka"> </footer>`,1);function bi(e,t){pt(t,!0);let n=oe(t,"song",3,"");const i="chooseFileSystemEntries"in window||"showOpenFilePicker"in window;let l,o=fl(_e(n()));function s(){K(o,"")}async function y(){l=await mi();try{let P=await l.getFile();K(o,_e(await yi(P)))}catch(P){console.error("read failed: ",P)}}async function d(){if(l)try{await An(l,z(o))}catch(P){const g="Unable to save file";console.error(g,P),alert(g)}}async function a(){if(!i){console.error("this browser does not support access to file system");return}try{l=await gi()}catch(P){if(P.name==="AbortError")return;const g="An error occured trying to open the file.";console.error(g,P),alert(g);return}try{await An(l,z(o))}catch(P){const g="Unable to save file.";console.error(g,P),alert(g);return}}var h=wi(),f=hl(h),_=De(()=>l&&l.name);ai(f,{get subtitle(){return z(_)},on_open:y,on_new:s,on_save:d,on_save_as:a});var m=ue(f,2),w=J(m),C=J(w),T=ue(w,2),c=J(T);pi(c,{get source(){return z(o)}});var x=ue(m,2),S=J(x);We(()=>ft(S,`BlueSoft Â© ${new Date().getFullYear()??""}`)),Xl(C,()=>z(o),P=>K(o,P)),Ee(e,h),gt()}const xi=`{title: In My Time of Dyin'}
{subtitle: Bob Dylan}

[Am]In my time of dying
[Am]I don't want nobody to mourn
[Am]All I want for you to do
Is [D]take my body [Am]home

{start_of_chorus}
[Am]Well, well, well, so I can die easy
Well, well, [D]well, so I can die [Am]easy
[Am]Well, well, well, so I can die easy
[D]Jesus gonna make up my [G]dy[G#]ing [Am]bed
{end_of_chorus}

Well, meet me Jesus, meet me
Meet me in the middle of the air
If these wings should fail to me
Lord, won't you meet me with another pair

Lord, in my time of dying
I don't want nobody to cry
All I want you to do
Is take me when I die
`;Ul(bi,{target:document.body,props:{song:xi}});
