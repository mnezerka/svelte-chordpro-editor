(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();const fn=!1;var Ft=Array.isArray,Pr=Array.prototype.indexOf,kt=Array.from,Fr=Object.defineProperty,De=Object.getOwnPropertyDescriptor,kr=Object.getOwnPropertyDescriptors,Ir=Object.prototype,Dr=Array.prototype,An=Object.getPrototypeOf;function Nr(e){return e()}function St(e){for(var t=0;t<e.length;t++)e[t]()}const fe=2,Sn=4,ft=8,It=16,pe=32,Ve=64,et=128,le=256,tt=512,X=1024,ge=2048,Re=4096,_e=8192,ct=16384,Rr=32768,Dt=65536,Lr=1<<17,qr=1<<19,Cn=1<<20,xe=Symbol("$state"),Mr=Symbol("legacy props");function On(e){return e===this.v}function jr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Nt(e){return!jr(e,this.v)}function Br(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ur(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Vr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Wr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function $r(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Gr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Yr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function zr(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Hr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let We=!1,Kr=!1;function Jr(){We=!0}const Zr=1,Xr=2,Qr=16,el=1,tl=2,nl=4,rl=8,ll=16,il=1,ol=2,te=Symbol();let z=null;function cn(e){z=e}function vt(e,t=!1,n){z={p:z,c:null,e:null,m:!1,s:e,x:null,l:null},We&&!t&&(z.l={s:null,u:null,r1:[],r2:re(!1)})}function dt(e){const t=z;if(t!==null){const a=t.e;if(a!==null){var n=W,i=U;t.e=null;try{for(var l=0;l<a.length;l++){var o=a[l];Ae(o.effect),Ee(o.reaction),ht(o.fn)}}finally{Ae(n),Ee(i)}}z=t.p,t.m=!0}return{}}function $e(){return!We||z!==null&&z.l===null}function re(e,t){var n={f:0,v:e,reactions:null,equals:On,rv:0,wv:0};return n}function vn(e){return Tn(re(e))}function Rt(e,t=!1){var i;const n=re(e);return t||(n.equals=Nt),We&&z!==null&&z.l!==null&&((i=z.l).s??(i.s=[])).push(n),n}function ul(e,t=!1){return Tn(Rt(e,t))}function Tn(e){return U!==null&&!ue&&(U.f&fe)!==0&&(ce===null?xl([e]):ce.push(e)),e}function H(e,t){return U!==null&&!ue&&$e()&&(U.f&(fe|It))!==0&&(ce===null||!ce.includes(e))&&Hr(),Pn(e,t)}function Pn(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=Yn(),Fn(e,ge),$e()&&W!==null&&(W.f&X)!==0&&(W.f&(pe|Ve))===0&&(de===null?El([e]):de.push(e))),t}function Fn(e,t){var n=e.reactions;if(n!==null)for(var i=$e(),l=n.length,o=0;o<l;o++){var a=n[o],m=a.f;(m&ge)===0&&(!i&&a===W||(ve(a,t),(m&(X|le))!==0&&((m&fe)!==0?Fn(a,Re):mt(a))))}}let al=!1;function oe(e,t=null,n){if(typeof e!="object"||e===null||xe in e)return e;const i=An(e);if(i!==Ir&&i!==Dr)return e;var l=new Map,o=Ft(e),a=re(0);o&&l.set("length",re(e.length));var m;return new Proxy(e,{defineProperty(_,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Gr();var p=l.get(c);return p===void 0?(p=re(d.value),l.set(c,p)):H(p,oe(d.value,m)),!0},deleteProperty(_,c){var d=l.get(c);if(d===void 0)c in _&&l.set(c,re(te));else{if(o&&typeof c=="string"){var p=l.get("length"),f=Number(c);Number.isInteger(f)&&f<p.v&&H(p,f)}H(d,te),dn(a)}return!0},get(_,c,d){var b;if(c===xe)return e;var p=l.get(c),f=c in _;if(p===void 0&&(!f||(b=De(_,c))!=null&&b.writable)&&(p=re(oe(f?_[c]:te,m)),l.set(c,p)),p!==void 0){var y=B(p);return y===te?void 0:y}return Reflect.get(_,c,d)},getOwnPropertyDescriptor(_,c){var d=Reflect.getOwnPropertyDescriptor(_,c);if(d&&"value"in d){var p=l.get(c);p&&(d.value=B(p))}else if(d===void 0){var f=l.get(c),y=f==null?void 0:f.v;if(f!==void 0&&y!==te)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return d},has(_,c){var y;if(c===xe)return!0;var d=l.get(c),p=d!==void 0&&d.v!==te||Reflect.has(_,c);if(d!==void 0||W!==null&&(!p||(y=De(_,c))!=null&&y.writable)){d===void 0&&(d=re(p?oe(_[c],m):te),l.set(c,d));var f=B(d);if(f===te)return!1}return p},set(_,c,d,p){var O;var f=l.get(c),y=c in _;if(o&&c==="length")for(var b=d;b<f.v;b+=1){var S=l.get(b+"");S!==void 0?H(S,te):b in _&&(S=re(te),l.set(b+"",S))}f===void 0?(!y||(O=De(_,c))!=null&&O.writable)&&(f=re(void 0),H(f,oe(d,m)),l.set(c,f)):(y=f.v!==te,H(f,oe(d,m)));var T=Reflect.getOwnPropertyDescriptor(_,c);if(T!=null&&T.set&&T.set.call(p,d),!y){if(o&&typeof c=="string"){var s=l.get("length"),x=Number(c);Number.isInteger(x)&&x>=s.v&&H(s,x+1)}dn(a)}return!0},ownKeys(_){B(a);var c=Reflect.ownKeys(_).filter(f=>{var y=l.get(f);return y===void 0||y.v!==te});for(var[d,p]of l)p.v!==te&&!(d in _)&&c.push(d);return c},setPrototypeOf(){Yr()}})}function dn(e,t=1){H(e,e.v+t)}function _n(e){return e!==null&&typeof e=="object"&&xe in e?e[xe]:e}function sl(e,t){return Object.is(_n(e),_n(t))}var hn,kn,In,Dn;function fl(){if(hn===void 0){hn=window,kn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype;In=De(t,"firstChild").get,Dn=De(t,"nextSibling").get,e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Nn(e=""){return document.createTextNode(e)}function Be(e){return In.call(e)}function _t(e){return Dn.call(e)}function Z(e,t){return Be(e)}function cl(e,t){{var n=Be(e);return n instanceof Comment&&n.data===""?_t(n):n}}function se(e,t=1,n=!1){let i=e;for(;t--;)i=_t(i);return i}function vl(e){e.textContent=""}function Ce(e){var t=fe|ge,n=U!==null&&(U.f&fe)!==0?U:null;return W===null||n!==null&&(n.f&le)!==0?t|=le:W.f|=Cn,{ctx:z,deps:null,effects:null,equals:On,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??W}}function Rn(e){const t=Ce(e);return t.equals=Nt,t}function Ln(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)he(t[n])}}function dl(e){for(var t=e.parent;t!==null;){if((t.f&fe)===0)return t;t=t.parent}return null}function _l(e){var t,n=W;Ae(dl(e));try{Ln(e),t=Hn(e)}finally{Ae(n)}return t}function qn(e){var t=_l(e),n=(be||(e.f&le)!==0)&&e.deps!==null?Re:X;ve(e,n),e.equals(t)||(e.v=t,e.wv=Yn())}function Mn(e){W===null&&U===null&&Vr(),U!==null&&(U.f&le)!==0&&W===null&&Ur(),qt&&Br()}function hl(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Le(e,t,n,i=!0){var l=(e&Ve)!==0,o=W,a={ctx:z,deps:null,nodes_start:null,nodes_end:null,f:e|ge,first:null,fn:t,last:null,next:null,parent:l?null:o,prev:null,teardown:null,transitions:null,wv:0};if(n)try{Mt(a),a.f|=Rr}catch(c){throw he(a),c}else t!==null&&mt(a);var m=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(Cn|et))===0;if(!m&&!l&&i&&(o!==null&&hl(a,o),U!==null&&(U.f&fe)!==0)){var _=U;(_.effects??(_.effects=[])).push(a)}return a}function pl(e){const t=Le(ft,null,!1);return ve(t,X),t.teardown=e,t}function Ct(e){Mn();var t=W!==null&&(W.f&pe)!==0&&z!==null&&!z.m;if(t){var n=z;(n.e??(n.e=[])).push({fn:e,effect:W,reaction:U})}else{var i=ht(e);return i}}function gl(e){return Mn(),jn(e)}function ml(e){const t=Le(Ve,e,!0);return(n={})=>new Promise(i=>{n.outro?nt(t,()=>{he(t),i(void 0)}):(he(t),i(void 0))})}function ht(e){return Le(Sn,e,!1)}function jn(e){return Le(ft,e,!0)}function Ue(e,t=[],n=Ce){const i=t.map(n);return pt(()=>e(...i.map(B)))}function pt(e,t=0){return Le(ft|It|t,e,!0)}function Ne(e,t=!0){return Le(ft|pe,e,!0,t)}function Bn(e){var t=e.teardown;if(t!==null){const n=qt,i=U;pn(!0),Ee(null);try{t.call(null)}finally{pn(n),Ee(i)}}}function Un(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var i=n.next;he(n,t),n=i}}function yl(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&pe)===0&&he(t),t=n}}function he(e,t=!0){var n=!1;if((t||(e.f&qr)!==0)&&e.nodes_start!==null){for(var i=e.nodes_start,l=e.nodes_end;i!==null;){var o=i===l?null:_t(i);i.remove(),i=o}n=!0}Un(e,t&&!n),ut(e,0),ve(e,ct);var a=e.transitions;if(a!==null)for(const _ of a)_.stop();Bn(e);var m=e.parent;m!==null&&m.first!==null&&Vn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Vn(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function nt(e,t){var n=[];Lt(e,n,!0),Wn(n,()=>{he(e),t&&t()})}function Wn(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var l of e)l.out(i)}else t()}function Lt(e,t,n){if((e.f&_e)===0){if(e.f^=_e,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var i=e.first;i!==null;){var l=i.next,o=(i.f&Dt)!==0||(i.f&pe)!==0;Lt(i,t,o?n:!1),i=l}}}function rt(e){$n(e,!0)}function $n(e,t){if((e.f&_e)!==0){e.f^=_e,(e.f&X)===0&&(e.f^=X),Ge(e)&&(ve(e,ge),mt(e));for(var n=e.first;n!==null;){var i=n.next,l=(n.f&Dt)!==0||(n.f&pe)!==0;$n(n,l?t:!1),n=i}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let lt=[];function wl(){var e=lt;lt=[],St(e)}function bl(e){lt.length===0&&queueMicrotask(wl),lt.push(e)}let Ze=!1,Ot=!1,it=null,Xe=!1,qt=!1;function pn(e){qt=e}let Qe=[];let U=null,ue=!1;function Ee(e){U=e}let W=null;function Ae(e){W=e}let ce=null;function xl(e){ce=e}let J=null,ne=0,de=null;function El(e){de=e}let Gn=1,ot=0,be=!1;function Yn(){return++Gn}function Ge(e){var p;var t=e.f;if((t&ge)!==0)return!0;if((t&Re)!==0){var n=e.deps,i=(t&le)!==0;if(n!==null){var l,o,a=(t&tt)!==0,m=i&&W!==null&&!be,_=n.length;if(a||m){var c=e,d=c.parent;for(l=0;l<_;l++)o=n[l],(a||!((p=o==null?void 0:o.reactions)!=null&&p.includes(c)))&&(o.reactions??(o.reactions=[])).push(c);a&&(c.f^=tt),m&&d!==null&&(d.f&le)===0&&(c.f^=le)}for(l=0;l<_;l++)if(o=n[l],Ge(o)&&qn(o),o.wv>e.wv)return!0}(!i||W!==null&&!be)&&ve(e,X)}return!1}function Al(e,t){for(var n=t;n!==null;){if((n.f&et)!==0)try{n.fn(e);return}catch{n.f^=et}n=n.parent}throw Ze=!1,e}function Sl(e){return(e.f&ct)===0&&(e.parent===null||(e.parent.f&et)===0)}function gt(e,t,n,i){if(Ze){if(n===null&&(Ze=!1),Sl(t))throw e;return}n!==null&&(Ze=!0);{Al(e,t);return}}function zn(e,t,n=!0){var i=e.reactions;if(i!==null)for(var l=0;l<i.length;l++){var o=i[l];(o.f&fe)!==0?zn(o,t,!1):t===o&&(n?ve(o,ge):(o.f&X)!==0&&ve(o,Re),mt(o))}}function Hn(e){var y;var t=J,n=ne,i=de,l=U,o=be,a=ce,m=z,_=ue,c=e.f;J=null,ne=0,de=null,be=(c&le)!==0&&(ue||!Xe||U===null),U=(c&(pe|Ve))===0?e:null,ce=null,cn(e.ctx),ue=!1,ot++;try{var d=(0,e.fn)(),p=e.deps;if(J!==null){var f;if(ut(e,ne),p!==null&&ne>0)for(p.length=ne+J.length,f=0;f<J.length;f++)p[ne+f]=J[f];else e.deps=p=J;if(!be)for(f=ne;f<p.length;f++)((y=p[f]).reactions??(y.reactions=[])).push(e)}else p!==null&&ne<p.length&&(ut(e,ne),p.length=ne);if($e()&&de!==null&&!ue&&p!==null&&(e.f&(fe|Re|ge))===0)for(f=0;f<de.length;f++)zn(de[f],e);return l!==null&&ot++,d}finally{J=t,ne=n,de=i,U=l,be=o,ce=a,cn(m),ue=_}}function Cl(e,t){let n=t.reactions;if(n!==null){var i=Pr.call(n,e);if(i!==-1){var l=n.length-1;l===0?n=t.reactions=null:(n[i]=n[l],n.pop())}}n===null&&(t.f&fe)!==0&&(J===null||!J.includes(t))&&(ve(t,Re),(t.f&(le|tt))===0&&(t.f^=tt),Ln(t),ut(t,0))}function ut(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)Cl(e,n[i])}function Mt(e){var t=e.f;if((t&ct)===0){ve(e,X);var n=W,i=z,l=Xe;W=e,Xe=!0;try{(t&It)!==0?yl(e):Un(e),Bn(e);var o=Hn(e);e.teardown=typeof o=="function"?o:null,e.wv=Gn;var a=e.deps,m;fn&&Kr&&e.f&ge}catch(_){gt(_,e,n,i||e.ctx)}finally{Xe=l,W=n}}}function Ol(){try{Wr()}catch(e){if(it!==null)gt(e,it,null);else throw e}}function Tl(){try{for(var e=0;Qe.length>0;){e++>1e3&&Ol();var t=Qe,n=t.length;Qe=[];for(var i=0;i<n;i++){var l=t[i];(l.f&X)===0&&(l.f^=X);var o=Fl(l);Pl(o)}}}finally{Ot=!1,it=null}}function Pl(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var i=e[n];if((i.f&(ct|_e))===0)try{Ge(i)&&(Mt(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?Vn(i):i.fn=null))}catch(l){gt(l,i,null,i.ctx)}}}function mt(e){Ot||(Ot=!0,queueMicrotask(Tl));for(var t=it=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(Ve|pe))!==0){if((n&X)===0)return;t.f^=X}}Qe.push(t)}function Fl(e){for(var t=[],n=e.first;n!==null;){var i=n.f,l=(i&pe)!==0,o=l&&(i&X)!==0;if(!o&&(i&_e)===0){if((i&Sn)!==0)t.push(n);else if(l)n.f^=X;else{var a=U;try{U=n,Ge(n)&&Mt(n)}catch(c){gt(c,n,null,n.ctx)}finally{U=a}}var m=n.first;if(m!==null){n=m;continue}}var _=n.parent;for(n=n.next;n===null&&_!==null;)n=_.next,_=_.parent}return t}function B(e){var t=e.f,n=(t&fe)!==0;if(U!==null&&!ue){ce!==null&&ce.includes(e)&&zr();var i=U.deps;e.rv<ot&&(e.rv=ot,J===null&&i!==null&&i[ne]===e?ne++:J===null?J=[e]:(!be||!J.includes(e))&&J.push(e))}else if(n&&e.deps===null&&e.effects===null){var l=e,o=l.parent;o!==null&&(o.f&le)===0&&(l.f^=le)}return n&&(l=e,Ge(l)&&qn(l)),e.v}function at(e){var t=ue;try{return ue=!0,e()}finally{ue=t}}const kl=-7169;function ve(e,t){e.f=e.f&kl|t}function Il(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(xe in e)Tt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&xe in n&&Tt(n)}}}function Tt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{Tt(e[i],t)}catch{}const n=An(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const i=kr(n);for(let l in i){const o=i[l].get;if(o)try{o.call(e)}catch{}}}}}const Dl=["touchstart","touchmove"];function Nl(e){return Dl.includes(e)}let gn=!1;function Rl(){gn||(gn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Kn(e){var t=U,n=W;Ee(null),Ae(null);try{return e()}finally{Ee(t),Ae(n)}}function Jn(e,t,n,i=n){e.addEventListener(t,()=>Kn(n));const l=e.__on_r;l?e.__on_r=()=>{l(),i(!0)}:e.__on_r=()=>i(!0),Rl()}const Ll=new Set,mn=new Set;function ql(e,t,n,i={}){function l(o){if(i.capture||Me.call(t,o),!o.cancelBubble)return Kn(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?bl(()=>{t.addEventListener(e,l,i)}):t.addEventListener(e,l,i),l}function Ie(e,t,n,i,l){var o={capture:i,passive:l},a=ql(e,t,n,o);(t===document.body||t===window||t===document)&&pl(()=>{t.removeEventListener(e,a,o)})}function Me(e){var x;var t=this,n=t.ownerDocument,i=e.type,l=((x=e.composedPath)==null?void 0:x.call(e))||[],o=l[0]||e.target,a=0,m=e.__root;if(m){var _=l.indexOf(m);if(_!==-1&&(t===document||t===window)){e.__root=t;return}var c=l.indexOf(t);if(c===-1)return;_<=c&&(a=_)}if(o=l[a]||e.target,o!==t){Fr(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=U,p=W;Ee(null),Ae(null);try{for(var f,y=[];o!==null;){var b=o.assignedSlot||o.parentNode||o.host||null;try{var S=o["__"+i];if(S!==void 0&&(!o.disabled||e.target===o))if(Ft(S)){var[T,...s]=S;T.apply(o,[e,...s])}else S.call(o,e)}catch(O){f?y.push(O):f=O}if(e.cancelBubble||b===t||b===null)break;o=b}if(f){for(let O of y)queueMicrotask(()=>{throw O});throw f}}finally{e.__root=t,delete e.currentTarget,Ee(d),Ae(p)}}}function Zn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Pt(e,t){var n=W;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Oe(e,t){var n=(t&il)!==0,i=(t&ol)!==0,l,o=!e.startsWith("<!>");return()=>{l===void 0&&(l=Zn(o?e:"<!>"+e),n||(l=Be(l)));var a=i||kn?document.importNode(l,!0):l.cloneNode(!0);if(n){var m=Be(a),_=a.lastChild;Pt(m,_)}else Pt(a,a);return a}}function Se(e,t){e!==null&&e.before(t)}function st(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ml(e,t){return jl(e,t)}const ke=new Map;function jl(e,{target:t,anchor:n,props:i={},events:l,context:o,intro:a=!0}){fl();var m=new Set,_=p=>{for(var f=0;f<p.length;f++){var y=p[f];if(!m.has(y)){m.add(y);var b=Nl(y);t.addEventListener(y,Me,{passive:b});var S=ke.get(y);S===void 0?(document.addEventListener(y,Me,{passive:b}),ke.set(y,1)):ke.set(y,S+1)}}};_(kt(Ll)),mn.add(_);var c=void 0,d=ml(()=>{var p=n??t.appendChild(Nn());return Ne(()=>{if(o){vt({});var f=z;f.c=o}l&&(i.$$events=l),c=e(p,i)||{},o&&dt()}),()=>{var b;for(var f of m){t.removeEventListener(f,Me);var y=ke.get(f);--y===0?(document.removeEventListener(f,Me),ke.delete(f)):ke.set(f,y)}mn.delete(_),p!==n&&((b=p.parentNode)==null||b.removeChild(p))}});return Bl.set(c,d),c}let Bl=new WeakMap;function Xn(e,t,n=!1){var i=e,l=null,o=null,a=te,m=n?Dt:0,_=!1;const c=(p,f=!0)=>{_=!0,d(f,p)},d=(p,f)=>{a!==(a=p)&&(a?(l?rt(l):f&&(l=Ne(()=>f(i))),o&&nt(o,()=>{o=null})):(o?rt(o):f&&(o=Ne(()=>f(i))),l&&nt(l,()=>{l=null})))};pt(()=>{_=!1,t(c),_||d(null,null)},m)}function Ul(e,t){return t}function Vl(e,t,n,i){for(var l=[],o=t.length,a=0;a<o;a++)Lt(t[a].e,l,!0);var m=o>0&&l.length===0&&n!==null;if(m){var _=n.parentNode;vl(_),_.append(n),i.clear(),we(e,t[0].prev,t[o-1].next)}Wn(l,()=>{for(var c=0;c<o;c++){var d=t[c];m||(i.delete(d.k),we(e,d.prev,d.next)),he(d.e,!m)}})}function Wl(e,t,n,i,l,o=null){var a=e,m={flags:t,items:new Map,first:null};{var _=e;a=_.appendChild(Nn())}var c=null,d=!1,p=Rn(()=>{var f=n();return Ft(f)?f:f==null?[]:kt(f)});pt(()=>{var f=B(p),y=f.length;d&&y===0||(d=y===0,$l(f,m,a,l,t,i,n),o!==null&&(y===0?c?rt(c):c=Ne(()=>o(a)):c!==null&&nt(c,()=>{c=null})),B(p))})}function $l(e,t,n,i,l,o,a){var m=e.length,_=t.items,c=t.first,d=c,p,f=null,y=[],b=[],S,T,s,x;for(x=0;x<m;x+=1){if(S=e[x],T=o(S,x),s=_.get(T),s===void 0){var O=d?d.e.nodes_start:n;f=Yl(O,t,f,f===null?t.first:f.next,S,T,x,i,l,a),_.set(T,f),y=[],b=[],d=f.next;continue}if(Gl(s,S,x),(s.e.f&_e)!==0&&rt(s.e),s!==d){if(p!==void 0&&p.has(s)){if(y.length<b.length){var D=b[0],g;f=D.prev;var E=y[0],r=y[y.length-1];for(g=0;g<y.length;g+=1)yn(y[g],D,n);for(g=0;g<b.length;g+=1)p.delete(b[g]);we(t,E.prev,r.next),we(t,f,E),we(t,r,D),d=D,f=r,x-=1,y=[],b=[]}else p.delete(s),yn(s,d,n),we(t,s.prev,s.next),we(t,s,f===null?t.first:f.next),we(t,f,s),f=s;continue}for(y=[],b=[];d!==null&&d.k!==T;)(d.e.f&_e)===0&&(p??(p=new Set)).add(d),b.push(d),d=d.next;if(d===null)continue;s=d}y.push(s),f=s,d=s.next}if(d!==null||p!==void 0){for(var w=p===void 0?[]:kt(p);d!==null;)(d.e.f&_e)===0&&w.push(d),d=d.next;var P=w.length;if(P>0){var q=m===0?n:null;Vl(t,w,q,_)}}W.first=t.first&&t.first.e,W.last=f&&f.e}function Gl(e,t,n,i){Pn(e.v,t),e.i=n}function Yl(e,t,n,i,l,o,a,m,_,c){var d=(_&Zr)!==0,p=(_&Qr)===0,f=d?p?Rt(l):re(l):l,y=(_&Xr)===0?a:re(a),b={i:y,v:f,k:o,a:null,e:null,prev:n,next:i};try{return b.e=Ne(()=>m(e,f,y,c),al),b.e.prev=n&&n.e,b.e.next=i&&i.e,n===null?t.first=b:(n.next=b,n.e.next=b.e),i!==null&&(i.prev=b,i.e.prev=b.e),b}finally{}}function yn(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,l=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==i;){var a=_t(o);l.before(o),o=a}}function we(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function zl(e,t,n,i,l){var o=e,a="",m;pt(()=>{a!==(a=t()??"")&&(m!==void 0&&(he(m),m=void 0),a!==""&&(m=Ne(()=>{var _=a+"",c=Zn(_);Pt(Be(c),c.lastChild),o.before(c)})))})}const wn=[...` 	
\r\f \v\uFEFF`];function Hl(e,t,n){var i=""+e;if(n){for(var l in n)if(n[l])i=i?i+" "+l:l;else if(i.length)for(var o=l.length,a=0;(a=i.indexOf(l,a))>=0;){var m=a+o;(a===0||wn.includes(i[a-1]))&&(m===i.length||wn.includes(i[m]))?i=(a===0?"":i.substring(0,a))+i.substring(m+1):a=m}}return i===""?null:i}function Kl(e,t,n,i,l,o){var a=e.__className;if(a!==n){var m=Hl(n,i,o);m==null?e.removeAttribute("class"):e.className=m,e.__className=n}else if(o)for(var _ in o){var c=!!o[_];(l==null||c!==!!l[_])&&e.classList.toggle(_,c)}return o}function Jl(e,t,n=t){var i=$e();Jn(e,"input",l=>{var o=l?e.defaultValue:e.value;if(o=xt(e)?Et(o):o,n(o),i&&o!==(o=t())){var a=e.selectionStart,m=e.selectionEnd;e.value=o??"",m!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(m,e.value.length))}}),at(t)==null&&e.value&&n(xt(e)?Et(e.value):e.value),jn(()=>{var l=t();xt(e)&&l===Et(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function xt(e){var t=e.type;return t==="number"||t==="range"}function Et(e){return e===""?null:+e}function Qn(e,t,n){if(e.multiple)return Ql(e,t);for(var i of e.options){var l=je(i);if(sl(l,t)){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Zl(e,t){ht(()=>{var n=new MutationObserver(()=>{var i=e.__value;Qn(e,i)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function Xl(e,t,n=t){var i=!0;Jn(e,"change",l=>{var o=l?"[selected]":":checked",a;if(e.multiple)a=[].map.call(e.querySelectorAll(o),je);else{var m=e.querySelector(o)??e.querySelector("option:not([disabled])");a=m&&je(m)}n(a)}),ht(()=>{var l=t();if(Qn(e,l,i),i&&l===void 0){var o=e.querySelector(":checked");o!==null&&(l=je(o),n(l))}e.__value=l,i=!1}),Zl(e)}function Ql(e,t){for(var n of e.options)n.selected=~t.indexOf(je(n))}function je(e){return"__value"in e?e.__value:e.value}function ei(e=!1){const t=z,n=t.l.u;if(!n)return;let i=()=>Il(t.s);if(e){let l=0,o={};const a=Ce(()=>{let m=!1;const _=t.s;for(const c in _)_[c]!==o[c]&&(o[c]=_[c],m=!0);return m&&l++,l});i=()=>B(a)}n.b.length&&gl(()=>{bn(t,i),St(n.b)}),Ct(()=>{const l=at(()=>n.m.map(Nr));return()=>{for(const o of l)typeof o=="function"&&o()}}),n.a.length&&Ct(()=>{bn(t,i),St(n.a)})}function bn(e,t){if(e.l.s)for(const n of e.l.s)B(n);t()}let Ke=!1;function ti(e){var t=Ke;try{return Ke=!1,[e(),Ke]}finally{Ke=t}}function ae(e,t,n,i){var E;var l=(n&el)!==0,o=!We||(n&tl)!==0,a=(n&rl)!==0,m=(n&ll)!==0,_=!1,c;a?[c,_]=ti(()=>e[t]):c=e[t];var d=xe in e||Mr in e,p=a&&(((E=De(e,t))==null?void 0:E.set)??(d&&t in e&&(r=>e[t]=r)))||void 0,f=i,y=!0,b=!1,S=()=>(b=!0,y&&(y=!1,m?f=at(i):f=i),f);c===void 0&&i!==void 0&&(p&&o&&$r(),c=S(),p&&p(c));var T;if(o)T=()=>{var r=e[t];return r===void 0?S():(y=!0,b=!1,r)};else{var s=(l?Ce:Rn)(()=>e[t]);s.f|=Lr,T=()=>{var r=B(s);return r!==void 0&&(f=void 0),r===void 0?f:r}}if((n&nl)===0)return T;if(p){var x=e.$$legacy;return function(r,w){return arguments.length>0?((!o||!w||x||_)&&p(w?T():r),r):T()}}var O=!1,D=Rt(c),g=Ce(()=>{var r=T(),w=B(D);return O?(O=!1,w):D.v=r});return l||(g.equals=Nt),function(r,w){if(arguments.length>0){const P=w?B(g):o&&a?oe(r):r;return g.equals(P)||(O=!0,H(D,P),b&&f!==void 0&&(f=P),at(()=>B(g))),r}return B(g)}}const ni="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ni);Jr();var ri=Oe('<nav class="menu svelte-q1uz4f"><div class="menu-container svelte-q1uz4f"><button class="menu-top svelte-q1uz4f">File</button> <div><button class="svelte-q1uz4f">New</button> <button class="svelte-q1uz4f">Open..</button> <button class="svelte-q1uz4f">Save</button> <button class="svelte-q1uz4f">Save as..</button></div></div></nav>');function li(e,t){let n=ae(t,"on_new",8,()=>{}),i=ae(t,"on_open",8,()=>{}),l=ae(t,"on_save",8,()=>{}),o=ae(t,"on_save_as",8,()=>{}),a=ul(null);function m(x){B(a)===x?H(a,null):H(a,x)}function _(x){H(a,null),x()}var c=ri(),d=Z(c),p=Z(d),f=se(p,2);let y;var b=Z(f),S=se(b,2),T=se(S,2),s=se(T,2);Ue(()=>y=Kl(f,1,"menu-item-container svelte-q1uz4f",null,y,{hidden:B(a)!=="file"})),Ie("click",p,()=>{m("file")}),Ie("click",b,()=>{_(n())}),Ie("click",S,()=>{_(i())}),Ie("click",T,()=>{_(l())}),Ie("click",s,()=>{_(o())}),Se(e,c)}var ii=Oe('<span class="sub"> </span>'),oi=Oe('<nav class="no-print svelte-1m7tsxb"><div class="title svelte-1m7tsxb"><span class="main svelte-1m7tsxb">ChordPro Editor</span> <!></div> <!></nav>');function ui(e,t){vt(t,!1);let n=ae(t,"subtitle",8,""),i=ae(t,"on_new",8,()=>{}),l=ae(t,"on_open",8,()=>{}),o=ae(t,"on_save",8,()=>{}),a=ae(t,"on_save_as",8,()=>{});ei();var m=oi(),_=Z(m),c=se(Z(_),2);{var d=f=>{var y=ii(),b=Z(y);Ue(()=>st(b,`- ${n()??""}`)),Se(f,y)};Xn(c,f=>{n().length>0&&f(d)})}var p=se(_,2);li(p,{get on_new(){return i()},get on_open(){return l()},get on_save(){return o()},get on_save_as(){return a()}}),Se(e,m),dt()}function ai(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Je={},xn;function si(){if(xn)return Je;xn=1;function e(S){return S&&S.__esModule&&Object.prototype.hasOwnProperty.call(S,"default")?S.default:S}Object.defineProperty(Je,"__esModule",{value:!0});var t,n,i,l,o,a,m,_,c,d={};function p(){if(n)return t;function S(s,x,O,D){var g=Error.call(this,s);return Object.setPrototypeOf&&Object.setPrototypeOf(g,S.prototype),g.expected=x,g.found=O,g.location=D,g.name="SyntaxError",g}function T(s,x,O){return O=O||" ",s.length>x?s:(x-=s.length,s+(O+=O.repeat(x)).slice(0,x))}return n=1,function(s,x){function O(){this.constructor=s}O.prototype=x.prototype,s.prototype=new O}(S,Error),S.prototype.format=function(s){var x="Error: "+this.message;if(this.location){var O,D=null;for(O=0;O<s.length;O++)if(s[O].source===this.location.source){D=s[O].text.split(/\r\n|\n|\r/g);break}var g=this.location.start,E=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(g):g,r=this.location.source+":"+E.line+":"+E.column;if(D){var w=this.location.end,P=T("",E.line.toString().length," "),q=D[g.line-1],L=(g.line===w.line?w.column:q.length+1)-g.column||1;x+=`
 --> `+r+`
`+P+` |
`+E.line+" | "+q+`
`+P+" | "+T("",g.column-1," ")+T("",L,"^")}else x+=`
 at `+r}return x},S.buildMessage=function(s,x){var O={literal:function(w){return'"'+g(w.text)+'"'},class:function(w){var P=w.parts.map(function(q){return Array.isArray(q)?E(q[0])+"-"+E(q[1]):E(q)});return"["+(w.inverted?"^":"")+P.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(w){return w.description}};function D(w){return w.charCodeAt(0).toString(16).toUpperCase()}function g(w){return w.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(P){return"\\x0"+D(P)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(P){return"\\x"+D(P)})}function E(w){return w.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(P){return"\\x0"+D(P)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(P){return"\\x"+D(P)})}function r(w){return O[w.type](w)}return"Expected "+function(w){var P,q,L=w.map(r);if(L.sort(),L.length>0){for(P=1,q=1;P<L.length;P++)L[P-1]!==L[P]&&(L[q]=L[P],q++);L.length=q}switch(L.length){case 1:return L[0];case 2:return L[0]+" or "+L[1];default:return L.slice(0,-1).join(", ")+", or "+L[L.length-1]}}(s)+" but "+function(w){return w?'"'+g(w)+'"':"end of input"}(x)+" found."},t={StartRules:["All"],SyntaxError:S,parse:function(s,x){var O,D,g,E,r={},w=(x=x!==void 0?x:{}).grammarSource,P={All:on},q=on,L="{title:",Te="}",jt="{subtitle:",Bt="{artist:",Ut="{c:",Vt="{comment:",Wt="{",$t="soc",Gt="start_of_chorus",Yt="eoc",zt="end_of_chorus",er="[",tr="]",nr=/^[\n\r]/,me=/^[^}]/,Ht=/^[^{[\n\r]/,Kt=/^[A-Z]/,Jt=/^[^\]]/,Ye={type:"any"},rr=qe([`
`,"\r"],!1,!1),lr=Q("{title:",!1),ze=Q(" ",!1),ye=qe(["}"],!0,!1),Pe=Q("}",!1),ir=Q("{subtitle:",!1),or=Q("{artist:",!1),ur=Q("{c:",!1),ar=Q("{comment:",!1),Zt=Q("{",!1),sr=Q("soc",!1),fr=Q("start_of_chorus",!1),cr=Q("eoc",!1),vr=Q("end_of_chorus",!1),Xt=qe(["{","[",`
`,"\r"],!0,!1),dr=Q("[",!1),Qt=qe([["A","Z"]],!1,!1),en=qe(["]"],!0,!1),_r=Q("]",!1),hr=function(v){return""},pr=function(v,h){return{header:v,content:h}},gr=function(v,h,A){return{title:v,subTitle:h,artist:A}},mr=function(v){return v},yr=function(v){return v},wr=function(v){return v},br=function(v){return{type:"comment",value:v}},tn=function(v,h){return h},xr=function(v,h,A){return[v].concat(h)},Er=function(v){return{type:"verse",items:v}},Ar=function(v){return{type:"chorus",items:v}},nn=function(v,h){return h},Sr=function(v,h){return[v].concat(h)},Cr=function(v){return{type:"line",items:v}},Or=function(v){return{type:"text",value:v}},Tr=function(v){return{type:"chord",value:v}},u=0|x.peg$currPos,Fe=[{line:1,column:1}],ie=u,He=x.peg$maxFailExpected||[],C=0|x.peg$silentFails;if(x.startRule){if(!(x.startRule in P))throw new Error(`Can't start parsing from rule "`+x.startRule+'".');q=P[x.startRule]}function Q(v,h){return{type:"literal",text:v,ignoreCase:h}}function qe(v,h,A){return{type:"class",parts:v,inverted:h,ignoreCase:A}}function rn(v){var h,A=Fe[v];if(A)return A;if(v>=Fe.length)h=Fe.length-1;else for(h=v;!Fe[--h];);for(A={line:(A=Fe[h]).line,column:A.column};h<v;)s.charCodeAt(h)===10?(A.line++,A.column=1):A.column++,h++;return Fe[v]=A,A}function ln(v,h,A){var k=rn(v),j=rn(h);return{source:w,start:{offset:v,line:k.line,column:k.column},end:{offset:h,line:j.line,column:j.column}}}function F(v){u<ie||(u>ie&&(ie=u,He=[]),He.push(v))}function on(){var v,h,A,k,j;return v=u,h=function(){var N,G,K,R;return N=u,G=function(){var I,Y,V,$,M;if(I=u,s.substr(u,7)===L?(Y=L,u+=7):(Y=r,C===0&&F(lr)),Y!==r){if(s.charCodeAt(u)===32?u++:C===0&&F(ze),V=u,$=[],M=s.charAt(u),me.test(M)?u++:(M=r,C===0&&F(ye)),M!==r)for(;M!==r;)$.push(M),M=s.charAt(u),me.test(M)?u++:(M=r,C===0&&F(ye));else $=r;(V=$!==r?s.substring(V,u):$)!==r?(s.charCodeAt(u)===125?($=Te,u++):($=r,C===0&&F(Pe)),$!==r&&(M=yt())!==r?I=mr(V):(u=I,I=r)):(u=I,I=r)}else u=I,I=r;return I}(),G===r&&(G=null),K=function(){var I,Y,V,$,M;if(I=u,s.substr(u,10)===jt?(Y=jt,u+=10):(Y=r,C===0&&F(ir)),Y!==r){if(s.charCodeAt(u)===32?u++:C===0&&F(ze),V=u,$=[],M=s.charAt(u),me.test(M)?u++:(M=r,C===0&&F(ye)),M!==r)for(;M!==r;)$.push(M),M=s.charAt(u),me.test(M)?u++:(M=r,C===0&&F(ye));else $=r;(V=$!==r?s.substring(V,u):$)!==r?(s.charCodeAt(u)===125?($=Te,u++):($=r,C===0&&F(Pe)),$!==r&&(M=yt())!==r?I=yr(V):(u=I,I=r)):(u=I,I=r)}else u=I,I=r;return I}(),K===r&&(K=null),R=function(){var I,Y,V,$,M;if(I=u,s.substr(u,8)===Bt?(Y=Bt,u+=8):(Y=r,C===0&&F(or)),Y!==r){if(s.charCodeAt(u)===32?u++:C===0&&F(ze),V=u,$=[],M=s.charAt(u),me.test(M)?u++:(M=r,C===0&&F(ye)),M!==r)for(;M!==r;)$.push(M),M=s.charAt(u),me.test(M)?u++:(M=r,C===0&&F(ye));else $=r;(V=$!==r?s.substring(V,u):$)!==r?(s.charCodeAt(u)===125?($=Te,u++):($=r,C===0&&F(Pe)),$!==r&&(M=yt())!==r?I=wr(V):(u=I,I=r)):(u=I,I=r)}else u=I,I=r;return I}(),R===r&&(R=null),N=gr(G,K,R),N}(),A=function(){var N,G,K,R,I,Y,V;if(N=u,G=wt(),G!==r){if(K=[],R=u,(I=ee())!==r){if(Y=[],(V=ee())!==r)for(;V!==r;)Y.push(V),V=ee();else Y=r;Y!==r&&(V=wt())!==r?R=tn(G,V):(u=R,R=r)}else u=R,R=r;for(;R!==r;)if(K.push(R),R=u,(I=ee())!==r){if(Y=[],(V=ee())!==r)for(;V!==r;)Y.push(V),V=ee();else Y=r;Y!==r&&(V=wt())!==r?R=tn(G,V):(u=R,R=r)}else u=R,R=r;if(R=u,C++,s.length>u?(I=s.charAt(u),u++):(I=r,C===0&&F(Ye)),C--,I===r?R=void 0:(u=R,R=r),R===r){if(R=[],(I=ee())!==r)for(;I!==r;)R.push(I),I=ee();else R=r;R===r&&(R=u,C++,s.length>u?(I=s.charAt(u),u++):(I=r,C===0&&F(Ye)),C--,I===r?R=void 0:(u=R,R=r))}R!==r?N=xr(G,K):(u=N,N=r)}else u=N,N=r;return N}(),A===r&&(A=u,k=u,C++,s.length>u?(j=s.charAt(u),u++):(j=r,C===0&&F(Ye)),C--,j===r?k=void 0:(u=k,k=r),k!==r&&(k=hr()),A=k),A!==r?v=pr(h,A):(u=v,v=r),v}function ee(){var v;return v=s.charAt(u),nr.test(v)?u++:(v=r,C===0&&F(rr)),v}function yt(){var v,h;if(v=[],(h=ee())!==r)for(;h!==r;)v.push(h),h=ee();else v=r;return v===r&&(v=u,C++,s.length>u?(h=s.charAt(u),u++):(h=r,C===0&&F(Ye)),C--,h===r?v=void 0:(u=v,v=r)),v}function wt(){var v;return(v=function(){var h,A;return h=u,(A=un())!==r&&(A=Er(A)),h=A,h}())===r&&(v=function(){var h,A,k,j,N,G,K,R;return h=u,s.charCodeAt(u)===123?(A=Wt,u++):(A=r,C===0&&F(Zt)),A!==r?(s.substr(u,3)===$t?(k=$t,u+=3):(k=r,C===0&&F(sr)),k===r&&(s.substr(u,15)===Gt?(k=Gt,u+=15):(k=r,C===0&&F(fr))),k!==r?(s.charCodeAt(u)===125?(j=Te,u++):(j=r,C===0&&F(Pe)),j!==r&&ee()!==r&&(N=un())!==r&&ee()!==r?(s.charCodeAt(u)===123?(G=Wt,u++):(G=r,C===0&&F(Zt)),G!==r?(s.substr(u,3)===Yt?(K=Yt,u+=3):(K=r,C===0&&F(cr)),K===r&&(s.substr(u,13)===zt?(K=zt,u+=13):(K=r,C===0&&F(vr))),K!==r?(s.charCodeAt(u)===125?(R=Te,u++):(R=r,C===0&&F(Pe)),R!==r?h=Ar(N):(u=h,h=r)):(u=h,h=r)):(u=h,h=r)):(u=h,h=r)):(u=h,h=r)):(u=h,h=r),h}())===r&&(v=function(){var h,A,k,j,N;if(h=u,s.substr(u,3)===Ut?(A=Ut,u+=3):(A=r,C===0&&F(ur)),A===r&&(s.substr(u,9)===Vt?(A=Vt,u+=9):(A=r,C===0&&F(ar))),A!==r){if(s.charCodeAt(u)===32?u++:C===0&&F(ze),k=u,j=[],N=s.charAt(u),me.test(N)?u++:(N=r,C===0&&F(ye)),N!==r)for(;N!==r;)j.push(N),N=s.charAt(u),me.test(N)?u++:(N=r,C===0&&F(ye));else j=r;(k=j!==r?s.substring(k,u):j)!==r?(s.charCodeAt(u)===125?(j=Te,u++):(j=r,C===0&&F(Pe)),j!==r?h=br(k):(u=h,h=r)):(u=h,h=r)}else u=h,h=r;return h}()),v}function un(){var v,h,A,k,j;if(v=u,(h=bt())!==r){for(A=[],k=u,ee()!==r&&(j=bt())!==r?k=nn(h,j):(u=k,k=r);k!==r;)A.push(k),k=u,ee()!==r&&(j=bt())!==r?k=nn(h,j):(u=k,k=r);v=Sr(h,A)}else u=v,v=r;return v}function bt(){var v,h;if(v=[],(h=sn())===r&&(h=an()),h!==r)for(;h!==r;)v.push(h),(h=sn())===r&&(h=an());else v=r;return v!==r&&(v=Cr(v)),v}function an(){var v,h,A;if(v=u,h=[],A=s.charAt(u),Ht.test(A)?u++:(A=r,C===0&&F(Xt)),A!==r)for(;A!==r;)h.push(A),A=s.charAt(u),Ht.test(A)?u++:(A=r,C===0&&F(Xt));else h=r;return(v=h!==r?s.substring(v,u):h)!==r&&(v=Or(v)),v}function sn(){var v,h,A,k,j,N,G;if(v=u,s.charCodeAt(u)===91?(h=er,u++):(h=r,C===0&&F(dr)),h!==r){if(A=u,k=u,j=[],N=s.charAt(u),Kt.test(N)?u++:(N=r,C===0&&F(Qt)),N!==r)for(;N!==r;)j.push(N),N=s.charAt(u),Kt.test(N)?u++:(N=r,C===0&&F(Qt));else j=r;if(j!==r){for(N=[],G=s.charAt(u),Jt.test(G)?u++:(G=r,C===0&&F(en));G!==r;)N.push(G),G=s.charAt(u),Jt.test(G)?u++:(G=r,C===0&&F(en));k=j=[j,N]}else u=k,k=r;(A=k!==r?s.substring(A,u):k)!==r?(s.charCodeAt(u)===93?(k=tr,u++):(k=r,C===0&&F(_r)),k!==r?v=Tr(A):(u=v,v=r)):(u=v,v=r)}else u=v,v=r;return v}if(O=q(),x.peg$library)return{peg$result:O,peg$currPos:u,peg$FAILED:r,peg$maxFailExpected:He,peg$maxFailPos:ie};if(O!==r&&u===s.length)return O;throw O!==r&&u<s.length&&F({type:"end"}),D=He,g=ie<s.length?s.charAt(ie):null,E=ie<s.length?ln(ie,ie+1):ln(ie,ie),new S(S.buildMessage(D,g),D,g,E)}}}function f(){if(_)return m;function S(T,s){const x=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],O=["C","Db","D","D#","E","F","Gb","G","G#","A","A#","B"];if(T.length<1)return;let D="",g=0;for(;g<T.length;){if("CDEFGAB".indexOf(T[g])===-1){D+=T[g],g++;continue}let E=T[g];g++,g<T.length&&(T[g]!=="#"&&T[g]!=="b"||(E+=T[g],g++));let r=x.indexOf(E);r===-1&&(r=O.indexOf(E),r===-1&&console.error("Unknown chord root",E)),r+=s,r%=12,r<0&&(r=12+r),D+=x[r]}return D}return _=1,m={transpose:function(T,s){for(let x of T.content)if(["verse","chorus"].includes(x.type)){for(let O of x.items)if(O.type=="line")for(let D of O.items)D.type=="chord"&&(D.value=S(D.value,s))}return T},transposeChord:S}}var y=function(){if(c)return d;c=1;const S=p(),T=function(){if(l)return i;function O(g){let E="",r="";for(let P=0;P<g.items.length;P++){const q=g.items[P];let L;switch(q.value.length,q.type){case"chord":L=r.length-E.length,L>0&&(E+=" ".repeat(L)),E+=q.value+" ";break;case"text":r+=q.value,L=E.length-r.length,L>0&&(r+=" ".repeat(L))}}let w="";return E.length>0&&(w+=E+`
`),w+r}function D(g){var E="";for(let r=0;r<g.items.length;r++){const w=g.items[r];w.type=="line"&&(E+=O(w)+`
`)}return E}return l=1,i={processSong:function(g){var E="";g.header.title&&(E+=`Title: ${g.header.title}
`),g.header.subTitle&&(E+=`Subtitle: ${g.header.subTitle}
`),g.header.artist&&(E+=`Artist: ${g.header.artist}
`),E+=`
`;for(let r=0;r<g.content.length;r++){let w=g.content[r];r>0&&(E+=`

`),w.type!="verse"&&w.type!="chorus"||(E+=D(w))}return E},processVerse:D,processRow:O}}(),s=function(){if(a)return o;function O(g){let E=[],r=[],w=null;for(let q=0;q<g.items.length;q++){let L=g.items[q];L.type==="chord"?(E.push(L.value),w=L.value):L.type==="text"&&(w===null&&E.push(""),r.push(L.value),w=null)}let P='<table class="line">';return E.filter(q=>q!=="").length>0&&(P+='<tr class="line-chords">',P+=E.map(q=>`<td class="chord">${q}</td>`).join(`
`),P+="</tr>"),P+='<tr class="line-lyrics">',P+=r.map(q=>`<td class="lyrics">${q.replaceAll(" ","&nbsp;")}</td>`).join(`
`),P+="</tr>",P+="</table>",P}function D(g){let E=`<div class="${g.type}">
`;for(let r=0;r<g.items.length;r++)E+=O(g.items[r]);return E+="</div>",E}return a=1,o={processSong:function(g){var E=`<div class="jschordpro-song">

`;let r="";g.header.title&&g.header.title.length>0&&(r+=`<h1>${g.header.title}</h1>
`),g.header.subtitle&&g.header.subTitle.length>0&&(r+=`<h2>${g.header.subTitle}</h2>
`),g.header.artist&&g.header.artist.length>0&&(r+=`<h2>${g.header.artist}</h2>
`),r&&(E+=`<div class="header">
`,E+=r,E+=`</div>

`),E+=`<div class="content">
`;for(let w=0;w<g.content.length;w++)E+=D(g.content[w]);return(E+=`</div>
`)+`</div>
`}}}(),x=f();return d.parse=S.parse,d.to_ascii=T.processSong,d.to_html=s.processSong,d.transpose=x.transpose,d}(),b=e(y);return Je.default=b,Je}var fi=si();const At=ai(fi);var ci=Oe("<option> </option>"),vi=Oe('<div class="error svelte-63iamr"> </div>'),di=Oe('<div class="preview svelte-63iamr"><div class="transpose no-print svelte-63iamr"><form class="no-print"><select class="no-print svelte-63iamr"></select></form></div> <!> <!></div>');function _i(e,t){vt(t,!0);let n=ae(t,"source",3,"");const i=[{id:-6,text:"-6"},{id:-5,text:"-5"},{id:-4,text:"-4"},{id:-3,text:"-3"},{id:-2,text:"-2"},{id:-1,text:"-1"},{id:0,text:"no transposition"},{id:1,text:"+1"},{id:2,text:"+2"},{id:3,text:"+3"},{id:4,text:"+4"},{id:5,text:"+5"},{id:6,text:"+6"}];let l=oe({transposeStep:0}),o=Ce(()=>{let y={html:"",err:null};try{let b=At.parse(n());l.transposeStep!=0&&At.transpose(b,l.transposeStep),y.html=At.to_html(b)}catch(b){y.err=b.toString()}return y});var a=di(),m=Z(a),_=Z(m),c=Z(_);Wl(c,21,()=>i,Ul,(y,b)=>{var S=ci(),T={},s=Z(S);Ue(()=>{T!==(T=B(b).id)&&(S.value=(S.__value=B(b).id)==null?"":B(b).id),st(s,B(b).text)}),Se(y,S)});var d=se(m,2);{var p=y=>{var b=vi(),S=Z(b);Ue(()=>st(S,B(o).err)),Se(y,b)};Xn(d,y=>{B(o).err!==null&&y(p)})}var f=se(d,2);zl(f,()=>B(o).html),Ie("submit",_,y=>y.preventDefault()),Xl(c,()=>l.transposeStep,y=>l.transposeStep=y),Se(e,a),dt()}function hi(){if("showSaveFilePicker"in window){const t={types:[{description:"Chordpro text file",accept:{"text/plain":[".txt"]}}]};return window.showSaveFilePicker(t)}const e={type:"save-file",accepts:[{description:"Text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function pi(){if("showOpenFilePicker"in window){const t={types:[{description:"Chordpro",accept:{"text/plain":[".txt"]}}],excludeAcceptAllOption:!1,multiple:!1};return window.showOpenFilePicker(t).then(n=>n[0])}const e={type:"open-file",accepts:[{description:"Chordpro text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function gi(e){return e.text?e.text():new Promise(n=>{const i=new FileReader;i.addEventListener("loadend",function(){n(i.result)}),i.readAsText(e)})}function En(e,t){e.createWriter?e.createWriter().then(function(n){n.write(0,t).then(function(){return n.close()})}):e.createWritable().then(function(n){n.write(t).then(function(){return n.close()})})}var mi=Oe(`<!> <main class="svelte-1f1vxka"><div class="editor no-print svelte-1f1vxka"><textarea class="no-print svelte-1f1vxka">
        ></textarea></div> <div class="preview svelte-1f1vxka"><!></div></main> <footer class="no-print svelte-1f1vxka"> </footer>`,1);function yi(e,t){vt(t,!0);let n=ae(t,"song",3,"");const i="chooseFileSystemEntries"in window||"showOpenFilePicker"in window;let l,o=vn(oe(n())),a=vn(oe(n()));function m(){H(o,"")}async function _(){l=await pi();try{let r=await l.getFile();H(o,oe(await gi(r)))}catch(r){console.error("read failed: ",r)}}async function c(){if(l)try{await En(l,B(o))}catch(r){const w="Unable to save file";console.error(w,r),alert(w)}}async function d(){if(!i){console.error("this browser does not support access to file system");return}try{l=await hi()}catch(r){if(r.name==="AbortError")return;const w="An error occured trying to open the file.";console.error(w,r),alert(w);return}try{await En(l,B(o))}catch(r){const w="Unable to save file.";console.error(w,r),alert(w);return}}var p;function f(r,w,P){p&&clearTimeout(p),p=setTimeout(()=>{P(w)},r)}Ct(()=>{f(1e3,B(o),r=>{H(a,oe(r))})});var y=mi(),b=cl(y);const S=Ce(()=>l&&l.name);ui(b,{get subtitle(){return B(S)},on_open:_,on_new:m,on_save:c,on_save_as:d});var T=se(b,2),s=Z(T),x=Z(s),O=se(s,2),D=Z(O);_i(D,{get source(){return B(a)}});var g=se(T,2),E=Z(g);Ue(r=>st(E,`BlueSoft © ${r??""}`),[()=>new Date().getFullYear()]),Jl(x,()=>B(o),r=>H(o,r)),Se(e,y),dt()}const wi=`{title: In My Time of Dyin'}
{subtitle: Bob Dylan}

[Am]In my time of dying
[Am]I don't want nobody to mourn
[Am]All I want for you to do
Is [D]take my body [Am]home

{start_of_chorus}
[Am]Well, well, well, so I can die easy
Well, well, [D]well, so I can die [Am]easy
[Am]Well, well, well, so I can die easy
[D]Jesus gonna make up my [G]dy[G#]ing [Am]bed
{end_of_chorus}

Well, meet me Jesus, meet me
Meet me in the middle of the air
If these wings should fail to me
Lord, won't you meet me with another pair

Lord, in my time of dying
I don't want nobody to cry
All I want you to do
Is take me when I die
`;Ml(yi,{target:document.body,props:{song:wi}});
