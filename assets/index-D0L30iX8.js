(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const wn=!1;var Zt=Array.isArray,Ir=Array.prototype.indexOf,Xt=Array.from,Dr=Object.defineProperty,Pe=Object.getOwnPropertyDescriptor,kr=Object.getOwnPropertyDescriptors,Rr=Object.prototype,Nr=Array.prototype,Dn=Object.getPrototypeOf;function Qe(e){return typeof e=="function"}function Lr(e){return e()}function $t(e){for(var t=0;t<e.length;t++)e[t]()}const pe=2,kn=4,Ft=8,Qt=16,xe=32,lt=64,bt=128,ve=256,xt=512,re=1024,Ee=2048,Ue=4096,ye=8192,It=16384,Mr=32768,en=65536,zr=1<<17,jr=1<<19,Rn=1<<20,Ie=Symbol("$state"),Nn=Symbol("legacy props");function Ln(e){return e===this.v}function qr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function tn(e){return!qr(e,this.v)}function Br(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ur(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Vr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Gr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Wr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function $r(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Yr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Hr(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Kr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ot=!1,Jr=!1;function Zr(){ot=!0}const Xr=1,Qr=2,el=16,tl=1,nl=2,Mn=4,rl=8,ll=16,ol=1,il=2,ie=Symbol();let Z=null;function yn(e){Z=e}function it(e,t=!1,n){Z={p:Z,c:null,e:null,m:!1,s:e,x:null,l:null},ot&&!t&&(Z.l={s:null,u:null,r1:[],r2:se(!1)})}function st(e){const t=Z;if(t!==null){const a=t.e;if(a!==null){var n=W,l=V;t.e=null;try{for(var o=0;o<a.length;o++){var i=a[o];Oe(i.effect),Te(i.reaction),kt(i.fn)}}finally{Oe(n),Te(l)}}Z=t.p,t.m=!0}return{}}function ut(){return!ot||Z!==null&&Z.l===null}function se(e,t){var n={f:0,v:e,reactions:null,equals:Ln,rv:0,wv:0};return n}function Ut(e){return zn(se(e))}function nn(e,t=!1){var l;const n=se(e);return t||(n.equals=tn),ot&&Z!==null&&Z.l!==null&&((l=Z.l).s??(l.s=[])).push(n),n}function sl(e,t=!1){return zn(nn(e,t))}function zn(e){return V!==null&&!he&&(V.f&pe)!==0&&(ge===null?bl([e]):ge.push(e)),e}function Q(e,t){return V!==null&&!he&&ut()&&(V.f&(pe|Qt))!==0&&(ge===null||!ge.includes(e))&&Kr(),jn(e,t)}function jn(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=tr(),qn(e,Ee),ut()&&W!==null&&(W.f&re)!==0&&(W.f&(xe|lt))===0&&(we===null?xl([e]):we.push(e))),t}function bn(e,t=1){var n=z(e),l=t===1?n++:n--;return Q(e,n),l}function qn(e,t){var n=e.reactions;if(n!==null)for(var l=ut(),o=n.length,i=0;i<o;i++){var a=n[i],m=a.f;(m&Ee)===0&&(!l&&a===W||(me(a,t),(m&(re|ve))!==0&&((m&pe)!==0?qn(a,Ue):Lt(a))))}}let ul=!1;function fe(e,t=null,n){if(typeof e!="object"||e===null||Ie in e)return e;const l=Dn(e);if(l!==Rr&&l!==Nr)return e;var o=new Map,i=Zt(e),a=se(0);i&&o.set("length",se(e.length));var m;return new Proxy(e,{defineProperty(_,c,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&$r();var g=o.get(c);return g===void 0?(g=se(v.value),o.set(c,g)):Q(g,fe(v.value,m)),!0},deleteProperty(_,c){var v=o.get(c);if(v===void 0)c in _&&o.set(c,se(ie));else{if(i&&typeof c=="string"){var g=o.get("length"),u=Number(c);Number.isInteger(u)&&u<g.v&&Q(g,u)}Q(v,ie),xn(a)}return!0},get(_,c,v){var S;if(c===Ie)return e;var g=o.get(c),u=c in _;if(g===void 0&&(!u||(S=Pe(_,c))!=null&&S.writable)&&(g=se(fe(u?_[c]:ie,m)),o.set(c,g)),g!==void 0){var w=z(g);return w===ie?void 0:w}return Reflect.get(_,c,v)},getOwnPropertyDescriptor(_,c){var v=Reflect.getOwnPropertyDescriptor(_,c);if(v&&"value"in v){var g=o.get(c);g&&(v.value=z(g))}else if(v===void 0){var u=o.get(c),w=u==null?void 0:u.v;if(u!==void 0&&w!==ie)return{enumerable:!0,configurable:!0,value:w,writable:!0}}return v},has(_,c){var w;if(c===Ie)return!0;var v=o.get(c),g=v!==void 0&&v.v!==ie||Reflect.has(_,c);if(v!==void 0||W!==null&&(!g||(w=Pe(_,c))!=null&&w.writable)){v===void 0&&(v=se(g?fe(_[c],m):ie),o.set(c,v));var u=z(v);if(u===ie)return!1}return g},set(_,c,v,g){var C;var u=o.get(c),w=c in _;if(i&&c==="length")for(var S=v;S<u.v;S+=1){var T=o.get(S+"");T!==void 0?Q(T,ie):S in _&&(T=se(ie),o.set(S+"",T))}u===void 0?(!w||(C=Pe(_,c))!=null&&C.writable)&&(u=se(void 0),Q(u,fe(v,m)),o.set(c,u)):(w=u.v!==ie,Q(u,fe(v,m)));var I=Reflect.getOwnPropertyDescriptor(_,c);if(I!=null&&I.set&&I.set.call(g,v),!w){if(i&&typeof c=="string"){var f=o.get("length"),E=Number(c);Number.isInteger(E)&&E>=f.v&&Q(f,E+1)}xn(a)}return!0},ownKeys(_){z(a);var c=Reflect.ownKeys(_).filter(u=>{var w=o.get(u);return w===void 0||w.v!==ie});for(var[v,g]of o)g.v!==ie&&!(v in _)&&c.push(v);return c},setPrototypeOf(){Yr()}})}function xn(e,t=1){Q(e,e.v+t)}var En,Bn,Un,Vn;function al(){if(En===void 0){En=window,Bn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype;Un=Pe(t,"firstChild").get,Vn=Pe(t,"nextSibling").get,e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Gn(e=""){return document.createTextNode(e)}function nt(e){return Un.call(e)}function Dt(e){return Vn.call(e)}function K(e,t){return nt(e)}function fl(e,t){{var n=nt(e);return n instanceof Comment&&n.data===""?Dt(n):n}}function ee(e,t=1,n=!1){let l=e;for(;t--;)l=Dt(l);return l}function cl(e){e.textContent=""}function De(e){var t=pe|Ee,n=V!==null&&(V.f&pe)!==0?V:null;return W===null||n!==null&&(n.f&ve)!==0?t|=ve:W.f|=Rn,{ctx:Z,deps:null,effects:null,equals:Ln,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??W}}function Et(e){const t=De(e);return t.equals=tn,t}function Wn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)be(t[n])}}function vl(e){for(var t=e.parent;t!==null;){if((t.f&pe)===0)return t;t=t.parent}return null}function dl(e){var t,n=W;Oe(vl(e));try{Wn(e),t=rr(e)}finally{Oe(n)}return t}function $n(e){var t=dl(e),n=(Se||(e.f&ve)!==0)&&e.deps!==null?Ue:re;me(e,n),e.equals(t)||(e.v=t,e.wv=tr())}function Yn(e){W===null&&V===null&&Vr(),V!==null&&(V.f&ve)!==0&&W===null&&Ur(),ln&&Br()}function _l(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ve(e,t,n,l=!0){var o=(e&lt)!==0,i=W,a={ctx:Z,deps:null,nodes_start:null,nodes_end:null,f:e|Ee,first:null,fn:t,last:null,next:null,parent:o?null:i,prev:null,teardown:null,transitions:null,wv:0};if(n)try{on(a),a.f|=Mr}catch(c){throw be(a),c}else t!==null&&Lt(a);var m=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(Rn|bt))===0;if(!m&&!o&&l&&(i!==null&&_l(a,i),V!==null&&(V.f&pe)!==0)){var _=V;(_.effects??(_.effects=[])).push(a)}return a}function hl(e){const t=Ve(Ft,null,!1);return me(t,re),t.teardown=e,t}function Yt(e){Yn();var t=W!==null&&(W.f&xe)!==0&&Z!==null&&!Z.m;if(t){var n=Z;(n.e??(n.e=[])).push({fn:e,effect:W,reaction:V})}else{var l=kt(e);return l}}function pl(e){return Yn(),Hn(e)}function gl(e){const t=Ve(lt,e,!0);return(n={})=>new Promise(l=>{n.outro?At(t,()=>{be(t),l(void 0)}):(be(t),l(void 0))})}function kt(e){return Ve(kn,e,!1)}function Hn(e){return Ve(Ft,e,!0)}function qe(e,t=[],n=De){const l=t.map(n);return Rt(()=>e(...l.map(z)))}function Rt(e,t=0){return Ve(Ft|Qt|t,e,!0)}function Be(e,t=!0){return Ve(Ft|xe,e,!0,t)}function Kn(e){var t=e.teardown;if(t!==null){const n=ln,l=V;An(!0),Te(null);try{t.call(null)}finally{An(n),Te(l)}}}function Jn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var l=n.next;be(n,t),n=l}}function ml(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&xe)===0&&be(t),t=n}}function be(e,t=!0){var n=!1;if((t||(e.f&jr)!==0)&&e.nodes_start!==null){for(var l=e.nodes_start,o=e.nodes_end;l!==null;){var i=l===o?null:Dt(l);l.remove(),l=i}n=!0}Jn(e,t&&!n),Ot(e,0),me(e,It);var a=e.transitions;if(a!==null)for(const _ of a)_.stop();Kn(e);var m=e.parent;m!==null&&m.first!==null&&Zn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Zn(e){var t=e.parent,n=e.prev,l=e.next;n!==null&&(n.next=l),l!==null&&(l.prev=n),t!==null&&(t.first===e&&(t.first=l),t.last===e&&(t.last=n))}function At(e,t){var n=[];rn(e,n,!0),Xn(n,()=>{be(e),t&&t()})}function Xn(e,t){var n=e.length;if(n>0){var l=()=>--n||t();for(var o of e)o.out(l)}else t()}function rn(e,t,n){if((e.f&ye)===0){if(e.f^=ye,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var l=e.first;l!==null;){var o=l.next,i=(l.f&en)!==0||(l.f&xe)!==0;rn(l,t,i?n:!1),l=o}}}function Ct(e){Qn(e,!0)}function Qn(e,t){if((e.f&ye)!==0){e.f^=ye,(e.f&re)===0&&(e.f^=re),at(e)&&(me(e,Ee),Lt(e));for(var n=e.first;n!==null;){var l=n.next,o=(n.f&en)!==0||(n.f&xe)!==0;Qn(n,o?t:!1),n=l}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let St=[];function wl(){var e=St;St=[],$t(e)}function yl(e){St.length===0&&queueMicrotask(wl),St.push(e)}let mt=!1,Ht=!1,Pt=null,wt=!1,ln=!1;function An(e){ln=e}let yt=[];let V=null,he=!1;function Te(e){V=e}let W=null;function Oe(e){W=e}let ge=null;function bl(e){ge=e}let ne=null,ae=0,we=null;function xl(e){we=e}let er=1,Tt=0,Se=!1;function tr(){return++er}function at(e){var g;var t=e.f;if((t&Ee)!==0)return!0;if((t&Ue)!==0){var n=e.deps,l=(t&ve)!==0;if(n!==null){var o,i,a=(t&xt)!==0,m=l&&W!==null&&!Se,_=n.length;if(a||m){var c=e,v=c.parent;for(o=0;o<_;o++)i=n[o],(a||!((g=i==null?void 0:i.reactions)!=null&&g.includes(c)))&&(i.reactions??(i.reactions=[])).push(c);a&&(c.f^=xt),m&&v!==null&&(v.f&ve)===0&&(c.f^=ve)}for(o=0;o<_;o++)if(i=n[o],at(i)&&$n(i),i.wv>e.wv)return!0}(!l||W!==null&&!Se)&&me(e,re)}return!1}function El(e,t){for(var n=t;n!==null;){if((n.f&bt)!==0)try{n.fn(e);return}catch{n.f^=bt}n=n.parent}throw mt=!1,e}function Al(e){return(e.f&It)===0&&(e.parent===null||(e.parent.f&bt)===0)}function Nt(e,t,n,l){if(mt){if(n===null&&(mt=!1),Al(t))throw e;return}n!==null&&(mt=!0);{El(e,t);return}}function nr(e,t,n=!0){var l=e.reactions;if(l!==null)for(var o=0;o<l.length;o++){var i=l[o];(i.f&pe)!==0?nr(i,t,!1):t===i&&(n?me(i,Ee):(i.f&re)!==0&&me(i,Ue),Lt(i))}}function rr(e){var w;var t=ne,n=ae,l=we,o=V,i=Se,a=ge,m=Z,_=he,c=e.f;ne=null,ae=0,we=null,Se=(c&ve)!==0&&(he||!wt||V===null),V=(c&(xe|lt))===0?e:null,ge=null,yn(e.ctx),he=!1,Tt++;try{var v=(0,e.fn)(),g=e.deps;if(ne!==null){var u;if(Ot(e,ae),g!==null&&ae>0)for(g.length=ae+ne.length,u=0;u<ne.length;u++)g[ae+u]=ne[u];else e.deps=g=ne;if(!Se)for(u=ae;u<g.length;u++)((w=g[u]).reactions??(w.reactions=[])).push(e)}else g!==null&&ae<g.length&&(Ot(e,ae),g.length=ae);if(ut()&&we!==null&&!he&&g!==null&&(e.f&(pe|Ue|Ee))===0)for(u=0;u<we.length;u++)nr(we[u],e);return o!==null&&Tt++,v}finally{ne=t,ae=n,we=l,V=o,Se=i,ge=a,yn(m),he=_}}function Cl(e,t){let n=t.reactions;if(n!==null){var l=Ir.call(n,e);if(l!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[l]=n[o],n.pop())}}n===null&&(t.f&pe)!==0&&(ne===null||!ne.includes(t))&&(me(t,Ue),(t.f&(ve|xt))===0&&(t.f^=xt),Wn(t),Ot(t,0))}function Ot(e,t){var n=e.deps;if(n!==null)for(var l=t;l<n.length;l++)Cl(e,n[l])}function on(e){var t=e.f;if((t&It)===0){me(e,re);var n=W,l=Z,o=wt;W=e,wt=!0;try{(t&Qt)!==0?ml(e):Jn(e),Kn(e);var i=rr(e);e.teardown=typeof i=="function"?i:null,e.wv=er;var a=e.deps,m;wn&&Jr&&e.f&Ee}catch(_){Nt(_,e,n,l||e.ctx)}finally{wt=o,W=n}}}function Sl(){try{Gr()}catch(e){if(Pt!==null)Nt(e,Pt,null);else throw e}}function Pl(){try{for(var e=0;yt.length>0;){e++>1e3&&Sl();var t=yt,n=t.length;yt=[];for(var l=0;l<n;l++){var o=t[l];(o.f&re)===0&&(o.f^=re);var i=Ol(o);Tl(i)}}}finally{Ht=!1,Pt=null}}function Tl(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var l=e[n];if((l.f&(It|ye))===0)try{at(l)&&(on(l),l.deps===null&&l.first===null&&l.nodes_start===null&&(l.teardown===null?Zn(l):l.fn=null))}catch(o){Nt(o,l,null,l.ctx)}}}function Lt(e){Ht||(Ht=!0,queueMicrotask(Pl));for(var t=Pt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(lt|xe))!==0){if((n&re)===0)return;t.f^=re}}yt.push(t)}function Ol(e){for(var t=[],n=e.first;n!==null;){var l=n.f,o=(l&xe)!==0,i=o&&(l&re)!==0;if(!i&&(l&ye)===0){if((l&kn)!==0)t.push(n);else if(o)n.f^=re;else{var a=V;try{V=n,at(n)&&on(n)}catch(c){Nt(c,n,null,n.ctx)}finally{V=a}}var m=n.first;if(m!==null){n=m;continue}}var _=n.parent;for(n=n.next;n===null&&_!==null;)n=_.next,_=_.parent}return t}function z(e){var t=e.f,n=(t&pe)!==0;if(V!==null&&!he){ge!==null&&ge.includes(e)&&Hr();var l=V.deps;e.rv<Tt&&(e.rv=Tt,ne===null&&l!==null&&l[ae]===e?ae++:ne===null?ne=[e]:(!Se||!ne.includes(e))&&ne.push(e))}else if(n&&e.deps===null&&e.effects===null){var o=e,i=o.parent;i!==null&&(i.f&ve)===0&&(o.f^=ve)}return n&&(o=e,at(o)&&$n(o)),e.v}function rt(e){var t=he;try{return he=!0,e()}finally{he=t}}const Fl=-7169;function me(e,t){e.f=e.f&Fl|t}function Il(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ie in e)Kt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ie in n&&Kt(n)}}}function Kt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let l in e)try{Kt(e[l],t)}catch{}const n=Dn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const l=kr(n);for(let o in l){const i=l[o].get;if(i)try{i.call(e)}catch{}}}}}const Dl=["touchstart","touchmove"];function kl(e){return Dl.includes(e)}let Cn=!1;function Rl(){Cn||(Cn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function lr(e){var t=V,n=W;Te(null),Oe(null);try{return e()}finally{Te(t),Oe(n)}}function Nl(e,t,n,l=n){e.addEventListener(t,()=>lr(n));const o=e.__on_r;o?e.__on_r=()=>{o(),l(!0)}:e.__on_r=()=>l(!0),Rl()}const Ll=new Set,Sn=new Set;function Ml(e,t,n,l={}){function o(i){if(l.capture||et.call(t,i),!i.cancelBubble)return lr(()=>n==null?void 0:n.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?yl(()=>{t.addEventListener(e,o,l)}):t.addEventListener(e,o,l),o}function ce(e,t,n,l,o){var i={capture:l,passive:o},a=Ml(e,t,n,i);(t===document.body||t===window||t===document)&&hl(()=>{t.removeEventListener(e,a,i)})}function et(e){var E;var t=this,n=t.ownerDocument,l=e.type,o=((E=e.composedPath)==null?void 0:E.call(e))||[],i=o[0]||e.target,a=0,m=e.__root;if(m){var _=o.indexOf(m);if(_!==-1&&(t===document||t===window)){e.__root=t;return}var c=o.indexOf(t);if(c===-1)return;_<=c&&(a=_)}if(i=o[a]||e.target,i!==t){Dr(e,"currentTarget",{configurable:!0,get(){return i||n}});var v=V,g=W;Te(null),Oe(null);try{for(var u,w=[];i!==null;){var S=i.assignedSlot||i.parentNode||i.host||null;try{var T=i["__"+l];if(T!==void 0&&(!i.disabled||e.target===i))if(Zt(T)){var[I,...f]=T;I.apply(i,[e,...f])}else T.call(i,e)}catch(C){u?w.push(C):u=C}if(e.cancelBubble||S===t||S===null)break;i=S}if(u){for(let C of w)queueMicrotask(()=>{throw C});throw u}}finally{e.__root=t,delete e.currentTarget,Te(v),Oe(g)}}}function or(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Jt(e,t){var n=W;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Re(e,t){var n=(t&ol)!==0,l=(t&il)!==0,o,i=!e.startsWith("<!>");return()=>{o===void 0&&(o=or(i?e:"<!>"+e),n||(o=nt(o)));var a=l||Bn?document.importNode(o,!0):o.cloneNode(!0);if(n){var m=nt(a),_=a.lastChild;Jt(m,_)}else Jt(a,a);return a}}function ke(e,t){e!==null&&e.before(t)}function Fe(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function zl(e,t){return jl(e,t)}const je=new Map;function jl(e,{target:t,anchor:n,props:l={},events:o,context:i,intro:a=!0}){al();var m=new Set,_=g=>{for(var u=0;u<g.length;u++){var w=g[u];if(!m.has(w)){m.add(w);var S=kl(w);t.addEventListener(w,et,{passive:S});var T=je.get(w);T===void 0?(document.addEventListener(w,et,{passive:S}),je.set(w,1)):je.set(w,T+1)}}};_(Xt(Ll)),Sn.add(_);var c=void 0,v=gl(()=>{var g=n??t.appendChild(Gn());return Be(()=>{if(i){it({});var u=Z;u.c=i}o&&(l.$$events=o),c=e(g,l)||{},i&&st()}),()=>{var S;for(var u of m){t.removeEventListener(u,et);var w=je.get(u);--w===0?(document.removeEventListener(u,et),je.delete(u)):je.set(u,w)}Sn.delete(_),g!==n&&((S=g.parentNode)==null||S.removeChild(g))}});return ql.set(c,v),c}let ql=new WeakMap;function ir(e,t,n=!1){var l=e,o=null,i=null,a=ie,m=n?en:0,_=!1;const c=(g,u=!0)=>{_=!0,v(u,g)},v=(g,u)=>{a!==(a=g)&&(a?(o?Ct(o):u&&(o=Be(()=>u(l))),i&&At(i,()=>{i=null})):(i?Ct(i):u&&(i=Be(()=>u(l))),o&&At(o,()=>{o=null})))};Rt(()=>{_=!1,t(c),_||v(null,null)},m)}function Bl(e,t){return t}function Ul(e,t,n,l){for(var o=[],i=t.length,a=0;a<i;a++)rn(t[a].e,o,!0);var m=i>0&&o.length===0&&n!==null;if(m){var _=n.parentNode;cl(_),_.append(n),l.clear(),Ce(e,t[0].prev,t[i-1].next)}Xn(o,()=>{for(var c=0;c<i;c++){var v=t[c];m||(l.delete(v.k),Ce(e,v.prev,v.next)),be(v.e,!m)}})}function Vl(e,t,n,l,o,i=null){var a=e,m={flags:t,items:new Map,first:null};{var _=e;a=_.appendChild(Gn())}var c=null,v=!1,g=Et(()=>{var u=n();return Zt(u)?u:u==null?[]:Xt(u)});Rt(()=>{var u=z(g),w=u.length;v&&w===0||(v=w===0,Gl(u,m,a,o,t,l,n),i!==null&&(w===0?c?Ct(c):c=Be(()=>i(a)):c!==null&&At(c,()=>{c=null})),z(g))})}function Gl(e,t,n,l,o,i,a){var m=e.length,_=t.items,c=t.first,v=c,g,u=null,w=[],S=[],T,I,f,E;for(E=0;E<m;E+=1){if(T=e[E],I=i(T,E),f=_.get(I),f===void 0){var C=v?v.e.nodes_start:n;u=$l(C,t,u,u===null?t.first:u.next,T,I,E,l,o,a),_.set(I,u),w=[],S=[],v=u.next;continue}if(Wl(f,T,E),(f.e.f&ye)!==0&&Ct(f.e),f!==v){if(g!==void 0&&g.has(f)){if(w.length<S.length){var F=S[0],p;u=F.prev;var A=w[0],r=w[w.length-1];for(p=0;p<w.length;p+=1)Pn(w[p],F,n);for(p=0;p<S.length;p+=1)g.delete(S[p]);Ce(t,A.prev,r.next),Ce(t,u,A),Ce(t,r,F),v=F,u=r,E-=1,w=[],S=[]}else g.delete(f),Pn(f,v,n),Ce(t,f.prev,f.next),Ce(t,f,u===null?t.first:u.next),Ce(t,u,f),u=f;continue}for(w=[],S=[];v!==null&&v.k!==I;)(v.e.f&ye)===0&&(g??(g=new Set)).add(v),S.push(v),v=v.next;if(v===null)continue;f=v}w.push(f),u=f,v=f.next}if(v!==null||g!==void 0){for(var b=g===void 0?[]:Xt(g);v!==null;)(v.e.f&ye)===0&&b.push(v),v=v.next;var O=b.length;if(O>0){var N=m===0?n:null;Ul(t,b,N,_)}}W.first=t.first&&t.first.e,W.last=u&&u.e}function Wl(e,t,n,l){jn(e.v,t),e.i=n}function $l(e,t,n,l,o,i,a,m,_,c){var v=(_&Xr)!==0,g=(_&el)===0,u=v?g?nn(o):se(o):o,w=(_&Qr)===0?a:se(a),S={i:w,v:u,k:i,a:null,e:null,prev:n,next:l};try{return S.e=Be(()=>m(e,u,w,c),ul),S.e.prev=n&&n.e,S.e.next=l&&l.e,n===null?t.first=S:(n.next=S,n.e.next=S.e),l!==null&&(l.prev=S,l.e.prev=S.e),S}finally{}}function Pn(e,t,n){for(var l=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==l;){var a=Dt(i);o.before(i),i=a}}function Ce(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Yl(e,t,n,l,o){var i=e,a="",m;Rt(()=>{a!==(a=t()??"")&&(m!==void 0&&(be(m),m=void 0),a!==""&&(m=Be(()=>{var _=a+"",c=or(_);Jt(nt(c),c.lastChild),i.before(c)})))})}function Hl(e,t,n){kt(()=>{var l=rt(()=>t(e,n==null?void 0:n())||{});if(l!=null&&l.destroy)return()=>l.destroy()})}const Tn=[...` 	
\r\f \v\uFEFF`];function Kl(e,t,n){var l=e==null?"":""+e;if(t&&(l=l?l+" "+t:t),n){for(var o in n)if(n[o])l=l?l+" "+o:o;else if(l.length)for(var i=o.length,a=0;(a=l.indexOf(o,a))>=0;){var m=a+i;(a===0||Tn.includes(l[a-1]))&&(m===l.length||Tn.includes(l[m]))?l=(a===0?"":l.substring(0,a))+l.substring(m+1):a=m}}return l===""?null:l}function tt(e,t,n,l,o,i){var a=e.__className;if(a!==n){var m=Kl(n,l,i);m==null?e.removeAttribute("class"):e.className=m,e.__className=n}else if(i)for(var _ in i){var c=!!i[_];(o==null||c!==!!o[_])&&e.classList.toggle(_,c)}return i}function Jl(e,t,n=t){var l=ut();Nl(e,"input",o=>{var i=o?e.defaultValue:e.value;if(i=Vt(e)?Gt(i):i,n(i),l&&i!==(i=t())){var a=e.selectionStart,m=e.selectionEnd;e.value=i??"",m!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(m,e.value.length))}}),rt(t)==null&&e.value&&n(Vt(e)?Gt(e.value):e.value),Hn(()=>{var o=t();Vt(e)&&o===Gt(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Vt(e){var t=e.type;return t==="number"||t==="range"}function Gt(e){return e===""?null:+e}function sr(e=!1){const t=Z,n=t.l.u;if(!n)return;let l=()=>Il(t.s);if(e){let o=0,i={};const a=De(()=>{let m=!1;const _=t.s;for(const c in _)_[c]!==i[c]&&(i[c]=_[c],m=!0);return m&&o++,o});l=()=>z(a)}n.b.length&&pl(()=>{On(t,l),$t(n.b)}),Yt(()=>{const o=rt(()=>n.m.map(Lr));return()=>{for(const i of o)typeof i=="function"&&i()}}),n.a.length&&Yt(()=>{On(t,l),$t(n.a)})}function On(e,t){if(e.l.s)for(const n of e.l.s)z(n);t()}let pt=!1;function Zl(e){var t=pt;try{return pt=!1,[e(),pt]}finally{pt=t}}const Xl={get(e,t){if(!e.exclude.includes(t))return z(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,n){return t in e.special||(e.special[t]=ue({get[t](){return e.props[t]}},t,Mn)),e.special[t](n),bn(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),bn(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Ql(e,t){return new Proxy({props:e,exclude:t,special:{},version:se(0)},Xl)}const eo={get(e,t){let n=e.props.length;for(;n--;){let l=e.props[n];if(Qe(l)&&(l=l()),typeof l=="object"&&l!==null&&t in l)return l[t]}},set(e,t,n){let l=e.props.length;for(;l--;){let o=e.props[l];Qe(o)&&(o=o());const i=Pe(o,t);if(i&&i.set)return i.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let l=e.props[n];if(Qe(l)&&(l=l()),typeof l=="object"&&l!==null&&t in l){const o=Pe(l,t);return o&&!o.configurable&&(o.configurable=!0),o}}},has(e,t){if(t===Ie||t===Nn)return!1;for(let n of e.props)if(Qe(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props){Qe(n)&&(n=n());for(const l in n)t.includes(l)||t.push(l)}return t}};function to(...e){return new Proxy({props:e},eo)}function ue(e,t,n,l){var A;var o=(n&tl)!==0,i=!ot||(n&nl)!==0,a=(n&rl)!==0,m=(n&ll)!==0,_=!1,c;a?[c,_]=Zl(()=>e[t]):c=e[t];var v=Ie in e||Nn in e,g=a&&(((A=Pe(e,t))==null?void 0:A.set)??(v&&t in e&&(r=>e[t]=r)))||void 0,u=l,w=!0,S=!1,T=()=>(S=!0,w&&(w=!1,m?u=rt(l):u=l),u);c===void 0&&l!==void 0&&(g&&i&&Wr(),c=T(),g&&g(c));var I;if(i)I=()=>{var r=e[t];return r===void 0?T():(w=!0,S=!1,r)};else{var f=(o?De:Et)(()=>e[t]);f.f|=zr,I=()=>{var r=z(f);return r!==void 0&&(u=void 0),r===void 0?u:r}}if((n&Mn)===0)return I;if(g){var E=e.$$legacy;return function(r,b){return arguments.length>0?((!i||!b||E||_)&&g(b?I():r),r):I()}}var C=!1,F=nn(c),p=De(()=>{var r=I(),b=z(F);return C?(C=!1,b):F.v=r});return o||(p.equals=tn),function(r,b){if(arguments.length>0){const O=b?z(p):i&&a?fe(r):r;return p.equals(O)||(C=!0,Q(F,O),S&&u!==void 0&&(u=O),rt(()=>z(p))),r}return z(p)}}const no="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(no);Zr();var ro=Re('<button class="svelte-1go90zh"> </button>'),lo=Re('<nav class="menu svelte-1go90zh"><div class="menu-container svelte-1go90zh"><div class="dropdown svelte-1go90zh"><button class="menu-top svelte-1go90zh">File</button> <div><button class="svelte-1go90zh">New</button> <button class="svelte-1go90zh">Open..</button> <button class="svelte-1go90zh">Save</button> <button class="svelte-1go90zh">Save as..</button></div></div> <div class="dropdown svelte-1go90zh"><button class="menu-top svelte-1go90zh"> </button> <div></div></div> <div class="dropdown svelte-1go90zh"><button class="menu-top svelte-1go90zh">Format</button> <div><button class="svelte-1go90zh"> </button> <button class="svelte-1go90zh"> </button></div></div> <div class="dropdown svelte-1go90zh"><button class="menu-top svelte-1go90zh">Help</button> <div><a href="https://www.chordpro.org/chordpro/" class="svelte-1go90zh">ChordPro Format</a></div></div></div></nav>');function oo(e,t){it(t,!1);let n=ue(t,"transpose_steps",8,0),l=ue(t,"format",24,()=>({})),o=ue(t,"on_new",8,()=>{}),i=ue(t,"on_open",8,()=>{}),a=ue(t,"on_save",8,()=>{}),m=ue(t,"on_save_as",8,()=>{}),_=ue(t,"on_transpose",8,()=>{}),c=ue(t,"on_format_toggle",8,()=>{}),v=sl(null);const g=[-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6];function u(U){z(v)===U?Q(v,null):Q(v,U)}function w(U,H){Q(v,null),U(H)}function S(U){const H=X=>{U.contains(X.target)||U.dispatchEvent(new CustomEvent("outclick"))};return document.addEventListener("click",H,!0),{destroy(){document.removeEventListener("click",H,!0)}}}const T=()=>{Q(v,null)};function I(U,H){return U<0?"-"+U:U>0?"+"+U:H!==void 0?H:"no transposition"}function f(U){return C(I(U),U==n())}function E(){let U="Transpose",H=I(n(),"");return H&&(U+=" ("+H+")"),U}function C(U,H){let X=U;return H&&(X+=" ✓"),X}sr();var F=lo(),p=K(F),A=K(p),r=K(A),b=ee(r,2);let O;var N=K(b),y=ee(N,2),B=ee(y,2),Ne=ee(B,2),Ge=ee(A,2),Le=K(Ge),ft=K(Le),We=ee(Le,2);let $e;Vl(We,5,()=>g,Bl,(U,H)=>{var X=ro(),Ae=K(X);qe(zt=>Fe(Ae,zt),[()=>f(z(H))],Et),ce("click",X,()=>{w(_(),z(H))}),ke(U,X)});var Ye=ee(Ge,2),He=K(Ye),Ke=ee(He,2);let ct;var Je=K(Ke),Mt=K(Je),de=ee(Je,2),vt=K(de),dt=ee(Ye,2),Ze=K(dt),Me=ee(Ze,2);let _t;Hl(F,U=>S==null?void 0:S(U)),kt(()=>ce("outclick",F,()=>T())),qe((U,H,X)=>{O=tt(b,1,"menu-item-container svelte-1go90zh",null,O,{hidden:z(v)!=="file"}),Fe(ft,U),$e=tt(We,1,"menu-item-container svelte-1go90zh",null,$e,{hidden:z(v)!=="transpose"}),ct=tt(Ke,1,"menu-item-container svelte-1go90zh",null,ct,{hidden:z(v)!=="format"}),Fe(Mt,H),Fe(vt,X),_t=tt(Me,1,"menu-item-container svelte-1go90zh",null,_t,{hidden:z(v)!=="help"})},[E,()=>C("Title Right",l().title_right==!0),()=>C("Use Colors",l().use_colors)],Et),ce("click",r,()=>{u("file")}),ce("click",N,()=>{w(o())}),ce("click",y,()=>{w(i())}),ce("click",B,()=>{w(a())}),ce("click",Ne,()=>{w(m())}),ce("click",Le,()=>{u("transpose")}),ce("click",He,()=>{u("format")}),ce("click",Je,()=>{w(c(),"title_right")}),ce("click",de,()=>{w(c(),"use_colors")}),ce("click",Ze,()=>{u("help")}),ke(e,F),st()}var io=Re('<span class="sub"> </span>'),so=Re('<nav class="no-print svelte-dzut9y"><div class="title svelte-dzut9y"><span class="main svelte-dzut9y">ChordPro Editor</span> <!></div> <!></nav>');function uo(e,t){const n=Ql(t,["children","$$slots","$$events","$$legacy"]);it(t,!1);let l=ue(t,"subtitle",8,"");sr();var o=so(),i=K(o),a=ee(K(i),2);{var m=c=>{var v=io(),g=K(v);qe(()=>Fe(g,`- ${l()??""}`)),ke(c,v)};ir(a,c=>{l().length>0&&c(m)})}var _=ee(i,2);oo(_,to(()=>n)),ke(e,o),st()}function ao(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gt={},Fn;function fo(){if(Fn)return gt;Fn=1;function e(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}Object.defineProperty(gt,"__esModule",{value:!0});var t,n,l,o,i,a,m,_,c,v={};function g(){if(n)return t;function T(f,E,C,F){var p=Error.call(this,f);return Object.setPrototypeOf&&Object.setPrototypeOf(p,T.prototype),p.expected=E,p.found=C,p.location=F,p.name="SyntaxError",p}function I(f,E,C){return C=C||" ",f.length>E?f:(E-=f.length,f+(C+=C.repeat(E)).slice(0,E))}return n=1,function(f,E){function C(){this.constructor=f}C.prototype=E.prototype,f.prototype=new C}(T,Error),T.prototype.format=function(f){var E="Error: "+this.message;if(this.location){var C,F=null;for(C=0;C<f.length;C++)if(f[C].source===this.location.source){F=f[C].text.split(/\r\n|\n|\r/g);break}var p=this.location.start,A=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(p):p,r=this.location.source+":"+A.line+":"+A.column;if(F){var b=this.location.end,O=I("",A.line.toString().length," "),N=F[p.line-1],y=(p.line===b.line?b.column:N.length+1)-p.column||1;E+=`
 --> `+r+`
`+O+` |
`+A.line+" | "+N+`
`+O+" | "+I("",p.column-1," ")+I("",y,"^")}else E+=`
 at `+r}return E},T.buildMessage=function(f,E){var C={literal:function(b){return'"'+p(b.text)+'"'},class:function(b){var O=b.parts.map(function(N){return Array.isArray(N)?A(N[0])+"-"+A(N[1]):A(N)});return"["+(b.inverted?"^":"")+O.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(b){return b.description}};function F(b){return b.charCodeAt(0).toString(16).toUpperCase()}function p(b){return b.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+F(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+F(O)})}function A(b){return b.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+F(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+F(O)})}function r(b){return C[b.type](b)}return"Expected "+function(b){var O,N,y=b.map(r);if(y.sort(),y.length>0){for(O=1,N=1;O<y.length;O++)y[O-1]!==y[O]&&(y[N]=y[O],N++);y.length=N}switch(y.length){case 1:return y[0];case 2:return y[0]+" or "+y[1];default:return y.slice(0,-1).join(", ")+", or "+y[y.length-1]}}(f)+" but "+function(b){return b?'"'+p(b)+'"':"end of input"}(E)+" found."},t={StartRules:["All"],SyntaxError:T,parse:function(f,E){var C,F,p,A,r={},b=(E=E!==void 0?E:{}).grammarSource,O={All:hn},N=hn,y="{title:",B="}",Ne="{subtitle:",Ge="{artist:",Le="{c:",ft="{comment:",We="{",$e="soc",Ye="start_of_chorus",He="eoc",Ke="end_of_chorus",ct="[",Je="]",Mt=/^[\n\r]/,de=/^[^}]/,vt=/^[^{[\n\r]/,dt=/^[A-Z]/,Ze=/^[^\]]/,Me={type:"any"},_t=Xe([`
`,"\r"],!1,!1),U=le("{title:",!1),H=le(" ",!1),X=Xe(["}"],!0,!1),Ae=le("}",!1),zt=le("{subtitle:",!1),ur=le("{artist:",!1),ar=le("{c:",!1),fr=le("{comment:",!1),sn=le("{",!1),cr=le("soc",!1),vr=le("start_of_chorus",!1),dr=le("eoc",!1),_r=le("end_of_chorus",!1),un=Xe(["{","[",`
`,"\r"],!0,!1),hr=le("[",!1),an=Xe([["A","Z"]],!1,!1),fn=Xe(["]"],!0,!1),pr=le("]",!1),gr=function(d){return""},mr=function(d,h){return{header:d,content:h}},wr=function(d,h,x){return{title:d,subTitle:h,artist:x}},yr=function(d){return d},br=function(d){return d},xr=function(d){return d},Er=function(d){return{type:"comment",value:d}},cn=function(d,h){return h},Ar=function(d,h,x){return[d].concat(h)},Cr=function(d){return{type:"verse",items:d}},Sr=function(d){return{type:"chorus",items:d}},vn=function(d,h){return h},Pr=function(d,h){return[d].concat(h)},Tr=function(d){return{type:"line",items:d}},Or=function(d){return{type:"text",value:d}},Fr=function(d){return{type:"chord",value:d}},s=0|E.peg$currPos,ze=[{line:1,column:1}],_e=s,ht=E.peg$maxFailExpected||[],P=0|E.peg$silentFails;if(E.startRule){if(!(E.startRule in O))throw new Error(`Can't start parsing from rule "`+E.startRule+'".');N=O[E.startRule]}function le(d,h){return{type:"literal",text:d,ignoreCase:h}}function Xe(d,h,x){return{type:"class",parts:d,inverted:h,ignoreCase:x}}function dn(d){var h,x=ze[d];if(x)return x;if(d>=ze.length)h=ze.length-1;else for(h=d;!ze[--h];);for(x={line:(x=ze[h]).line,column:x.column};h<d;)f.charCodeAt(h)===10?(x.line++,x.column=1):x.column++,h++;return ze[d]=x,x}function _n(d,h,x){var k=dn(d),q=dn(h);return{source:b,start:{offset:d,line:k.line,column:k.column},end:{offset:h,line:q.line,column:q.column}}}function D(d){s<_e||(s>_e&&(_e=s,ht=[]),ht.push(d))}function hn(){var d,h,x,k,q;return d=s,h=function(){var L,Y,te,M;return L=s,Y=function(){var R,J,G,$,j;if(R=s,f.substr(s,7)===y?(J=y,s+=7):(J=r,P===0&&D(U)),J!==r){if(f.charCodeAt(s)===32?s++:P===0&&D(H),G=s,$=[],j=f.charAt(s),de.test(j)?s++:(j=r,P===0&&D(X)),j!==r)for(;j!==r;)$.push(j),j=f.charAt(s),de.test(j)?s++:(j=r,P===0&&D(X));else $=r;(G=$!==r?f.substring(G,s):$)!==r?(f.charCodeAt(s)===125?($=B,s++):($=r,P===0&&D(Ae)),$!==r&&(j=jt())!==r?R=yr(G):(s=R,R=r)):(s=R,R=r)}else s=R,R=r;return R}(),Y===r&&(Y=null),te=function(){var R,J,G,$,j;if(R=s,f.substr(s,10)===Ne?(J=Ne,s+=10):(J=r,P===0&&D(zt)),J!==r){if(f.charCodeAt(s)===32?s++:P===0&&D(H),G=s,$=[],j=f.charAt(s),de.test(j)?s++:(j=r,P===0&&D(X)),j!==r)for(;j!==r;)$.push(j),j=f.charAt(s),de.test(j)?s++:(j=r,P===0&&D(X));else $=r;(G=$!==r?f.substring(G,s):$)!==r?(f.charCodeAt(s)===125?($=B,s++):($=r,P===0&&D(Ae)),$!==r&&(j=jt())!==r?R=br(G):(s=R,R=r)):(s=R,R=r)}else s=R,R=r;return R}(),te===r&&(te=null),M=function(){var R,J,G,$,j;if(R=s,f.substr(s,8)===Ge?(J=Ge,s+=8):(J=r,P===0&&D(ur)),J!==r){if(f.charCodeAt(s)===32?s++:P===0&&D(H),G=s,$=[],j=f.charAt(s),de.test(j)?s++:(j=r,P===0&&D(X)),j!==r)for(;j!==r;)$.push(j),j=f.charAt(s),de.test(j)?s++:(j=r,P===0&&D(X));else $=r;(G=$!==r?f.substring(G,s):$)!==r?(f.charCodeAt(s)===125?($=B,s++):($=r,P===0&&D(Ae)),$!==r&&(j=jt())!==r?R=xr(G):(s=R,R=r)):(s=R,R=r)}else s=R,R=r;return R}(),M===r&&(M=null),L=wr(Y,te,M),L}(),x=function(){var L,Y,te,M,R,J,G;if(L=s,Y=qt(),Y!==r){if(te=[],M=s,(R=oe())!==r){if(J=[],(G=oe())!==r)for(;G!==r;)J.push(G),G=oe();else J=r;J!==r&&(G=qt())!==r?M=cn(Y,G):(s=M,M=r)}else s=M,M=r;for(;M!==r;)if(te.push(M),M=s,(R=oe())!==r){if(J=[],(G=oe())!==r)for(;G!==r;)J.push(G),G=oe();else J=r;J!==r&&(G=qt())!==r?M=cn(Y,G):(s=M,M=r)}else s=M,M=r;if(M=s,P++,f.length>s?(R=f.charAt(s),s++):(R=r,P===0&&D(Me)),P--,R===r?M=void 0:(s=M,M=r),M===r){if(M=[],(R=oe())!==r)for(;R!==r;)M.push(R),R=oe();else M=r;M===r&&(M=s,P++,f.length>s?(R=f.charAt(s),s++):(R=r,P===0&&D(Me)),P--,R===r?M=void 0:(s=M,M=r))}M!==r?L=Ar(Y,te):(s=L,L=r)}else s=L,L=r;return L}(),x===r&&(x=s,k=s,P++,f.length>s?(q=f.charAt(s),s++):(q=r,P===0&&D(Me)),P--,q===r?k=void 0:(s=k,k=r),k!==r&&(k=gr()),x=k),x!==r?d=mr(h,x):(s=d,d=r),d}function oe(){var d;return d=f.charAt(s),Mt.test(d)?s++:(d=r,P===0&&D(_t)),d}function jt(){var d,h;if(d=[],(h=oe())!==r)for(;h!==r;)d.push(h),h=oe();else d=r;return d===r&&(d=s,P++,f.length>s?(h=f.charAt(s),s++):(h=r,P===0&&D(Me)),P--,h===r?d=void 0:(s=d,d=r)),d}function qt(){var d;return(d=function(){var h,x;return h=s,(x=pn())!==r&&(x=Cr(x)),h=x,h}())===r&&(d=function(){var h,x,k,q,L,Y,te,M;return h=s,f.charCodeAt(s)===123?(x=We,s++):(x=r,P===0&&D(sn)),x!==r?(f.substr(s,3)===$e?(k=$e,s+=3):(k=r,P===0&&D(cr)),k===r&&(f.substr(s,15)===Ye?(k=Ye,s+=15):(k=r,P===0&&D(vr))),k!==r?(f.charCodeAt(s)===125?(q=B,s++):(q=r,P===0&&D(Ae)),q!==r&&oe()!==r&&(L=pn())!==r&&oe()!==r?(f.charCodeAt(s)===123?(Y=We,s++):(Y=r,P===0&&D(sn)),Y!==r?(f.substr(s,3)===He?(te=He,s+=3):(te=r,P===0&&D(dr)),te===r&&(f.substr(s,13)===Ke?(te=Ke,s+=13):(te=r,P===0&&D(_r))),te!==r?(f.charCodeAt(s)===125?(M=B,s++):(M=r,P===0&&D(Ae)),M!==r?h=Sr(L):(s=h,h=r)):(s=h,h=r)):(s=h,h=r)):(s=h,h=r)):(s=h,h=r)):(s=h,h=r),h}())===r&&(d=function(){var h,x,k,q,L;if(h=s,f.substr(s,3)===Le?(x=Le,s+=3):(x=r,P===0&&D(ar)),x===r&&(f.substr(s,9)===ft?(x=ft,s+=9):(x=r,P===0&&D(fr))),x!==r){if(f.charCodeAt(s)===32?s++:P===0&&D(H),k=s,q=[],L=f.charAt(s),de.test(L)?s++:(L=r,P===0&&D(X)),L!==r)for(;L!==r;)q.push(L),L=f.charAt(s),de.test(L)?s++:(L=r,P===0&&D(X));else q=r;(k=q!==r?f.substring(k,s):q)!==r?(f.charCodeAt(s)===125?(q=B,s++):(q=r,P===0&&D(Ae)),q!==r?h=Er(k):(s=h,h=r)):(s=h,h=r)}else s=h,h=r;return h}()),d}function pn(){var d,h,x,k,q;if(d=s,(h=Bt())!==r){for(x=[],k=s,oe()!==r&&(q=Bt())!==r?k=vn(h,q):(s=k,k=r);k!==r;)x.push(k),k=s,oe()!==r&&(q=Bt())!==r?k=vn(h,q):(s=k,k=r);d=Pr(h,x)}else s=d,d=r;return d}function Bt(){var d,h;if(d=[],(h=mn())===r&&(h=gn()),h!==r)for(;h!==r;)d.push(h),(h=mn())===r&&(h=gn());else d=r;return d!==r&&(d=Tr(d)),d}function gn(){var d,h,x;if(d=s,h=[],x=f.charAt(s),vt.test(x)?s++:(x=r,P===0&&D(un)),x!==r)for(;x!==r;)h.push(x),x=f.charAt(s),vt.test(x)?s++:(x=r,P===0&&D(un));else h=r;return(d=h!==r?f.substring(d,s):h)!==r&&(d=Or(d)),d}function mn(){var d,h,x,k,q,L,Y;if(d=s,f.charCodeAt(s)===91?(h=ct,s++):(h=r,P===0&&D(hr)),h!==r){if(x=s,k=s,q=[],L=f.charAt(s),dt.test(L)?s++:(L=r,P===0&&D(an)),L!==r)for(;L!==r;)q.push(L),L=f.charAt(s),dt.test(L)?s++:(L=r,P===0&&D(an));else q=r;if(q!==r){for(L=[],Y=f.charAt(s),Ze.test(Y)?s++:(Y=r,P===0&&D(fn));Y!==r;)L.push(Y),Y=f.charAt(s),Ze.test(Y)?s++:(Y=r,P===0&&D(fn));k=q=[q,L]}else s=k,k=r;(x=k!==r?f.substring(x,s):k)!==r?(f.charCodeAt(s)===93?(k=Je,s++):(k=r,P===0&&D(pr)),k!==r?d=Fr(x):(s=d,d=r)):(s=d,d=r)}else s=d,d=r;return d}if(C=N(),E.peg$library)return{peg$result:C,peg$currPos:s,peg$FAILED:r,peg$maxFailExpected:ht,peg$maxFailPos:_e};if(C!==r&&s===f.length)return C;throw C!==r&&s<f.length&&D({type:"end"}),F=ht,p=_e<f.length?f.charAt(_e):null,A=_e<f.length?_n(_e,_e+1):_n(_e,_e),new T(T.buildMessage(F,p),F,p,A)}}}function u(){if(_)return m;function T(I,f){const E=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],C=["C","Db","D","D#","E","F","Gb","G","G#","A","A#","B"];if(I.length<1)return;let F="",p=0;for(;p<I.length;){if("CDEFGAB".indexOf(I[p])===-1){F+=I[p],p++;continue}let A=I[p];p++,p<I.length&&(I[p]!=="#"&&I[p]!=="b"||(A+=I[p],p++));let r=E.indexOf(A);r===-1&&(r=C.indexOf(A),r===-1&&console.error("Unknown chord root",A)),r+=f,r%=12,r<0&&(r=12+r),F+=E[r]}return F}return _=1,m={transpose:function(I,f){for(let E of I.content)if(["verse","chorus"].includes(E.type)){for(let C of E.items)if(C.type=="line")for(let F of C.items)F.type=="chord"&&(F.value=T(F.value,f))}return I},transposeChord:T}}var w=function(){if(c)return v;c=1;const T=g(),I=function(){if(o)return l;function C(p){let A="",r="";for(let O=0;O<p.items.length;O++){const N=p.items[O];let y;switch(N.value.length,N.type){case"chord":y=r.length-A.length,y>0&&(A+=" ".repeat(y)),A+=N.value+" ";break;case"text":r+=N.value,y=A.length-r.length,y>0&&(r+=" ".repeat(y))}}let b="";return A.length>0&&(b+=A+`
`),b+r}function F(p){var A="";for(let r=0;r<p.items.length;r++){const b=p.items[r];b.type=="line"&&(A+=C(b)+`
`)}return A}return o=1,l={processSong:function(p){var A="";p.header.title&&(A+=`Title: ${p.header.title}
`),p.header.subTitle&&(A+=`Subtitle: ${p.header.subTitle}
`),p.header.artist&&(A+=`Artist: ${p.header.artist}
`),A+=`
`;for(let r=0;r<p.content.length;r++){let b=p.content[r];r>0&&(A+=`

`),b.type!="verse"&&b.type!="chorus"||(A+=F(b))}return A},processVerse:F,processRow:C}}(),f=function(){if(a)return i;function C(p,A){let r=[],b=[],O=null;for(let y=0;y<p.items.length;y++){let B=p.items[y];B.type==="chord"?(r.push(B.value),O=B.value):B.type==="text"&&(O===null&&r.push(""),b.push(B.value),O=null)}let N='<table class="line">';return A&&(N+='<tr class="line-chords">',N+=r.map(y=>`<td class="chord">${y}</td>`).join(`
`),N+="</tr>"),N+='<tr class="line-lyrics">',N+=b.map(y=>`<td class="lyrics">${y.replaceAll(" ","&nbsp;")}</td>`).join(`
`),N+="</tr>",N+="</table>",N}function F(p){let A=function(b){for(let O=0;O<b.items.length;O++){let N=b.items[O];for(let y=0;y<N.items.length;y++)if(N.items[y].type==="chord")return!0}return!1}(p),r=`<div class="${p.type}">
`;for(let b=0;b<p.items.length;b++)r+=C(p.items[b],A);return r+="</div>",r}return a=1,i={processSong:function(p){var A=`<div class="jschordpro-song">

`;let r="";p.header.title&&p.header.title.length>0&&(r+=`<h1>${p.header.title}</h1>
`),p.header.subtitle&&p.header.subTitle.length>0&&(r+=`<h2>${p.header.subTitle}</h2>
`),p.header.artist&&p.header.artist.length>0&&(r+=`<h2>${p.header.artist}</h2>
`),r&&(A+=`<div class="header">
`,A+=r,A+=`</div>

`),A+=`<div class="content">
`;for(let b=0;b<p.content.length;b++)A+=F(p.content[b]);return(A+=`</div>
`)+`</div>
`}}}(),E=u();return v.parse=T.parse,v.to_ascii=I.processSong,v.to_html=f.processSong,v.transpose=E.transpose,v}(),S=e(w);return gt.default=S,gt}var co=fo();const Wt=ao(co);var vo=Re('<div class="error svelte-9csvmy"> </div>'),_o=Re('<div class="preview svelte-9csvmy"><!> <div><!></div></div>');function ho(e,t){it(t,!0);let n=ue(t,"source",3,""),l=ue(t,"transpose_steps",3,0),o=ue(t,"format",19,()=>({})),i=De(()=>{let u={html:"",err:null};try{let w=Wt.parse(n());l()!=0&&Wt.transpose(w,l()),u.html=Wt.to_html(w)}catch(w){u.err=w.toString()}return u});function a(){let u="";return o().title_right===!0?u+="meta-right ":u+="meta-left ",o().use_colors===!0&&(u+="use-colors "),u}var m=_o(),_=K(m);{var c=u=>{var w=vo(),S=K(w);qe(()=>Fe(S,z(i).err)),ke(u,w)};ir(_,u=>{z(i).err!==null&&u(c)})}var v=ee(_,2),g=K(v);Yl(g,()=>z(i).html),qe(u=>tt(v,1,u,"svelte-9csvmy"),[a]),ke(e,m),st()}function po(){if("showSaveFilePicker"in window){const t={types:[{description:"Chordpro text file",accept:{"text/plain":[".txt"]}}]};return window.showSaveFilePicker(t)}const e={type:"save-file",accepts:[{description:"Text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function go(){if("showOpenFilePicker"in window){const t={types:[{description:"Chordpro",accept:{"text/plain":[".txt"]}}],excludeAcceptAllOption:!1,multiple:!1};return window.showOpenFilePicker(t).then(n=>n[0])}const e={type:"open-file",accepts:[{description:"Chordpro text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function mo(e){return e.text?e.text():new Promise(n=>{const l=new FileReader;l.addEventListener("loadend",function(){n(l.result)}),l.readAsText(e)})}function In(e,t){e.createWriter?e.createWriter().then(function(n){n.write(0,t).then(function(){return n.close()})}):e.createWritable().then(function(n){n.write(t).then(function(){return n.close()})})}function wo(e){return e.replace(/\r\n|\r/g,`
`)}const yo=`{title: In My Time of Dyin'}
{artist: Bob Dylan}

[Am]In my time of dying
[Am]I don't want nobody to mourn
[Am]All I want for you to do
Is [D]take my body [Am]home

{start_of_chorus}
[Am]Well, well, well, so I can die easy
Well, well, [D]well, so I can die [Am]easy
[Am]Well, well, well, so I can die easy
[D]Jesus gonna make up my [G]dy[G#]ing [Am]bed
{end_of_chorus}

Well, meet me Jesus, meet me
Meet me in the middle of the air
If these wings should fail to me
Lord, won't you meet me with another pair

Lord, in my time of dying
I don't want nobody to cry
All I want you to do
Is take me when I die
`,bo=`{title: Song Title}
{artist: Song Artist}

Verse [C]with [G]chods...

{start_of_chorus}
Chorus [C]with [G]chords ...
{end_of_chorus}

Verse...
`;var xo=Re(`<!> <main class="svelte-1f1vxka"><div class="editor no-print svelte-1f1vxka"><textarea class="no-print svelte-1f1vxka">
        ></textarea></div> <div class="preview svelte-1f1vxka"><!></div></main> <footer class="no-print svelte-1f1vxka"> </footer>`,1);function Eo(e,t){it(t,!0);let n=ue(t,"song",3,"");const l="chooseFileSystemEntries"in window||"showOpenFilePicker"in window;let o,i=Ut(fe(n())),a=Ut(fe(n())),m=Ut(0),_=fe({title_right:!1,use_colors:!1});function c(){Q(i,fe(bo))}async function v(){o=await go();try{let y=await o.getFile(),B=await mo(y);Q(i,fe(wo(B)))}catch(y){console.error("read failed: ",y)}}async function g(){if(o)try{await In(o,z(i))}catch(y){const B="Unable to save file";console.error(B,y),alert(B)}}async function u(){if(!l){console.error("this browser does not support access to file system");return}try{o=await po()}catch(y){if(y.name==="AbortError")return;const B="An error occured trying to open the file.";console.error(B,y),alert(B);return}try{await In(o,z(i))}catch(y){const B="Unable to save file.";console.error(B,y),alert(B);return}}function w(y){Q(m,fe(y))}function S(y){y in _&&(_[y]=!_[y])}var T;function I(y,B,Ne){T&&clearTimeout(T),T=setTimeout(()=>{Ne(B)},y)}Yt(()=>{I(1e3,z(i),y=>{Q(a,fe(y))})});var f=xo(),E=fl(f);const C=De(()=>o&&o.name);uo(E,{get subtitle(){return z(C)},get format(){return _},get transpose_steps(){return z(m)},on_open:v,on_new:c,on_save:g,on_save_as:u,on_transpose:w,on_format_toggle:S});var F=ee(E,2),p=K(F),A=K(p),r=ee(p,2),b=K(r);ho(b,{get source(){return z(a)},get transpose_steps(){return z(m)},get format(){return _}});var O=ee(F,2),N=K(O);qe(y=>Fe(N,`BlueSoft © ${y??""}`),[()=>new Date().getFullYear()]),Jl(A,()=>z(i),y=>Q(i,y)),ke(e,f),st()}zl(Eo,{target:document.body,props:{song:yo}});
