(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();const vn=!1;var Ft=Array.isArray,Dr=Array.prototype.indexOf,It=Array.from,Rr=Object.defineProperty,Fe=Object.getOwnPropertyDescriptor,Nr=Object.getOwnPropertyDescriptors,qr=Object.prototype,Lr=Array.prototype,Cn=Object.getPrototypeOf;function Mr(e){return e()}function At(e){for(var t=0;t<e.length;t++)e[t]()}const le=2,On=4,Ye=8,Dt=16,de=32,Ne=64,nt=128,Ae=256,rt=512,Z=1024,pe=2048,qe=4096,fe=8192,Le=16384,jr=32768,Rt=65536,Br=1<<17,Ur=1<<19,Tn=1<<20,we=Symbol("$state"),Vr=Symbol("legacy props");function kn(e){return e===this.v}function Wr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Nt(e){return!Wr(e,this.v)}function $r(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Gr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Yr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function zr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Hr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Kr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Jr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Zr(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Xr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ze=!1,Qr=!1;function el(){ze=!0}const tl=1,nl=2,rl=16,ll=1,il=2,ol=4,ul=8,sl=16,al=1,fl=2,ee=Symbol();function re(e,t){var n={f:0,v:e,reactions:null,equals:kn,rv:0,wv:0};return n}function dn(e){return Pn(re(e))}function qt(e,t=!1){var i;const n=re(e);return t||(n.equals=Nt),ze&&Y!==null&&Y.l!==null&&((i=Y.l).s??(i.s=[])).push(n),n}function cl(e,t=!1){return Pn(qt(e,t))}function Pn(e){return U!==null&&U.f&le&&(ce===null?Sl([e]):ce.push(e)),e}function H(e,t){return U!==null&&He()&&U.f&(le|Dt)&&(ce===null||!ce.includes(e))&&Xr(),Fn(e,t)}function Fn(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=Kn(),In(e,pe),He()&&V!==null&&V.f&Z&&!(V.f&(de|Ne))&&(_e===null?Cl([e]):_e.push(e))),t}function In(e,t){var n=e.reactions;if(n!==null)for(var i=He(),l=n.length,o=0;o<l;o++){var s=n[o],y=s.f;y&pe||!i&&s===V||(ae(s,t),y&(Z|Ae)&&(y&le?In(s,qe):ht(s)))}}let vl=!1;function oe(e,t=null,n){if(typeof e!="object"||e===null||we in e)return e;const i=Cn(e);if(i!==qr&&i!==Lr)return e;var l=new Map,o=Ft(e),s=re(0);o&&l.set("length",re(e.length));var y;return new Proxy(e,{defineProperty(d,a,p){(!("value"in p)||p.configurable===!1||p.enumerable===!1||p.writable===!1)&&Kr();var f=l.get(a);return f===void 0?(f=re(p.value),l.set(a,f)):H(f,oe(p.value,y)),!0},deleteProperty(d,a){var p=l.get(a);if(p===void 0)a in d&&l.set(a,re(ee));else{if(o&&typeof a=="string"){var f=l.get("length"),_=Number(a);Number.isInteger(_)&&_<f.v&&H(f,_)}H(p,ee),_n(s)}return!0},get(d,a,p){var b;if(a===we)return e;var f=l.get(a),_=a in d;if(f===void 0&&(!_||(b=Fe(d,a))!=null&&b.writable)&&(f=re(oe(_?d[a]:ee,y)),l.set(a,f)),f!==void 0){var g=B(f);return g===ee?void 0:g}return Reflect.get(d,a,p)},getOwnPropertyDescriptor(d,a){var p=Reflect.getOwnPropertyDescriptor(d,a);if(p&&"value"in p){var f=l.get(a);f&&(p.value=B(f))}else if(p===void 0){var _=l.get(a),g=_==null?void 0:_.v;if(_!==void 0&&g!==ee)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return p},has(d,a){var g;if(a===we)return!0;var p=l.get(a),f=p!==void 0&&p.v!==ee||Reflect.has(d,a);if(p!==void 0||V!==null&&(!f||(g=Fe(d,a))!=null&&g.writable)){p===void 0&&(p=re(f?oe(d[a],y):ee),l.set(a,p));var _=B(p);if(_===ee)return!1}return f},set(d,a,p,f){var S;var _=l.get(a),g=a in d;if(o&&a==="length")for(var b=p;b<_.v;b+=1){var C=l.get(b+"");C!==void 0?H(C,ee):b in d&&(C=re(ee),l.set(b+"",C))}_===void 0?(!g||(S=Fe(d,a))!=null&&S.writable)&&(_=re(void 0),H(_,oe(p,y)),l.set(a,_)):(g=_.v!==ee,H(_,oe(p,y)));var k=Reflect.getOwnPropertyDescriptor(d,a);if(k!=null&&k.set&&k.set.call(f,p),!g){if(o&&typeof a=="string"){var c=l.get("length"),E=Number(a);Number.isInteger(E)&&E>=c.v&&H(c,E+1)}_n(s)}return!0},ownKeys(d){B(s);var a=Reflect.ownKeys(d).filter(_=>{var g=l.get(_);return g===void 0||g.v!==ee});for(var[p,f]of l)f.v!==ee&&!(p in d)&&a.push(p);return a},setPrototypeOf(){Jr()}})}function _n(e,t=1){H(e,e.v+t)}function hn(e){return e!==null&&typeof e=="object"&&we in e?e[we]:e}function dl(e,t){return Object.is(hn(e),hn(t))}var pn,Dn,Rn;function _l(){if(pn===void 0){pn=window;var e=Element.prototype,t=Node.prototype;Dn=Fe(t,"firstChild").get,Rn=Fe(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Nn(e=""){return document.createTextNode(e)}function We(e){return Dn.call(e)}function ct(e){return Rn.call(e)}function J(e,t){return We(e)}function hl(e,t){{var n=We(e);return n instanceof Comment&&n.data===""?ct(n):n}}function se(e,t=1,n=!1){let i=e;for(;t--;)i=ct(i);return i}function pl(e){e.textContent=""}function De(e){var t=le|pe;V===null?t|=Ae:V.f|=Tn;var n=U!==null&&U.f&le?U:null;const i={children:null,ctx:Y,deps:null,equals:kn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??V};return n!==null&&(n.children??(n.children=[])).push(i),i}function qn(e){const t=De(e);return t.equals=Nt,t}function Ln(e){var t=e.children;if(t!==null){e.children=null;for(var n=0;n<t.length;n+=1){var i=t[n];i.f&le?Lt(i):he(i)}}}function gl(e){for(var t=e.parent;t!==null;){if(!(t.f&le))return t;t=t.parent}return null}function Mn(e){var t,n=V;ve(gl(e));try{Ln(e),t=Zn(e)}finally{ve(n)}return t}function jn(e){var t=Mn(e),n=(xe||e.f&Ae)&&e.deps!==null?qe:Z;ae(e,n),e.equals(t)||(e.v=t,e.wv=Kn())}function Lt(e){Ln(e),Ge(e,0),ae(e,Le),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Bn(e){V===null&&U===null&&Yr(),U!==null&&U.f&Ae&&Gr(),jt&&$r()}function ml(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Me(e,t,n,i=!0){var l=(e&Ne)!==0,o=V,s={ctx:Y,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|pe,first:null,fn:t,last:null,next:null,parent:l?null:o,prev:null,teardown:null,transitions:null,wv:0};if(n){var y=Ie;try{gn(!0),Bt(s),s.f|=jr}catch(p){throw he(s),p}finally{gn(y)}}else t!==null&&ht(s);var d=n&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(Tn|nt))===0;if(!d&&!l&&i&&(o!==null&&ml(s,o),U!==null&&U.f&le)){var a=U;(a.children??(a.children=[])).push(s)}return s}function yl(e){const t=Me(Ye,null,!1);return ae(t,Z),t.teardown=e,t}function St(e){Bn();var t=V!==null&&(V.f&de)!==0&&Y!==null&&!Y.m;if(t){var n=Y;(n.e??(n.e=[])).push({fn:e,effect:V,reaction:U})}else{var i=vt(e);return i}}function wl(e){return Bn(),Un(e)}function bl(e){const t=Me(Ne,e,!0);return(n={})=>new Promise(i=>{n.outro?lt(t,()=>{he(t),i(void 0)}):(he(t),i(void 0))})}function vt(e){return Me(On,e,!1)}function Un(e){return Me(Ye,e,!0)}function $e(e){return dt(e)}function dt(e,t=0){return Me(Ye|Dt|t,e,!0)}function Re(e,t=!0){return Me(Ye|de,e,!0,t)}function Vn(e){var t=e.teardown;if(t!==null){const n=jt,i=U;mn(!0),be(null);try{t.call(null)}finally{mn(n),be(i)}}}function Wn(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var n=0;n<t.length;n+=1)Lt(t[n])}}function $n(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var i=n.next;he(n,t),n=i}}function xl(e){for(var t=e.first;t!==null;){var n=t.next;t.f&de||he(t),t=n}}function he(e,t=!0){var n=!1;if((t||e.f&Ur)&&e.nodes_start!==null){for(var i=e.nodes_start,l=e.nodes_end;i!==null;){var o=i===l?null:ct(i);i.remove(),i=o}n=!0}$n(e,t&&!n),Wn(e),Ge(e,0),ae(e,Le);var s=e.transitions;if(s!==null)for(const d of s)d.stop();Vn(e);var y=e.parent;y!==null&&y.first!==null&&Gn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Gn(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function lt(e,t){var n=[];Mt(e,n,!0),Yn(n,()=>{he(e),t&&t()})}function Yn(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var l of e)l.out(i)}else t()}function Mt(e,t,n){if(!(e.f&fe)){if(e.f^=fe,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var i=e.first;i!==null;){var l=i.next,o=(i.f&Rt)!==0||(i.f&de)!==0;Mt(i,t,o?n:!1),i=l}}}function it(e){zn(e,!0)}function zn(e,t){if(e.f&fe){e.f^=fe,e.f&Z||(e.f^=Z),Ke(e)&&(ae(e,pe),ht(e));for(var n=e.first;n!==null;){var i=n.next,l=(n.f&Rt)!==0||(n.f&de)!==0;zn(n,l?t:!1),n=i}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Ct=!1,Ot=[];function El(){Ct=!1;const e=Ot.slice();Ot=[],At(e)}function Al(e){Ct||(Ct=!0,queueMicrotask(El)),Ot.push(e)}let tt=!1,ot=!1,ut=null,Ie=!1,jt=!1;function gn(e){Ie=e}function mn(e){jt=e}let Tt=[],Ue=0;let U=null;function be(e){U=e}let V=null;function ve(e){V=e}let ce=null;function Sl(e){ce=e}let te=null,ne=0,_e=null;function Cl(e){_e=e}let Hn=1,st=0,xe=!1,Y=null;function Kn(){return++Hn}function He(){return!ze||Y!==null&&Y.l===null}function Ke(e){var a;var t=e.f;if(t&pe)return!0;if(t&qe){var n=e.deps,i=(t&Ae)!==0;if(n!==null){var l,o,s=(t&rt)!==0,y=i&&V!==null&&!xe,d=n.length;if(s||y){for(l=0;l<d;l++)o=n[l],(s||!((a=o==null?void 0:o.reactions)!=null&&a.includes(e)))&&(o.reactions??(o.reactions=[])).push(e);s&&(e.f^=rt)}for(l=0;l<d;l++)if(o=n[l],Ke(o)&&jn(o),o.wv>e.wv)return!0}(!i||V!==null&&!xe)&&ae(e,Z)}return!1}function Ol(e,t){for(var n=t;n!==null;){if(n.f&nt)try{n.fn(e);return}catch{n.f^=nt}n=n.parent}throw tt=!1,e}function Tl(e){return(e.f&Le)===0&&(e.parent===null||(e.parent.f&nt)===0)}function _t(e,t,n,i){if(tt){if(n===null&&(tt=!1),Tl(t))throw e;return}n!==null&&(tt=!0);{Ol(e,t);return}}function Jn(e,t,n=0){var i=e.reactions;if(i!==null)for(var l=0;l<i.length;l++){var o=i[l];o.f&le?Jn(o,t,n+1):t===o&&(n===0?ae(o,pe):o.f&Z&&ae(o,qe),ht(o))}}function Zn(e){var _;var t=te,n=ne,i=_e,l=U,o=xe,s=ce,y=Y,d=e.f;te=null,ne=0,_e=null,U=d&(de|Ne)?null:e,xe=!Ie&&(d&Ae)!==0,ce=null,Y=e.ctx,st++;try{var a=(0,e.fn)(),p=e.deps;if(te!==null){var f;if(Ge(e,ne),p!==null&&ne>0)for(p.length=ne+te.length,f=0;f<te.length;f++)p[ne+f]=te[f];else e.deps=p=te;if(!xe)for(f=ne;f<p.length;f++)((_=p[f]).reactions??(_.reactions=[])).push(e)}else p!==null&&ne<p.length&&(Ge(e,ne),p.length=ne);if(He()&&_e!==null&&!(e.f&(le|qe|pe)))for(f=0;f<_e.length;f++)Jn(_e[f],e);return l!==null&&st++,a}finally{te=t,ne=n,_e=i,U=l,xe=o,ce=s,Y=y}}function kl(e,t){let n=t.reactions;if(n!==null){var i=Dr.call(n,e);if(i!==-1){var l=n.length-1;l===0?n=t.reactions=null:(n[i]=n[l],n.pop())}}n===null&&t.f&le&&(te===null||!te.includes(t))&&(ae(t,qe),t.f&(Ae|rt)||(t.f^=rt),Ge(t,0))}function Ge(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)kl(e,n[i])}function Bt(e){var t=e.f;if(!(t&Le)){ae(e,Z);var n=V,i=Y;V=e;try{t&Dt?xl(e):$n(e),Wn(e),Vn(e);var l=Zn(e);e.teardown=typeof l=="function"?l:null,e.wv=Hn;var o=e.deps,s;vn&&Qr&&e.f&pe}catch(y){_t(y,e,n,i||e.ctx)}finally{V=n}}}function Pl(){if(Ue>1e3){Ue=0;try{zr()}catch(e){if(ut!==null)_t(e,ut,null);else throw e}}Ue++}function Fl(e){var t=e.length;if(t!==0){Pl();var n=Ie;Ie=!0;try{for(var i=0;i<t;i++){var l=e[i];l.f&Z||(l.f^=Z);var o=[];Xn(l,o),Il(o)}}finally{Ie=n}}}function Il(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var i=e[n];if(!(i.f&(Le|fe)))try{Ke(i)&&(Bt(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?Gn(i):i.fn=null))}catch(l){_t(l,i,null,i.ctx)}}}function Dl(){if(ot=!1,Ue>1001)return;const e=Tt;Tt=[],Fl(e),ot||(Ue=0,ut=null)}function ht(e){ot||(ot=!0,queueMicrotask(Dl)),ut=e;for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(Ne|de)){if(!(n&Z))return;t.f^=Z}}Tt.push(t)}function Xn(e,t){var n=e.first,i=[];e:for(;n!==null;){var l=n.f,o=(l&de)!==0,s=o&&(l&Z)!==0,y=n.next;if(!s&&!(l&fe))if(l&Ye){if(o)n.f^=Z;else try{Ke(n)&&Bt(n)}catch(f){_t(f,n,null,n.ctx)}var d=n.first;if(d!==null){n=d;continue}}else l&On&&i.push(n);if(y===null){let f=n.parent;for(;f!==null;){if(e===f)break e;var a=f.next;if(a!==null){n=a;continue e}f=f.parent}}n=y}for(var p=0;p<i.length;p++)d=i[p],t.push(d),Xn(d,t)}function B(e){var p;var t=e.f,n=(t&le)!==0;if(n&&t&Le){var i=Mn(e);return Lt(e),i}if(U!==null){ce!==null&&ce.includes(e)&&Zr();var l=U.deps;e.rv<st&&(e.rv=st,te===null&&l!==null&&l[ne]===e?ne++:te===null?te=[e]:te.push(e))}else if(n&&e.deps===null)for(var o=e,s=o.parent,y=o;s!==null;)if(s.f&le){var d=s;y=d,s=d.parent}else{var a=s;(p=a.deriveds)!=null&&p.includes(y)||(a.deriveds??(a.deriveds=[])).push(y);break}return n&&(o=e,Ke(o)&&jn(o)),e.v}function at(e){const t=U;try{return U=null,e()}finally{U=t}}const Rl=-7169;function ae(e,t){e.f=e.f&Rl|t}function pt(e,t=!1,n){Y={p:Y,c:null,e:null,m:!1,s:e,x:null,l:null},ze&&!t&&(Y.l={s:null,u:null,r1:[],r2:re(!1)})}function gt(e){const t=Y;if(t!==null){const s=t.e;if(s!==null){var n=V,i=U;t.e=null;try{for(var l=0;l<s.length;l++){var o=s[l];ve(o.effect),be(o.reaction),vt(o.fn)}}finally{ve(n),be(i)}}Y=t.p,t.m=!0}return{}}function Nl(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(we in e)kt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&we in n&&kt(n)}}}function kt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{kt(e[i],t)}catch{}const n=Cn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const i=Nr(n);for(let l in i){const o=i[l].get;if(o)try{o.call(e)}catch{}}}}}const ql=["touchstart","touchmove"];function Ll(e){return ql.includes(e)}let yn=!1;function Ml(){yn||(yn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Qn(e){var t=U,n=V;be(null),ve(null);try{return e()}finally{be(t),ve(n)}}function er(e,t,n,i=n){e.addEventListener(t,()=>Qn(n));const l=e.__on_r;l?e.__on_r=()=>{l(),i(!0)}:e.__on_r=()=>i(!0),Ml()}const jl=new Set,wn=new Set;function Bl(e,t,n,i){function l(o){if(i.capture||Be.call(t,o),!o.cancelBubble)return Qn(()=>n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Al(()=>{t.addEventListener(e,l,i)}):t.addEventListener(e,l,i),l}function Pe(e,t,n,i,l){var o={capture:i,passive:l},s=Bl(e,t,n,o);(t===document.body||t===window||t===document)&&yl(()=>{t.removeEventListener(e,s,o)})}function Be(e){var E;var t=this,n=t.ownerDocument,i=e.type,l=((E=e.composedPath)==null?void 0:E.call(e))||[],o=l[0]||e.target,s=0,y=e.__root;if(y){var d=l.indexOf(y);if(d!==-1&&(t===document||t===window)){e.__root=t;return}var a=l.indexOf(t);if(a===-1)return;d<=a&&(s=d)}if(o=l[s]||e.target,o!==t){Rr(e,"currentTarget",{configurable:!0,get(){return o||n}});var p=U,f=V;be(null),ve(null);try{for(var _,g=[];o!==null;){var b=o.assignedSlot||o.parentNode||o.host||null;try{var C=o["__"+i];if(C!==void 0&&!o.disabled)if(Ft(C)){var[k,...c]=C;k.apply(o,[e,...c])}else C.call(o,e)}catch(S){_?g.push(S):_=S}if(e.cancelBubble||b===t||b===null)break;o=b}if(_){for(let S of g)queueMicrotask(()=>{throw S});throw _}}finally{e.__root=t,delete e.currentTarget,be(p),ve(f)}}}function tr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Pt(e,t){var n=V;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Se(e,t){var n=(t&al)!==0,i=(t&fl)!==0,l,o=!e.startsWith("<!>");return()=>{l===void 0&&(l=tr(o?e:"<!>"+e),n||(l=We(l)));var s=i?document.importNode(l,!0):l.cloneNode(!0);if(n){var y=We(s),d=s.lastChild;Pt(y,d)}else Pt(s,s);return s}}function Ee(e,t){e!==null&&e.before(t)}function ft(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n==null?"":n+"")}function Ul(e,t){return Vl(e,t)}const ke=new Map;function Vl(e,{target:t,anchor:n,props:i={},events:l,context:o,intro:s=!0}){_l();var y=new Set,d=f=>{for(var _=0;_<f.length;_++){var g=f[_];if(!y.has(g)){y.add(g);var b=Ll(g);t.addEventListener(g,Be,{passive:b});var C=ke.get(g);C===void 0?(document.addEventListener(g,Be,{passive:b}),ke.set(g,1)):ke.set(g,C+1)}}};d(It(jl)),wn.add(d);var a=void 0,p=bl(()=>{var f=n??t.appendChild(Nn());return Re(()=>{if(o){pt({});var _=Y;_.c=o}l&&(i.$$events=l),a=e(f,i)||{},o&&gt()}),()=>{var b;for(var _ of y){t.removeEventListener(_,Be);var g=ke.get(_);--g===0?(document.removeEventListener(_,Be),ke.delete(_)):ke.set(_,g)}wn.delete(d),f!==n&&((b=f.parentNode)==null||b.removeChild(f))}});return Wl.set(a,p),a}let Wl=new WeakMap;function nr(e,t,n=!1){var i=e,l=null,o=null,s=ee,y=n?Rt:0,d=!1;const a=(f,_=!0)=>{d=!0,p(_,f)},p=(f,_)=>{s!==(s=f)&&(s?(l?it(l):_&&(l=Re(()=>_(i))),o&&lt(o,()=>{o=null})):(o?it(o):_&&(o=Re(()=>_(i))),l&&lt(l,()=>{l=null})))};dt(()=>{d=!1,t(a),d||p(null,null)},y)}function $l(e,t){return t}function Gl(e,t,n,i){for(var l=[],o=t.length,s=0;s<o;s++)Mt(t[s].e,l,!0);var y=o>0&&l.length===0&&n!==null;if(y){var d=n.parentNode;pl(d),d.append(n),i.clear(),ye(e,t[0].prev,t[o-1].next)}Yn(l,()=>{for(var a=0;a<o;a++){var p=t[a];y||(i.delete(p.k),ye(e,p.prev,p.next)),he(p.e,!y)}})}function Yl(e,t,n,i,l,o=null){var s=e,y={flags:t,items:new Map,first:null};{var d=e;s=d.appendChild(Nn())}var a=null,p=!1,f=qn(()=>{var _=n();return Ft(_)?_:_==null?[]:It(_)});dt(()=>{var _=B(f),g=_.length;if(!(p&&g===0)){p=g===0;{var b=U;zl(_,y,s,l,t,(b.f&fe)!==0,i)}o!==null&&(g===0?a?it(a):a=Re(()=>o(s)):a!==null&&lt(a,()=>{a=null})),B(f)}})}function zl(e,t,n,i,l,o,s,y){var d=e.length,a=t.items,p=t.first,f=p,_,g=null,b=[],C=[],k,c,E,S;for(S=0;S<d;S+=1){if(k=e[S],c=s(k,S),E=a.get(c),E===void 0){var L=f?f.e.nodes_start:n;g=Kl(L,t,g,g===null?t.first:g.next,k,c,S,i,l),a.set(c,g),b=[],C=[],f=g.next;continue}if(Hl(E,k,S),E.e.f&fe&&it(E.e),E!==f){if(_!==void 0&&_.has(E)){if(b.length<C.length){var m=C[0],x;g=m.prev;var r=b[0],w=b[b.length-1];for(x=0;x<b.length;x+=1)bn(b[x],m,n);for(x=0;x<C.length;x+=1)_.delete(C[x]);ye(t,r.prev,w.next),ye(t,g,r),ye(t,w,m),f=m,g=w,S-=1,b=[],C=[]}else _.delete(E),bn(E,f,n),ye(t,E.prev,E.next),ye(t,E,g===null?t.first:g.next),ye(t,g,E),g=E;continue}for(b=[],C=[];f!==null&&f.k!==c;)(o||!(f.e.f&fe))&&(_??(_=new Set)).add(f),C.push(f),f=f.next;if(f===null)continue;E=f}b.push(E),g=E,f=E.next}if(f!==null||_!==void 0){for(var T=_===void 0?[]:It(_);f!==null;)(o||!(f.e.f&fe))&&T.push(f),f=f.next;var N=T.length;if(N>0){var q=d===0?n:null;Gl(t,T,q,a)}}V.first=t.first&&t.first.e,V.last=g&&g.e}function Hl(e,t,n,i){Fn(e.v,t),e.i=n}function Kl(e,t,n,i,l,o,s,y,d,a){var p=(d&tl)!==0,f=(d&rl)===0,_=p?f?qt(l):re(l):l,g=d&nl?re(s):s,b={i:g,v:_,k:o,a:null,e:null,prev:n,next:i};try{return b.e=Re(()=>y(e,_,g),vl),b.e.prev=n&&n.e,b.e.next=i&&i.e,n===null?t.first=b:(n.next=b,n.e.next=b.e),i!==null&&(i.prev=b,i.e.prev=b.e),b}finally{}}function bn(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,l=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==i;){var s=ct(o);l.before(o),o=s}}function ye(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Jl(e,t,n,i,l){var o=e,s="",y;dt(()=>{s!==(s=t()??"")&&(y!==void 0&&(he(y),y=void 0),s!==""&&(y=Re(()=>{var d=s+"",a=tr(d);Pt(We(a),a.lastChild),o.before(a)})))})}function Zl(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function Xl(e,t,n=t){var i=He();er(e,"input",l=>{var o=l?e.defaultValue:e.value;if(o=bt(e)?xt(o):o,n(o),i&&o!==(o=t())){var s=e.selectionStart,y=e.selectionEnd;e.value=o??"",y!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(y,e.value.length))}}),at(t)==null&&e.value&&n(bt(e)?xt(e.value):e.value),Un(()=>{var l=t();bt(e)&&l===xt(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function bt(e){var t=e.type;return t==="number"||t==="range"}function xt(e){return e===""?null:+e}function rr(e,t,n){if(e.multiple)return ti(e,t);for(var i of e.options){var l=Ve(i);if(dl(l,t)){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Ql(e,t){vt(()=>{var n=new MutationObserver(()=>{var i=e.__value;rr(e,i)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function ei(e,t,n=t){var i=!0;er(e,"change",l=>{var o=l?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(o),Ve);else{var y=e.querySelector(o)??e.querySelector("option:not([disabled])");s=y&&Ve(y)}n(s)}),vt(()=>{var l=t();if(rr(e,l,i),i&&l===void 0){var o=e.querySelector(":checked");o!==null&&(l=Ve(o),n(l))}e.__value=l,i=!1}),Ql(e)}function ti(e,t){for(var n of e.options)n.selected=~t.indexOf(Ve(n))}function Ve(e){return"__value"in e?e.__value:e.value}function ni(e=!1){const t=Y,n=t.l.u;if(!n)return;let i=()=>Nl(t.s);if(e){let l=0,o={};const s=De(()=>{let y=!1;const d=t.s;for(const a in d)d[a]!==o[a]&&(o[a]=d[a],y=!0);return y&&l++,l});i=()=>B(s)}n.b.length&&wl(()=>{xn(t,i),At(n.b)}),St(()=>{const l=at(()=>n.m.map(Mr));return()=>{for(const o of l)typeof o=="function"&&o()}}),n.a.length&&St(()=>{xn(t,i),At(n.a)})}function xn(e,t){if(e.l.s)for(const n of e.l.s)B(n);t()}let Qe=!1;function ri(e){var t=Qe;try{return Qe=!1,[e(),Qe]}finally{Qe=t}}function En(e){for(var t=V,n=V;t!==null&&!(t.f&(de|Ne));)t=t.parent;try{return ve(t),e()}finally{ve(n)}}function ue(e,t,n,i){var r;var l=(n&ll)!==0,o=!ze||(n&il)!==0,s=(n&ul)!==0,y=(n&sl)!==0,d=!1,a;s?[a,d]=ri(()=>e[t]):a=e[t];var p=we in e||Vr in e,f=s&&(((r=Fe(e,t))==null?void 0:r.set)??(p&&t in e&&(w=>e[t]=w)))||void 0,_=i,g=!0,b=!1,C=()=>(b=!0,g&&(g=!1,y?_=at(i):_=i),_);a===void 0&&i!==void 0&&(f&&o&&Hr(),a=C(),f&&f(a));var k;if(o)k=()=>{var w=e[t];return w===void 0?C():(g=!0,b=!1,w)};else{var c=En(()=>(l?De:qn)(()=>e[t]));c.f|=Br,k=()=>{var w=B(c);return w!==void 0&&(_=void 0),w===void 0?_:w}}if(!(n&ol))return k;if(f){var E=e.$$legacy;return function(w,T){return arguments.length>0?((!o||!T||E||d)&&f(T?k():w),w):k()}}var S=!1,L=!1,m=qt(a),x=En(()=>De(()=>{var w=k(),T=B(m);return S?(S=!1,L=!0,T):(L=!1,m.v=w)}));return l||(x.equals=Nt),function(w,T){if(arguments.length>0){const N=T?B(x):o&&s?oe(w):w;return x.equals(N)||(S=!0,H(m,N),b&&_!==void 0&&(_=N),at(()=>B(x))),w}return B(x)}}const li="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(li);el();var ii=Se('<nav class="menu svelte-q1uz4f"><div class="menu-container svelte-q1uz4f"><button class="menu-top svelte-q1uz4f">File</button> <div class="menu-item-container svelte-q1uz4f"><button class="svelte-q1uz4f">New</button> <button class="svelte-q1uz4f">Open..</button> <button class="svelte-q1uz4f">Save</button> <button class="svelte-q1uz4f">Save as..</button></div></div></nav>');function oi(e,t){let n=ue(t,"on_new",8,()=>{}),i=ue(t,"on_open",8,()=>{}),l=ue(t,"on_save",8,()=>{}),o=ue(t,"on_save_as",8,()=>{}),s=cl(null);function y(c){B(s)===c?H(s,null):H(s,c)}function d(c){H(s,null),c()}var a=ii(),p=J(a),f=J(p),_=se(f,2),g=J(_),b=se(g,2),C=se(b,2),k=se(C,2);$e(()=>Zl(_,"hidden",B(s)!=="file")),Pe("click",f,()=>{y("file")}),Pe("click",g,()=>{d(n())}),Pe("click",b,()=>{d(i())}),Pe("click",C,()=>{d(l())}),Pe("click",k,()=>{d(o())}),Ee(e,a)}var ui=Se('<span class="sub"> </span>'),si=Se('<nav class="no-print svelte-1m7tsxb"><div class="title svelte-1m7tsxb"><span class="main svelte-1m7tsxb">ChordPro Editor</span> <!></div> <!></nav>');function ai(e,t){pt(t,!1);let n=ue(t,"subtitle",8,""),i=ue(t,"on_new",8,()=>{}),l=ue(t,"on_open",8,()=>{}),o=ue(t,"on_save",8,()=>{}),s=ue(t,"on_save_as",8,()=>{});ni();var y=si(),d=J(y),a=se(J(d),2);{var p=_=>{var g=ui(),b=J(g);$e(()=>ft(b,`- ${n()??""}`)),Ee(_,g)};nr(a,_=>{n().length>0&&_(p)})}var f=se(d,2);oi(f,{get on_new(){return i()},get on_open(){return l()},get on_save(){return o()},get on_save_as(){return s()}}),Ee(e,y),gt()}function fi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var et={},An;function ci(){if(An)return et;An=1;function e(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}Object.defineProperty(et,"__esModule",{value:!0});var t,n,i,l,o,s,y,d,a,p={};function f(){if(n)return t;function C(c,E,S,L){var m=Error.call(this,c);return Object.setPrototypeOf&&Object.setPrototypeOf(m,C.prototype),m.expected=E,m.found=S,m.location=L,m.name="SyntaxError",m}function k(c,E,S){return S=S||" ",c.length>E?c:(E-=c.length,c+(S+=S.repeat(E)).slice(0,E))}return n=1,function(c,E){function S(){this.constructor=c}S.prototype=E.prototype,c.prototype=new S}(C,Error),C.prototype.format=function(c){var E="Error: "+this.message;if(this.location){var S,L=null;for(S=0;S<c.length;S++)if(c[S].source===this.location.source){L=c[S].text.split(/\r\n|\n|\r/g);break}var m=this.location.start,x=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(m):m,r=this.location.source+":"+x.line+":"+x.column;if(L){var w=this.location.end,T=k("",x.line.toString().length," "),N=L[m.line-1],q=(m.line===w.line?w.column:N.length+1)-m.column||1;E+=`
 --> `+r+`
`+T+` |
`+x.line+" | "+N+`
`+T+" | "+k("",m.column-1," ")+k("",q,"^")}else E+=`
 at `+r}return E},C.buildMessage=function(c,E){var S={literal:function(w){return'"'+m(w.text)+'"'},class:function(w){var T=w.parts.map(function(N){return Array.isArray(N)?x(N[0])+"-"+x(N[1]):x(N)});return"["+(w.inverted?"^":"")+T.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(w){return w.description}};function L(w){return w.charCodeAt(0).toString(16).toUpperCase()}function m(w){return w.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(T){return"\\x0"+L(T)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(T){return"\\x"+L(T)})}function x(w){return w.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(T){return"\\x0"+L(T)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(T){return"\\x"+L(T)})}function r(w){return S[w.type](w)}return"Expected "+function(w){var T,N,q=w.map(r);if(q.sort(),q.length>0){for(T=1,N=1;T<q.length;T++)q[T-1]!==q[T]&&(q[N]=q[T],N++);q.length=N}switch(q.length){case 1:return q[0];case 2:return q[0]+" or "+q[1];default:return q.slice(0,-1).join(", ")+", or "+q[q.length-1]}}(c)+" but "+function(w){return w?'"'+m(w)+'"':"end of input"}(E)+" found."},t={StartRules:["All"],SyntaxError:C,parse:function(c,E){var S,L,m,x,r={},w=(E=E!==void 0?E:{}).grammarSource,T={All:sn},N=sn,q="{title:",Ce="}",Ut="{subtitle:",Vt="{artist:",Wt="{c:",$t="{comment:",Gt="{",Yt="soc",zt="start_of_chorus",Ht="eoc",Kt="end_of_chorus",lr="[",ir="]",or=/^[\n\r]/,ge=/^[^}]/,Jt=/^[^{[\n\r]/,Zt=/^[A-Z]/,Xt=/^[^\]]/,Je={type:"any"},ur=je([`
`,"\r"],!1,!1),sr=X("{title:",!1),Ze=X(" ",!1),me=je(["}"],!0,!1),Oe=X("}",!1),ar=X("{subtitle:",!1),fr=X("{artist:",!1),cr=X("{c:",!1),vr=X("{comment:",!1),Qt=X("{",!1),dr=X("soc",!1),_r=X("start_of_chorus",!1),hr=X("eoc",!1),pr=X("end_of_chorus",!1),en=je(["{","[",`
`,"\r"],!0,!1),gr=X("[",!1),tn=je([["A","Z"]],!1,!1),nn=je(["]"],!0,!1),mr=X("]",!1),yr=function(v){return""},wr=function(v,h){return{header:v,content:h}},br=function(v,h,A){return{title:v,subTitle:h,artist:A}},xr=function(v){return v},Er=function(v){return v},Ar=function(v){return v},Sr=function(v){return{type:"comment",value:v}},rn=function(v,h){return h},Cr=function(v,h,A){return[v].concat(h)},Or=function(v){return{type:"verse",items:v}},Tr=function(v){return{type:"chorus",items:v}},ln=function(v,h){return h},kr=function(v,h){return[v].concat(h)},Pr=function(v){return{type:"line",items:v}},Fr=function(v){return{type:"text",value:v}},Ir=function(v){return{type:"chord",value:v}},u=0|E.peg$currPos,Te=[{line:1,column:1}],ie=u,Xe=E.peg$maxFailExpected||[],O=0|E.peg$silentFails;if(E.startRule){if(!(E.startRule in T))throw new Error(`Can't start parsing from rule "`+E.startRule+'".');N=T[E.startRule]}function X(v,h){return{type:"literal",text:v,ignoreCase:h}}function je(v,h,A){return{type:"class",parts:v,inverted:h,ignoreCase:A}}function on(v){var h,A=Te[v];if(A)return A;if(v>=Te.length)h=Te.length-1;else for(h=v;!Te[--h];);for(A={line:(A=Te[h]).line,column:A.column};h<v;)c.charCodeAt(h)===10?(A.line++,A.column=1):A.column++,h++;return Te[v]=A,A}function un(v,h,A){var F=on(v),j=on(h);return{source:w,start:{offset:v,line:F.line,column:F.column},end:{offset:h,line:j.line,column:j.column}}}function P(v){u<ie||(u>ie&&(ie=u,Xe=[]),Xe.push(v))}function sn(){var v,h,A,F,j;return v=u,h=function(){var D,G,K,R;return D=u,G=function(){var I,z,W,$,M;if(I=u,c.substr(u,7)===q?(z=q,u+=7):(z=r,O===0&&P(sr)),z!==r){if(c.charCodeAt(u)===32?u++:O===0&&P(Ze),W=u,$=[],M=c.charAt(u),ge.test(M)?u++:(M=r,O===0&&P(me)),M!==r)for(;M!==r;)$.push(M),M=c.charAt(u),ge.test(M)?u++:(M=r,O===0&&P(me));else $=r;(W=$!==r?c.substring(W,u):$)!==r?(c.charCodeAt(u)===125?($=Ce,u++):($=r,O===0&&P(Oe)),$!==r&&(M=mt())!==r?I=xr(W):(u=I,I=r)):(u=I,I=r)}else u=I,I=r;return I}(),G===r&&(G=null),K=function(){var I,z,W,$,M;if(I=u,c.substr(u,10)===Ut?(z=Ut,u+=10):(z=r,O===0&&P(ar)),z!==r){if(c.charCodeAt(u)===32?u++:O===0&&P(Ze),W=u,$=[],M=c.charAt(u),ge.test(M)?u++:(M=r,O===0&&P(me)),M!==r)for(;M!==r;)$.push(M),M=c.charAt(u),ge.test(M)?u++:(M=r,O===0&&P(me));else $=r;(W=$!==r?c.substring(W,u):$)!==r?(c.charCodeAt(u)===125?($=Ce,u++):($=r,O===0&&P(Oe)),$!==r&&(M=mt())!==r?I=Er(W):(u=I,I=r)):(u=I,I=r)}else u=I,I=r;return I}(),K===r&&(K=null),R=function(){var I,z,W,$,M;if(I=u,c.substr(u,8)===Vt?(z=Vt,u+=8):(z=r,O===0&&P(fr)),z!==r){if(c.charCodeAt(u)===32?u++:O===0&&P(Ze),W=u,$=[],M=c.charAt(u),ge.test(M)?u++:(M=r,O===0&&P(me)),M!==r)for(;M!==r;)$.push(M),M=c.charAt(u),ge.test(M)?u++:(M=r,O===0&&P(me));else $=r;(W=$!==r?c.substring(W,u):$)!==r?(c.charCodeAt(u)===125?($=Ce,u++):($=r,O===0&&P(Oe)),$!==r&&(M=mt())!==r?I=Ar(W):(u=I,I=r)):(u=I,I=r)}else u=I,I=r;return I}(),R===r&&(R=null),D=br(G,K,R),D}(),A=function(){var D,G,K,R,I,z,W;if(D=u,G=yt(),G!==r){if(K=[],R=u,(I=Q())!==r){if(z=[],(W=Q())!==r)for(;W!==r;)z.push(W),W=Q();else z=r;z!==r&&(W=yt())!==r?R=rn(G,W):(u=R,R=r)}else u=R,R=r;for(;R!==r;)if(K.push(R),R=u,(I=Q())!==r){if(z=[],(W=Q())!==r)for(;W!==r;)z.push(W),W=Q();else z=r;z!==r&&(W=yt())!==r?R=rn(G,W):(u=R,R=r)}else u=R,R=r;if(R=u,O++,c.length>u?(I=c.charAt(u),u++):(I=r,O===0&&P(Je)),O--,I===r?R=void 0:(u=R,R=r),R===r){if(R=[],(I=Q())!==r)for(;I!==r;)R.push(I),I=Q();else R=r;R===r&&(R=u,O++,c.length>u?(I=c.charAt(u),u++):(I=r,O===0&&P(Je)),O--,I===r?R=void 0:(u=R,R=r))}R!==r?D=Cr(G,K):(u=D,D=r)}else u=D,D=r;return D}(),A===r&&(A=u,F=u,O++,c.length>u?(j=c.charAt(u),u++):(j=r,O===0&&P(Je)),O--,j===r?F=void 0:(u=F,F=r),F!==r&&(F=yr()),A=F),A!==r?v=wr(h,A):(u=v,v=r),v}function Q(){var v;return v=c.charAt(u),or.test(v)?u++:(v=r,O===0&&P(ur)),v}function mt(){var v,h;if(v=[],(h=Q())!==r)for(;h!==r;)v.push(h),h=Q();else v=r;return v===r&&(v=u,O++,c.length>u?(h=c.charAt(u),u++):(h=r,O===0&&P(Je)),O--,h===r?v=void 0:(u=v,v=r)),v}function yt(){var v;return(v=function(){var h,A;return h=u,(A=an())!==r&&(A=Or(A)),h=A,h}())===r&&(v=function(){var h,A,F,j,D,G,K,R;return h=u,c.charCodeAt(u)===123?(A=Gt,u++):(A=r,O===0&&P(Qt)),A!==r?(c.substr(u,3)===Yt?(F=Yt,u+=3):(F=r,O===0&&P(dr)),F===r&&(c.substr(u,15)===zt?(F=zt,u+=15):(F=r,O===0&&P(_r))),F!==r?(c.charCodeAt(u)===125?(j=Ce,u++):(j=r,O===0&&P(Oe)),j!==r&&Q()!==r&&(D=an())!==r&&Q()!==r?(c.charCodeAt(u)===123?(G=Gt,u++):(G=r,O===0&&P(Qt)),G!==r?(c.substr(u,3)===Ht?(K=Ht,u+=3):(K=r,O===0&&P(hr)),K===r&&(c.substr(u,13)===Kt?(K=Kt,u+=13):(K=r,O===0&&P(pr))),K!==r?(c.charCodeAt(u)===125?(R=Ce,u++):(R=r,O===0&&P(Oe)),R!==r?h=Tr(D):(u=h,h=r)):(u=h,h=r)):(u=h,h=r)):(u=h,h=r)):(u=h,h=r)):(u=h,h=r),h}())===r&&(v=function(){var h,A,F,j,D;if(h=u,c.substr(u,3)===Wt?(A=Wt,u+=3):(A=r,O===0&&P(cr)),A===r&&(c.substr(u,9)===$t?(A=$t,u+=9):(A=r,O===0&&P(vr))),A!==r){if(c.charCodeAt(u)===32?u++:O===0&&P(Ze),F=u,j=[],D=c.charAt(u),ge.test(D)?u++:(D=r,O===0&&P(me)),D!==r)for(;D!==r;)j.push(D),D=c.charAt(u),ge.test(D)?u++:(D=r,O===0&&P(me));else j=r;(F=j!==r?c.substring(F,u):j)!==r?(c.charCodeAt(u)===125?(j=Ce,u++):(j=r,O===0&&P(Oe)),j!==r?h=Sr(F):(u=h,h=r)):(u=h,h=r)}else u=h,h=r;return h}()),v}function an(){var v,h,A,F,j;if(v=u,(h=wt())!==r){for(A=[],F=u,Q()!==r&&(j=wt())!==r?F=ln(h,j):(u=F,F=r);F!==r;)A.push(F),F=u,Q()!==r&&(j=wt())!==r?F=ln(h,j):(u=F,F=r);v=kr(h,A)}else u=v,v=r;return v}function wt(){var v,h;if(v=[],(h=cn())===r&&(h=fn()),h!==r)for(;h!==r;)v.push(h),(h=cn())===r&&(h=fn());else v=r;return v!==r&&(v=Pr(v)),v}function fn(){var v,h,A;if(v=u,h=[],A=c.charAt(u),Jt.test(A)?u++:(A=r,O===0&&P(en)),A!==r)for(;A!==r;)h.push(A),A=c.charAt(u),Jt.test(A)?u++:(A=r,O===0&&P(en));else h=r;return(v=h!==r?c.substring(v,u):h)!==r&&(v=Fr(v)),v}function cn(){var v,h,A,F,j,D,G;if(v=u,c.charCodeAt(u)===91?(h=lr,u++):(h=r,O===0&&P(gr)),h!==r){if(A=u,F=u,j=[],D=c.charAt(u),Zt.test(D)?u++:(D=r,O===0&&P(tn)),D!==r)for(;D!==r;)j.push(D),D=c.charAt(u),Zt.test(D)?u++:(D=r,O===0&&P(tn));else j=r;if(j!==r){for(D=[],G=c.charAt(u),Xt.test(G)?u++:(G=r,O===0&&P(nn));G!==r;)D.push(G),G=c.charAt(u),Xt.test(G)?u++:(G=r,O===0&&P(nn));F=j=[j,D]}else u=F,F=r;(A=F!==r?c.substring(A,u):F)!==r?(c.charCodeAt(u)===93?(F=ir,u++):(F=r,O===0&&P(mr)),F!==r?v=Ir(A):(u=v,v=r)):(u=v,v=r)}else u=v,v=r;return v}if(S=N(),E.peg$library)return{peg$result:S,peg$currPos:u,peg$FAILED:r,peg$maxFailExpected:Xe,peg$maxFailPos:ie};if(S!==r&&u===c.length)return S;throw S!==r&&u<c.length&&P({type:"end"}),L=Xe,m=ie<c.length?c.charAt(ie):null,x=ie<c.length?un(ie,ie+1):un(ie,ie),new C(C.buildMessage(L,m),L,m,x)}}}function _(){if(d)return y;function C(k,c){const E=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],S=["C","Db","D","D#","E","F","Gb","G","G#","A","A#","B"];if(k.length<1)return;let L="",m=0;for(;m<k.length;){if("CDEFGAB".indexOf(k[m])===-1){L+=k[m],m++;continue}let x=k[m];m++,m<k.length&&(k[m]!=="#"&&k[m]!=="b"||(x+=k[m],m++));let r=E.indexOf(x);r===-1&&(r=S.indexOf(x),r===-1&&console.error("Unknown chord root",x)),r+=c,r%=12,r<0&&(r=12+r),L+=E[r]}return L}return d=1,y={transpose:function(k,c){for(let E of k.content)if(["verse","chorus"].includes(E.type)){for(let S of E.items)if(S.type=="line")for(let L of S.items)L.type=="chord"&&(L.value=C(L.value,c))}return k},transposeChord:C}}var g=function(){if(a)return p;a=1;const C=f(),k=function(){if(l)return i;function S(m){let x="",r="";for(let T=0;T<m.items.length;T++){const N=m.items[T];let q;switch(N.value.length,N.type){case"chord":q=r.length-x.length,q>0&&(x+=" ".repeat(q)),x+=N.value+" ";break;case"text":r+=N.value,q=x.length-r.length,q>0&&(r+=" ".repeat(q))}}let w="";return x.length>0&&(w+=x+`
`),w+r}function L(m){var x="";for(let r=0;r<m.items.length;r++){const w=m.items[r];w.type=="line"&&(x+=S(w)+`
`)}return x}return l=1,i={processSong:function(m){var x="";m.header.title&&(x+=`Title: ${m.header.title}
`),m.header.subTitle&&(x+=`Subtitle: ${m.header.subTitle}
`),m.header.artist&&(x+=`Artist: ${m.header.artist}
`),x+=`
`;for(let r=0;r<m.content.length;r++){let w=m.content[r];r>0&&(x+=`

`),w.type!="verse"&&w.type!="chorus"||(x+=L(w))}return x},processVerse:L,processRow:S}}(),c=function(){if(s)return o;function S(m){let x=[],r=[],w=null;for(let N=0;N<m.items.length;N++){let q=m.items[N];q.type==="chord"?(x.push(q.value),w=q.value):q.type==="text"&&(w===null&&x.push(""),r.push(q.value),w=null)}let T='<table class="line">';return x.filter(N=>N!=="").length>0&&(T+='<tr class="line-chords">',T+=x.map(N=>`<td class="chord">${N}</td>`).join(`
`),T+="</tr>"),T+='<tr class="line-lyrics">',T+=r.map(N=>`<td class="lyrics">${N.replaceAll(" ","&nbsp;")}</td>`).join(`
`),T+="</tr>",T+="</table>",T}function L(m){let x=`<div class="${m.type}">
`;for(let r=0;r<m.items.length;r++)x+=S(m.items[r]);return x+="</div>",x}return s=1,o={processSong:function(m){var x=`<div class="jschordpro-song">

`;let r="";m.header.title&&m.header.title.length>0&&(r+=`<h1>${m.header.title}</h1>
`),m.header.subtitle&&m.header.subTitle.length>0&&(r+=`<h2>${m.header.subTitle}</h2>
`),m.header.artist&&m.header.artist.length>0&&(r+=`<h2>${m.header.artist}</h2>
`),r&&(x+=`<div class="header">
`,x+=r,x+=`</div>

`),x+=`<div class="content">
`;for(let w=0;w<m.content.length;w++)x+=L(m.content[w]);return(x+=`</div>
`)+`</div>
`}}}(),E=_();return p.parse=C.parse,p.to_ascii=k.processSong,p.to_html=c.processSong,p.transpose=E.transpose,p}(),b=e(g);return et.default=b,et}var vi=ci();const Et=fi(vi);var di=Se("<option> </option>"),_i=Se('<div class="error svelte-63iamr"> </div>'),hi=Se('<div class="preview svelte-63iamr"><div class="transpose no-print svelte-63iamr"><form class="no-print"><select class="no-print svelte-63iamr"></select></form></div> <!> <!></div>');function pi(e,t){pt(t,!0);let n=ue(t,"source",3,"");const i=[{id:-6,text:"-6"},{id:-5,text:"-5"},{id:-4,text:"-4"},{id:-3,text:"-3"},{id:-2,text:"-2"},{id:-1,text:"-1"},{id:0,text:"no transposition"},{id:1,text:"+1"},{id:2,text:"+2"},{id:3,text:"+3"},{id:4,text:"+4"},{id:5,text:"+5"},{id:6,text:"+6"}];let l=oe({transposeStep:0}),o=De(()=>{let g={html:"",err:null};try{let b=Et.parse(n());l.transposeStep!=0&&Et.transpose(b,l.transposeStep),g.html=Et.to_html(b)}catch(b){g.err=b.toString()}return g});var s=hi(),y=J(s),d=J(y),a=J(d);Yl(a,21,()=>i,$l,(g,b)=>{var C=di(),k={},c=J(C);$e(()=>{k!==(k=B(b).id)&&(C.value=(C.__value=B(b).id)==null?"":B(b).id),ft(c,B(b).text)}),Ee(g,C)});var p=se(y,2);{var f=g=>{var b=_i(),C=J(b);$e(()=>ft(C,B(o).err)),Ee(g,b)};nr(p,g=>{B(o).err!==null&&g(f)})}var _=se(p,2);Jl(_,()=>B(o).html),Pe("submit",d,g=>g.preventDefault()),ei(a,()=>l.transposeStep,g=>l.transposeStep=g),Ee(e,s),gt()}function gi(){if("showSaveFilePicker"in window){const t={types:[{description:"Chordpro text file",accept:{"text/plain":[".txt"]}}]};return window.showSaveFilePicker(t)}const e={type:"save-file",accepts:[{description:"Text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function mi(){if("showOpenFilePicker"in window){const t={types:[{description:"Chordpro",accept:{"text/plain":[".txt"]}}],excludeAcceptAllOption:!1,multiple:!1};return window.showOpenFilePicker(t).then(n=>n[0])}const e={type:"open-file",accepts:[{description:"Chordpro text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function yi(e){return e.text?e.text():new Promise(n=>{const i=new FileReader;i.addEventListener("loadend",function(){n(i.result)}),i.readAsText(e)})}function Sn(e,t){e.createWriter?e.createWriter().then(function(n){n.write(0,t).then(function(){return n.close()})}):e.createWritable().then(function(n){n.write(t).then(function(){return n.close()})})}var wi=Se(`<!> <main class="svelte-1f1vxka"><div class="editor no-print svelte-1f1vxka"><textarea class="no-print svelte-1f1vxka">
        ></textarea></div> <div class="preview svelte-1f1vxka"><!></div></main> <footer class="no-print svelte-1f1vxka"> </footer>`,1);function bi(e,t){pt(t,!0);let n=ue(t,"song",3,"");const i="chooseFileSystemEntries"in window||"showOpenFilePicker"in window;let l,o=dn(oe(n())),s=dn(oe(n()));function y(){H(o,"")}async function d(){l=await mi();try{let r=await l.getFile();H(o,oe(await yi(r)))}catch(r){console.error("read failed: ",r)}}async function a(){if(l)try{await Sn(l,B(o))}catch(r){const w="Unable to save file";console.error(w,r),alert(w)}}async function p(){if(!i){console.error("this browser does not support access to file system");return}try{l=await gi()}catch(r){if(r.name==="AbortError")return;const w="An error occured trying to open the file.";console.error(w,r),alert(w);return}try{await Sn(l,B(o))}catch(r){const w="Unable to save file.";console.error(w,r),alert(w);return}}var f;function _(r,w,T){f&&clearTimeout(f),f=setTimeout(()=>{T(w)},r)}St(()=>{_(1e3,B(o),r=>{H(s,oe(r))})});var g=wi(),b=hl(g),C=De(()=>l&&l.name);ai(b,{get subtitle(){return B(C)},on_open:d,on_new:y,on_save:a,on_save_as:p});var k=se(b,2),c=J(k),E=J(c),S=se(c,2),L=J(S);pi(L,{get source(){return B(s)}});var m=se(k,2),x=J(m);$e(()=>ft(x,`BlueSoft Â© ${new Date().getFullYear()??""}`)),Xl(E,()=>B(o),r=>H(o,r)),Ee(e,g),gt()}const xi=`{title: In My Time of Dyin'}
{subtitle: Bob Dylan}

[Am]In my time of dying
[Am]I don't want nobody to mourn
[Am]All I want for you to do
Is [D]take my body [Am]home

{start_of_chorus}
[Am]Well, well, well, so I can die easy
Well, well, [D]well, so I can die [Am]easy
[Am]Well, well, well, so I can die easy
[D]Jesus gonna make up my [G]dy[G#]ing [Am]bed
{end_of_chorus}

Well, meet me Jesus, meet me
Meet me in the middle of the air
If these wings should fail to me
Lord, won't you meet me with another pair

Lord, in my time of dying
I don't want nobody to cry
All I want you to do
Is take me when I die
`;Ul(bi,{target:document.body,props:{song:xi}});
