(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const a of u)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function s(u){const a={};return u.integrity&&(a.integrity=u.integrity),u.referrerPolicy&&(a.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?a.credentials="include":u.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(u){if(u.ep)return;u.ep=!0;const a=s(u);fetch(u.href,a)}})();const Xr=!1;var Pr=Array.isArray,ll=Array.prototype.indexOf,Tr=Array.from,ol=Object.defineProperty,Nt=Object.getOwnPropertyDescriptor,il=Object.getOwnPropertyDescriptors,al=Object.prototype,ul=Array.prototype,_n=Object.getPrototypeOf,Qr=Object.isExtensible;function we(e){return typeof e=="function"}function fl(e){return e()}function Ar(e){for(var n=0;n<e.length;n++)e[n]()}const Et=2,pn=4,ar=8,Or=16,Ot=32,se=64,Qe=128,bt=256,tr=512,pt=1024,Ft=2048,le=4096,Pt=8192,ur=16384,cl=32768,Fr=65536,vl=1<<17,dl=1<<19,mn=1<<20,xr=1<<21,Ut=Symbol("$state"),bn=Symbol("legacy props");function gn(e){return e===this.v}function hl(e,n){return e!=e?n==n:e!==n||e!==null&&typeof e=="object"||typeof e=="function"}function Ir(e){return!hl(e,this.v)}function _l(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function pl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ml(e){throw new Error("https://svelte.dev/e/effect_orphan")}function bl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function gl(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function yl(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function wl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Al(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ke=!1,xl=!1;function Cl(){ke=!0}const El=1,kl=2,Sl=16,Pl=1,Tl=2,yn=4,Ol=8,Fl=16,Il=1,Dl=2,dt=Symbol();let X=null;function tn(e){X=e}function Se(e,n=!1,s){var o=X={p:X,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};ke&&!n&&(X.l={s:null,u:null,r1:[],r2:te(!1)}),Fn(()=>{o.d=!0})}function Pe(e){const n=X;if(n!==null){const m=n.e;if(m!==null){var s=J,o=$;n.e=null;try{for(var u=0;u<m.length;u++){var a=m[u];Lt(a.effect),kt(a.reaction),cr(a.fn)}}finally{Lt(s),kt(o)}}X=n.p,n.m=!0}return{}}function Te(){return!ke||X!==null&&X.l===null}function At(e){if(typeof e!="object"||e===null||Ut in e)return e;const n=_n(e);if(n!==al&&n!==ul)return e;var s=new Map,o=Pr(e),u=yt(0),a=$,m=w=>{var b=$;kt(a);var g=w();return kt(b),g};return o&&s.set("length",yt(e.length)),new Proxy(e,{defineProperty(w,b,g){(!("value"in g)||g.configurable===!1||g.enumerable===!1||g.writable===!1)&&yl();var C=s.get(b);return C===void 0?(C=m(()=>yt(g.value)),s.set(b,C)):tt(C,m(()=>At(g.value))),!0},deleteProperty(w,b){var g=s.get(b);if(g===void 0)b in w&&s.set(b,m(()=>yt(dt)));else{if(o&&typeof b=="string"){var C=s.get("length"),E=Number(b);Number.isInteger(E)&&E<C.v&&tt(C,E)}tt(g,dt),en(u)}return!0},get(w,b,g){var S;if(b===Ut)return e;var C=s.get(b),E=b in w;if(C===void 0&&(!E||(S=Nt(w,b))!=null&&S.writable)&&(C=m(()=>yt(At(E?w[b]:dt))),s.set(b,C)),C!==void 0){var y=U(C);return y===dt?void 0:y}return Reflect.get(w,b,g)},getOwnPropertyDescriptor(w,b){var g=Reflect.getOwnPropertyDescriptor(w,b);if(g&&"value"in g){var C=s.get(b);C&&(g.value=U(C))}else if(g===void 0){var E=s.get(b),y=E==null?void 0:E.v;if(E!==void 0&&y!==dt)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return g},has(w,b){var y;if(b===Ut)return!0;var g=s.get(b),C=g!==void 0&&g.v!==dt||Reflect.has(w,b);if(g!==void 0||J!==null&&(!C||(y=Nt(w,b))!=null&&y.writable)){g===void 0&&(g=m(()=>yt(C?At(w[b]):dt)),s.set(b,g));var E=U(g);if(E===dt)return!1}return C},set(w,b,g,C){var F;var E=s.get(b),y=b in w;if(o&&b==="length")for(var S=g;S<E.v;S+=1){var L=s.get(S+"");L!==void 0?tt(L,dt):S in w&&(L=m(()=>yt(dt)),s.set(S+"",L))}E===void 0?(!y||(F=Nt(w,b))!=null&&F.writable)&&(E=m(()=>yt(void 0)),tt(E,m(()=>At(g))),s.set(b,E)):(y=E.v!==dt,tt(E,m(()=>At(g))));var N=Reflect.getOwnPropertyDescriptor(w,b);if(N!=null&&N.set&&N.set.call(C,g),!y){if(o&&typeof b=="string"){var D=s.get("length"),i=Number(b);Number.isInteger(i)&&i>=D.v&&tt(D,i+1)}en(u)}return!0},ownKeys(w){U(u);var b=Reflect.ownKeys(w).filter(E=>{var y=s.get(E);return y===void 0||y.v!==dt});for(var[g,C]of s)C.v!==dt&&!(g in w)&&b.push(g);return b},setPrototypeOf(){wl()}})}function en(e,n=1){tt(e,e.v+n)}const xe=new Map;function te(e,n){var s={f:0,v:e,reactions:null,equals:gn,rv:0,wv:0};return s}function yt(e,n){const s=te(e);return jn(s),s}function Dr(e,n=!1){var o;const s=te(e);return n||(s.equals=Ir),ke&&X!==null&&X.l!==null&&((o=X.l).s??(o.s=[])).push(s),s}function tt(e,n,s=!1){$!==null&&!Ct&&Te()&&($.f&(Et|Or))!==0&&!(ut!=null&&ut.includes(e))&&Al();let o=s?At(n):n;return wn(e,o)}function wn(e,n){if(!e.equals(n)){var s=e.v;Oe?xe.set(e,n):xe.set(e,s),e.v=n,e.wv=Bn(),An(e,Ft),Te()&&J!==null&&(J.f&pt)!==0&&(J.f&(Ot|se))===0&&(mt===null?Hl([e]):mt.push(e))}return n}function rn(e,n=1){var s=U(e),o=n===1?s++:s--;return tt(e,s),o}function An(e,n){var s=e.reactions;if(s!==null)for(var o=Te(),u=s.length,a=0;a<u;a++){var m=s[a],w=m.f;(w&Ft)===0&&(!o&&m===J||(St(m,n),(w&(pt|bt))!==0&&((w&Et)!==0?An(m,le):hr(m))))}}let Rl=!1;var nn,xn,Cn,En;function Nl(){if(nn===void 0){nn=window,xn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,n=Node.prototype,s=Text.prototype;Cn=Nt(n,"firstChild").get,En=Nt(n,"nextSibling").get,Qr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Qr(s)&&(s.__t=void 0)}}function kn(e=""){return document.createTextNode(e)}function Ce(e){return Cn.call(e)}function fr(e){return En.call(e)}function H(e,n){return Ce(e)}function Ll(e,n){{var s=Ce(e);return s instanceof Comment&&s.data===""?fr(s):s}}function K(e,n=1,s=!1){let o=e;for(;n--;)o=fr(o);return o}function Ml(e){e.textContent=""}function ee(e){var n=Et|Ft,s=$!==null&&($.f&Et)!==0?$:null;return J===null||s!==null&&(s.f&bt)!==0?n|=bt:J.f|=mn,{ctx:X,deps:null,effects:null,equals:gn,f:n,fn:e,reactions:null,rv:0,v:null,wv:0,parent:s??J}}function Sn(e){const n=ee(e);return jn(n),n}function er(e){const n=ee(e);return n.equals=Ir,n}function Pn(e){var n=e.effects;if(n!==null){e.effects=null;for(var s=0;s<n.length;s+=1)Tt(n[s])}}function jl(e){for(var n=e.parent;n!==null;){if((n.f&Et)===0)return n;n=n.parent}return null}function ql(e){var n,s=J;Lt(jl(e));try{Pn(e),n=Un(e)}finally{Lt(s)}return n}function Tn(e){var n=ql(e),s=(Rt||(e.f&bt)!==0)&&e.deps!==null?le:pt;St(e,s),e.equals(n)||(e.v=n,e.wv=Bn())}function On(e){J===null&&$===null&&ml(),$!==null&&($.f&bt)!==0&&J===null&&pl(),Oe&&_l()}function Bl(e,n){var s=n.last;s===null?n.last=n.first=e:(s.next=e,e.prev=s,n.last=e)}function oe(e,n,s,o=!0){var u=J,a={ctx:X,deps:null,nodes_start:null,nodes_end:null,f:e|Ft,first:null,fn:n,last:null,next:null,parent:u,prev:null,teardown:null,transitions:null,wv:0};if(s)try{Nr(a),a.f|=cl}catch(b){throw Tt(a),b}else n!==null&&hr(a);var m=s&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(mn|Qe))===0;if(!m&&o&&(u!==null&&Bl(a,u),$!==null&&($.f&Et)!==0)){var w=$;(w.effects??(w.effects=[])).push(a)}return a}function Fn(e){const n=oe(ar,null,!1);return St(n,pt),n.teardown=e,n}function Cr(e){On();var n=J!==null&&(J.f&Ot)!==0&&X!==null&&!X.m;if(n){var s=X;(s.e??(s.e=[])).push({fn:e,effect:J,reaction:$})}else{var o=cr(e);return o}}function Vl(e){return On(),In(e)}function Ul(e){const n=oe(se,e,!0);return(s={})=>new Promise(o=>{s.outro?rr(n,()=>{Tt(n),o(void 0)}):(Tt(n),o(void 0))})}function cr(e){return oe(pn,e,!1)}function In(e){return oe(ar,e,!0)}function re(e,n=[],s=ee){const o=n.map(s);return vr(()=>e(...o.map(U)))}function vr(e,n=0){return oe(ar|Or|n,e,!0)}function ne(e,n=!0){return oe(ar|Ot,e,!0,n)}function Dn(e){var n=e.teardown;if(n!==null){const s=Oe,o=$;sn(!0),kt(null);try{n.call(null)}finally{sn(s),kt(o)}}}function Rn(e,n=!1){var s=e.first;for(e.first=e.last=null;s!==null;){var o=s.next;(s.f&se)!==0?s.parent=null:Tt(s,n),s=o}}function Gl(e){for(var n=e.first;n!==null;){var s=n.next;(n.f&Ot)===0&&Tt(n),n=s}}function Tt(e,n=!0){var s=!1;if((n||(e.f&dl)!==0)&&e.nodes_start!==null){for(var o=e.nodes_start,u=e.nodes_end;o!==null;){var a=o===u?null:fr(o);o.remove(),o=a}s=!0}Rn(e,n&&!s),ir(e,0),St(e,ur);var m=e.transitions;if(m!==null)for(const b of m)b.stop();Dn(e);var w=e.parent;w!==null&&w.first!==null&&Nn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Nn(e){var n=e.parent,s=e.prev,o=e.next;s!==null&&(s.next=o),o!==null&&(o.prev=s),n!==null&&(n.first===e&&(n.first=o),n.last===e&&(n.last=s))}function rr(e,n){var s=[];Rr(e,s,!0),Ln(s,()=>{Tt(e),n&&n()})}function Ln(e,n){var s=e.length;if(s>0){var o=()=>--s||n();for(var u of e)u.out(o)}else n()}function Rr(e,n,s){if((e.f&Pt)===0){if(e.f^=Pt,e.transitions!==null)for(const m of e.transitions)(m.is_global||s)&&n.push(m);for(var o=e.first;o!==null;){var u=o.next,a=(o.f&Fr)!==0||(o.f&Ot)!==0;Rr(o,n,a?s:!1),o=u}}}function nr(e){Mn(e,!0)}function Mn(e,n){if((e.f&Pt)!==0){e.f^=Pt,(e.f&pt)===0&&(e.f^=pt),Fe(e)&&(St(e,Ft),hr(e));for(var s=e.first;s!==null;){var o=s.next,u=(s.f&Fr)!==0||(s.f&Ot)!==0;Mn(s,u?n:!1),s=o}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&a.in()}}let sr=[];function $l(){var e=sr;sr=[],Ar(e)}function Wl(e){sr.length===0&&queueMicrotask($l),sr.push(e)}let Ze=!1,Er=!1,lr=null,Gt=!1,Oe=!1;function sn(e){Oe=e}let Xe=[];let $=null,Ct=!1;function kt(e){$=e}let J=null;function Lt(e){J=e}let ut=null;function Yl(e){ut=e}function jn(e){$!==null&&$.f&xr&&(ut===null?Yl([e]):ut.push(e))}let at=null,_t=0,mt=null;function Hl(e){mt=e}let qn=1,or=0,Rt=!1;function Bn(){return++qn}function Fe(e){var E;var n=e.f;if((n&Ft)!==0)return!0;if((n&le)!==0){var s=e.deps,o=(n&bt)!==0;if(s!==null){var u,a,m=(n&tr)!==0,w=o&&J!==null&&!Rt,b=s.length;if(m||w){var g=e,C=g.parent;for(u=0;u<b;u++)a=s[u],(m||!((E=a==null?void 0:a.reactions)!=null&&E.includes(g)))&&(a.reactions??(a.reactions=[])).push(g);m&&(g.f^=tr),w&&C!==null&&(C.f&bt)===0&&(g.f^=bt)}for(u=0;u<b;u++)if(a=s[u],Fe(a)&&Tn(a),a.wv>e.wv)return!0}(!o||J!==null&&!Rt)&&St(e,pt)}return!1}function Kl(e,n){for(var s=n;s!==null;){if((s.f&Qe)!==0)try{s.fn(e);return}catch{s.f^=Qe}s=s.parent}throw Ze=!1,e}function zl(e){return(e.f&ur)===0&&(e.parent===null||(e.parent.f&Qe)===0)}function dr(e,n,s,o){if(Ze){if(s===null&&(Ze=!1),zl(n))throw e;return}s!==null&&(Ze=!0);{Kl(e,n);return}}function Vn(e,n,s=!0){var o=e.reactions;if(o!==null)for(var u=0;u<o.length;u++){var a=o[u];ut!=null&&ut.includes(e)||((a.f&Et)!==0?Vn(a,n,!1):n===a&&(s?St(a,Ft):(a.f&pt)!==0&&St(a,le),hr(a)))}}function Un(e){var S;var n=at,s=_t,o=mt,u=$,a=Rt,m=ut,w=X,b=Ct,g=e.f;at=null,_t=0,mt=null,Rt=(g&bt)!==0&&(Ct||!Gt||$===null),$=(g&(Ot|se))===0?e:null,ut=null,tn(e.ctx),Ct=!1,or++,e.f|=xr;try{var C=(0,e.fn)(),E=e.deps;if(at!==null){var y;if(ir(e,_t),E!==null&&_t>0)for(E.length=_t+at.length,y=0;y<at.length;y++)E[_t+y]=at[y];else e.deps=E=at;if(!Rt)for(y=_t;y<E.length;y++)((S=E[y]).reactions??(S.reactions=[])).push(e)}else E!==null&&_t<E.length&&(ir(e,_t),E.length=_t);if(Te()&&mt!==null&&!Ct&&E!==null&&(e.f&(Et|le|Ft))===0)for(y=0;y<mt.length;y++)Vn(mt[y],e);return u!==e&&(or++,mt!==null&&(o===null?o=mt:o.push(...mt))),C}finally{at=n,_t=s,mt=o,$=u,Rt=a,ut=m,tn(w),Ct=b,e.f^=xr}}function Jl(e,n){let s=n.reactions;if(s!==null){var o=ll.call(s,e);if(o!==-1){var u=s.length-1;u===0?s=n.reactions=null:(s[o]=s[u],s.pop())}}s===null&&(n.f&Et)!==0&&(at===null||!at.includes(n))&&(St(n,le),(n.f&(bt|tr))===0&&(n.f^=tr),Pn(n),ir(n,0))}function ir(e,n){var s=e.deps;if(s!==null)for(var o=n;o<s.length;o++)Jl(e,s[o])}function Nr(e){var n=e.f;if((n&ur)===0){St(e,pt);var s=J,o=X,u=Gt;J=e,Gt=!0;try{(n&Or)!==0?Gl(e):Rn(e),Dn(e);var a=Un(e);e.teardown=typeof a=="function"?a:null,e.wv=qn;var m=e.deps,w;Xr&&xl&&e.f&Ft}catch(b){dr(b,e,s,o||e.ctx)}finally{Gt=u,J=s}}}function Zl(){try{bl()}catch(e){if(lr!==null)dr(e,lr,null);else throw e}}function Xl(){var e=Gt;try{var n=0;for(Gt=!0;Xe.length>0;){n++>1e3&&Zl();var s=Xe,o=s.length;Xe=[];for(var u=0;u<o;u++){var a=to(s[u]);Ql(a)}xe.clear()}}finally{Er=!1,Gt=e,lr=null}}function Ql(e){var n=e.length;if(n!==0)for(var s=0;s<n;s++){var o=e[s];if((o.f&(ur|Pt))===0)try{Fe(o)&&(Nr(o),o.deps===null&&o.first===null&&o.nodes_start===null&&(o.teardown===null?Nn(o):o.fn=null))}catch(u){dr(u,o,null,o.ctx)}}}function hr(e){Er||(Er=!0,queueMicrotask(Xl));for(var n=lr=e;n.parent!==null;){n=n.parent;var s=n.f;if((s&(se|Ot))!==0){if((s&pt)===0)return;n.f^=pt}}Xe.push(n)}function to(e){for(var n=[],s=e;s!==null;){var o=s.f,u=(o&(Ot|se))!==0,a=u&&(o&pt)!==0;if(!a&&(o&Pt)===0){if((o&pn)!==0)n.push(s);else if(u)s.f^=pt;else{var m=$;try{$=s,Fe(s)&&Nr(s)}catch(g){dr(g,s,null,s.ctx)}finally{$=m}}var w=s.first;if(w!==null){s=w;continue}}var b=s.parent;for(s=s.next;s===null&&b!==null;)s=b.next,b=b.parent}return n}function U(e){var n=e.f,s=(n&Et)!==0;if($!==null&&!Ct){if(!(ut!=null&&ut.includes(e))){var o=$.deps;e.rv<or&&(e.rv=or,at===null&&o!==null&&o[_t]===e?_t++:at===null?at=[e]:(!Rt||!at.includes(e))&&at.push(e))}}else if(s&&e.deps===null&&e.effects===null){var u=e,a=u.parent;a!==null&&(a.f&bt)===0&&(u.f^=bt)}return s&&(u=e,Fe(u)&&Tn(u)),Oe&&xe.has(e)?xe.get(e):e.v}function Ee(e){var n=Ct;try{return Ct=!0,e()}finally{Ct=n}}const eo=-7169;function St(e,n){e.f=e.f&eo|n}function ro(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ut in e)kr(e);else if(!Array.isArray(e))for(let n in e){const s=e[n];typeof s=="object"&&s&&Ut in s&&kr(s)}}}function kr(e,n=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!n.has(e)){n.add(e),e instanceof Date&&e.getTime();for(let o in e)try{kr(e[o],n)}catch{}const s=_n(e);if(s!==Object.prototype&&s!==Array.prototype&&s!==Map.prototype&&s!==Set.prototype&&s!==Date.prototype){const o=il(s);for(let u in o){const a=o[u].get;if(a)try{a.call(e)}catch{}}}}}const no=["touchstart","touchmove"];function so(e){return no.includes(e)}let ln=!1;function lo(){ln||(ln=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var n;if(!e.defaultPrevented)for(const s of e.target.elements)(n=s.__on_r)==null||n.call(s)})},{capture:!0}))}function Gn(e){var n=$,s=J;kt(null),Lt(null);try{return e()}finally{kt(n),Lt(s)}}function oo(e,n,s,o=s){e.addEventListener(n,()=>Gn(s));const u=e.__on_r;u?e.__on_r=()=>{u(),o(!0)}:e.__on_r=()=>o(!0),lo()}const io=new Set,on=new Set;function ao(e,n,s,o={}){function u(a){if(o.capture||Ae.call(n,a),!a.cancelBubble)return Gn(()=>s==null?void 0:s.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Wl(()=>{n.addEventListener(e,u,o)}):n.addEventListener(e,u,o),u}function lt(e,n,s,o,u){var a={capture:o,passive:u},m=ao(e,n,s,a);(n===document.body||n===window||n===document)&&Fn(()=>{n.removeEventListener(e,m,a)})}function Ae(e){var F;var n=this,s=n.ownerDocument,o=e.type,u=((F=e.composedPath)==null?void 0:F.call(e))||[],a=u[0]||e.target,m=0,w=e.__root;if(w){var b=u.indexOf(w);if(b!==-1&&(n===document||n===window)){e.__root=n;return}var g=u.indexOf(n);if(g===-1)return;b<=g&&(m=b)}if(a=u[m]||e.target,a!==n){ol(e,"currentTarget",{configurable:!0,get(){return a||s}});var C=$,E=J;kt(null),Lt(null);try{for(var y,S=[];a!==null;){var L=a.assignedSlot||a.parentNode||a.host||null;try{var N=a["__"+o];if(N!=null&&(!a.disabled||e.target===a))if(Pr(N)){var[D,...i]=N;D.apply(a,[e,...i])}else N.call(a,e)}catch(R){y?S.push(R):y=R}if(e.cancelBubble||L===n||L===null)break;a=L}if(y){for(let R of S)queueMicrotask(()=>{throw R});throw y}}finally{e.__root=n,delete e.currentTarget,kt(C),Lt(E)}}}function $n(e){var n=document.createElement("template");return n.innerHTML=e,n.content}function Sr(e,n){var s=J;s.nodes_start===null&&(s.nodes_start=e,s.nodes_end=n)}function jt(e,n){var s=(n&Il)!==0,o=(n&Dl)!==0,u,a=!e.startsWith("<!>");return()=>{u===void 0&&(u=$n(a?e:"<!>"+e),s||(u=Ce(u)));var m=o||xn?document.importNode(u,!0):u.cloneNode(!0);if(s){var w=Ce(m),b=m.lastChild;Sr(w,b)}else Sr(m,m);return m}}function Mt(e,n){e!==null&&e.before(n)}function wt(e,n){var s=n==null?"":typeof n=="object"?n+"":n;s!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=s,e.nodeValue=s+"")}function uo(e,n){return fo(e,n)}const Xt=new Map;function fo(e,{target:n,anchor:s,props:o={},events:u,context:a,intro:m=!0}){Nl();var w=new Set,b=E=>{for(var y=0;y<E.length;y++){var S=E[y];if(!w.has(S)){w.add(S);var L=so(S);n.addEventListener(S,Ae,{passive:L});var N=Xt.get(S);N===void 0?(document.addEventListener(S,Ae,{passive:L}),Xt.set(S,1)):Xt.set(S,N+1)}}};b(Tr(io)),on.add(b);var g=void 0,C=Ul(()=>{var E=s??n.appendChild(kn());return ne(()=>{if(a){Se({});var y=X;y.c=a}u&&(o.$$events=u),g=e(E,o)||{},a&&Pe()}),()=>{var L;for(var y of w){n.removeEventListener(y,Ae);var S=Xt.get(y);--S===0?(document.removeEventListener(y,Ae),Xt.delete(y)):Xt.set(y,S)}on.delete(b),E!==s&&((L=E.parentNode)==null||L.removeChild(E))}});return co.set(g,C),g}let co=new WeakMap;function Lr(e,n,[s,o]=[0,0]){var u=e,a=null,m=null,w=dt,b=s>0?Fr:0,g=!1;const C=(y,S=!0)=>{g=!0,E(S,y)},E=(y,S)=>{w!==(w=y)&&(w?(a?nr(a):S&&(a=ne(()=>S(u))),m&&rr(m,()=>{m=null})):(m?nr(m):S&&(m=ne(()=>S(u,[s+1,o]))),a&&rr(a,()=>{a=null})))};vr(()=>{g=!1,n(C),g||E(null,null)},b)}function vo(e,n){return n}function ho(e,n,s,o){for(var u=[],a=n.length,m=0;m<a;m++)Rr(n[m].e,u,!0);var w=a>0&&u.length===0&&s!==null;if(w){var b=s.parentNode;Ml(b),b.append(s),o.clear(),Dt(e,n[0].prev,n[a-1].next)}Ln(u,()=>{for(var g=0;g<a;g++){var C=n[g];w||(o.delete(C.k),Dt(e,C.prev,C.next)),Tt(C.e,!w)}})}function _o(e,n,s,o,u,a=null){var m=e,w={flags:n,items:new Map,first:null};{var b=e;m=b.appendChild(kn())}var g=null,C=!1,E=er(()=>{var y=s();return Pr(y)?y:y==null?[]:Tr(y)});vr(()=>{var y=U(E),S=y.length;C&&S===0||(C=S===0,po(y,w,m,u,n,o,s),a!==null&&(S===0?g?nr(g):g=ne(()=>a(m)):g!==null&&rr(g,()=>{g=null})),U(E))})}function po(e,n,s,o,u,a,m){var w=e.length,b=n.items,g=n.first,C=g,E,y=null,S=[],L=[],N,D,i,F;for(F=0;F<w;F+=1){if(N=e[F],D=a(N,F),i=b.get(D),i===void 0){var R=C?C.e.nodes_start:s;y=bo(R,n,y,y===null?n.first:y.next,N,D,F,o,u,m),b.set(D,y),S=[],L=[],C=y.next;continue}if(mo(i,N,F),(i.e.f&Pt)!==0&&nr(i.e),i!==C){if(E!==void 0&&E.has(i)){if(S.length<L.length){var j=L[0],k;y=j.prev;var T=S[0],t=S[S.length-1];for(k=0;k<S.length;k+=1)an(S[k],j,s);for(k=0;k<L.length;k+=1)E.delete(L[k]);Dt(n,T.prev,t.next),Dt(n,y,T),Dt(n,t,j),C=j,y=t,F-=1,S=[],L=[]}else E.delete(i),an(i,C,s),Dt(n,i.prev,i.next),Dt(n,i,y===null?n.first:y.next),Dt(n,y,i),y=i;continue}for(S=[],L=[];C!==null&&C.k!==D;)(C.e.f&Pt)===0&&(E??(E=new Set)).add(C),L.push(C),C=C.next;if(C===null)continue;i=C}S.push(i),y=i,C=i.next}if(C!==null||E!==void 0){for(var P=E===void 0?[]:Tr(E);C!==null;)(C.e.f&Pt)===0&&P.push(C),C=C.next;var I=P.length;if(I>0){var B=w===0?s:null;ho(n,P,B,b)}}J.first=n.first&&n.first.e,J.last=y&&y.e}function mo(e,n,s,o){wn(e.v,n),e.i=s}function bo(e,n,s,o,u,a,m,w,b,g){var C=(b&El)!==0,E=(b&Sl)===0,y=C?E?Dr(u):te(u):u,S=(b&kl)===0?m:te(m),L={i:S,v:y,k:a,a:null,e:null,prev:s,next:o};try{return L.e=ne(()=>w(e,y,S,g),Rl),L.e.prev=s&&s.e,L.e.next=o&&o.e,s===null?n.first=L:(s.next=L,s.e.next=L.e),o!==null&&(o.prev=L,o.e.prev=L.e),L}finally{}}function an(e,n,s){for(var o=e.next?e.next.e.nodes_start:s,u=n?n.e.nodes_start:s,a=e.e.nodes_start;a!==o;){var m=fr(a);u.before(a),a=m}}function Dt(e,n,s){n===null?e.first=s:(n.next=s,n.e.next=s&&s.e),s!==null&&(s.prev=n,s.e.prev=n&&n.e)}function go(e,n,s,o,u){var a=e,m="",w;vr(()=>{m!==(m=n()??"")&&(w!==void 0&&(Tt(w),w=void 0),m!==""&&(w=ne(()=>{var b=m+"",g=$n(b);Sr(Ce(g),g.lastChild),a.before(g)})))})}function yo(e,n,s){cr(()=>{var o=Ee(()=>n(e,s==null?void 0:s())||{});if(o!=null&&o.destroy)return()=>o.destroy()})}const un=[...` 	
\r\f \v\uFEFF`];function wo(e,n,s){var o=e==null?"":""+e;if(n&&(o=o?o+" "+n:n),s){for(var u in s)if(s[u])o=o?o+" "+u:u;else if(o.length)for(var a=u.length,m=0;(m=o.indexOf(u,m))>=0;){var w=m+a;(m===0||un.includes(o[m-1]))&&(w===o.length||un.includes(o[w]))?o=(m===0?"":o.substring(0,m))+o.substring(w+1):m=w}}return o===""?null:o}function Qt(e,n,s,o,u,a){var m=e.__className;if(m!==s||m===void 0){var w=wo(s,o,a);w==null?e.removeAttribute("class"):e.className=w,e.__className=s}else if(a&&u!==a)for(var b in a){var g=!!a[b];(u==null||g!==!!u[b])&&e.classList.toggle(b,g)}return a}function Ao(e,n,s=n){var o=Te();oo(e,"input",u=>{var a=u?e.defaultValue:e.value;if(a=gr(e)?yr(a):a,s(a),o&&a!==(a=n())){var m=e.selectionStart,w=e.selectionEnd;e.value=a??"",w!==null&&(e.selectionStart=m,e.selectionEnd=Math.min(w,e.value.length))}}),Ee(n)==null&&e.value&&s(gr(e)?yr(e.value):e.value),In(()=>{var u=n();gr(e)&&u===yr(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function gr(e){var n=e.type;return n==="number"||n==="range"}function yr(e){return e===""?null:+e}function Wn(e=!1){const n=X,s=n.l.u;if(!s)return;let o=()=>ro(n.s);if(e){let u=0,a={};const m=ee(()=>{let w=!1;const b=n.s;for(const g in b)b[g]!==a[g]&&(a[g]=b[g],w=!0);return w&&u++,u});o=()=>U(m)}s.b.length&&Vl(()=>{fn(n,o),Ar(s.b)}),Cr(()=>{const u=Ee(()=>s.m.map(fl));return()=>{for(const a of u)typeof a=="function"&&a()}}),s.a.length&&Cr(()=>{fn(n,o),Ar(s.a)})}function fn(e,n){if(e.l.s)for(const s of e.l.s)U(s);n()}let ze=!1;function xo(e){var n=ze;try{return ze=!1,[e(),ze]}finally{ze=n}}const Co={get(e,n){if(!e.exclude.includes(n))return U(e.version),n in e.special?e.special[n]():e.props[n]},set(e,n,s){return n in e.special||(e.special[n]=ot({get[n](){return e.props[n]}},n,yn)),e.special[n](s),rn(e.version),!0},getOwnPropertyDescriptor(e,n){if(!e.exclude.includes(n)&&n in e.props)return{enumerable:!0,configurable:!0,value:e.props[n]}},deleteProperty(e,n){return e.exclude.includes(n)||(e.exclude.push(n),rn(e.version)),!0},has(e,n){return e.exclude.includes(n)?!1:n in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(n=>!e.exclude.includes(n))}};function Eo(e,n){return new Proxy({props:e,exclude:n,special:{},version:te(0)},Co)}const ko={get(e,n){let s=e.props.length;for(;s--;){let o=e.props[s];if(we(o)&&(o=o()),typeof o=="object"&&o!==null&&n in o)return o[n]}},set(e,n,s){let o=e.props.length;for(;o--;){let u=e.props[o];we(u)&&(u=u());const a=Nt(u,n);if(a&&a.set)return a.set(s),!0}return!1},getOwnPropertyDescriptor(e,n){let s=e.props.length;for(;s--;){let o=e.props[s];if(we(o)&&(o=o()),typeof o=="object"&&o!==null&&n in o){const u=Nt(o,n);return u&&!u.configurable&&(u.configurable=!0),u}}},has(e,n){if(n===Ut||n===bn)return!1;for(let s of e.props)if(we(s)&&(s=s()),s!=null&&n in s)return!0;return!1},ownKeys(e){const n=[];for(let s of e.props){we(s)&&(s=s());for(const o in s)n.includes(o)||n.push(o)}return n}};function So(...e){return new Proxy({props:e},ko)}function cn(e){var n;return((n=e.ctx)==null?void 0:n.d)??!1}function ot(e,n,s,o){var T;var u=(s&Pl)!==0,a=!ke||(s&Tl)!==0,m=(s&Ol)!==0,w=(s&Fl)!==0,b=!1,g;m?[g,b]=xo(()=>e[n]):g=e[n];var C=Ut in e||bn in e,E=m&&(((T=Nt(e,n))==null?void 0:T.set)??(C&&n in e&&(t=>e[n]=t)))||void 0,y=o,S=!0,L=!1,N=()=>(L=!0,S&&(S=!1,w?y=Ee(o):y=o),y);g===void 0&&o!==void 0&&(E&&a&&gl(),g=N(),E&&E(g));var D;if(a)D=()=>{var t=e[n];return t===void 0?N():(S=!0,L=!1,t)};else{var i=(u?ee:er)(()=>e[n]);i.f|=vl,D=()=>{var t=U(i);return t!==void 0&&(y=void 0),t===void 0?y:t}}if((s&yn)===0)return D;if(E){var F=e.$$legacy;return function(t,P){return arguments.length>0?((!a||!P||F||b)&&E(P?D():t),t):D()}}var R=!1,j=Dr(g),k=ee(()=>{var t=D(),P=U(j);return R?(R=!1,P):j.v=t});return m&&U(k),u||(k.equals=Ir),function(t,P){if(arguments.length>0){const I=P?U(k):a&&m?At(t):t;if(!k.equals(I)){if(R=!0,tt(j,I),L&&y!==void 0&&(y=I),cn(k))return t;Ee(()=>U(k))}return t}return cn(k)?k.v:U(k)}}const Po="5";var hn;typeof window<"u"&&((hn=window.__svelte??(window.__svelte={})).v??(hn.v=new Set)).add(Po);Cl();var To=jt('<button class="svelte-kn1b4h"> </button>'),Oo=jt('<nav class="menu svelte-kn1b4h"><div class="menu-container svelte-kn1b4h"><div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">File</button> <div><button class="svelte-kn1b4h">New</button> <button class="svelte-kn1b4h">Open..</button> <button class="svelte-kn1b4h">Save</button> <button class="svelte-kn1b4h">Save as..</button></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h"> </button> <div></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">Format</button> <div><button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button> <hr class="svelte-kn1b4h"> <button class="svelte-kn1b4h"> </button> <button class="svelte-kn1b4h"> </button></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">View</button> <div><button class="svelte-kn1b4h"> </button></div></div> <div class="dropdown svelte-kn1b4h"><button class="menu-top svelte-kn1b4h">Help</button> <div><a href="https://www.chordpro.org/chordpro/" class="svelte-kn1b4h">ChordPro Format</a> <a href="https://github.com/mnezerka/svelte-chordpro-editor" class="svelte-kn1b4h">Github Repository</a></div></div></div></nav>');function Fo(e,n){Se(n,!1);let s=ot(n,"transpose_steps",8,0),o=ot(n,"format",24,()=>({})),u=ot(n,"view",24,()=>({})),a=ot(n,"on_new",8,()=>{}),m=ot(n,"on_open",8,()=>{}),w=ot(n,"on_save",8,()=>{}),b=ot(n,"on_save_as",8,()=>{}),g=ot(n,"on_transpose",8,()=>{}),C=ot(n,"on_format_toggle",8,()=>{}),E=ot(n,"on_format_set",8,()=>{}),y=ot(n,"on_view_toggle",8,()=>{}),S=Dr(null);const L=[-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6];function N(Y){U(S)===Y?tt(S,null):tt(S,Y)}function D(Y,Q,ft){tt(S,null),Y(Q,ft)}function i(Y){const Q=ft=>{Y.contains(ft.target)||Y.dispatchEvent(new CustomEvent("outclick"))};return document.addEventListener("click",Q,!0),{destroy(){document.removeEventListener("click",Q,!0)}}}const F=()=>{tt(S,null)};function R(Y,Q){return Y<0?"-"+Y:Y>0?"+"+Y:Q!==void 0?Q:"no transposition"}function j(Y){return T(R(Y),Y==s())}function k(){let Y="Transpose",Q=R(s(),"");return Q&&(Y+=" ("+Q+")"),Y}function T(Y,Q){let ft=Y;return Q&&(ft+=" ✓"),ft}Wn();var t=Oo(),P=H(t),I=H(P),B=H(I),O=K(B,2);let W;var qt=H(O),Bt=K(qt,2),Vt=K(Bt,2),q=K(Vt,2),Z=K(I,2),It=H(Z),Ie=H(It),ie=K(It,2);let ae;_o(ie,5,()=>L,vo,(Y,Q)=>{var ft=To(),Kt=H(ft);re(zt=>wt(Kt,zt),[()=>j(U(Q))],er),lt("click",ft,()=>{D(g(),U(Q))}),Mt(Y,ft)});var ue=K(Z,2),fe=H(ue),ce=K(fe,2);let ve;var $t=H(ce),De=H($t),Wt=K($t,2),Re=H(Wt),Yt=K(Wt,2),Ne=H(Yt),Ht=K(Yt,4),Le=H(Ht),de=K(Ht,2),Me=H(de),he=K(ue,2),_e=H(he),pe=K(_e,2);let me;var be=H(pe),je=H(be),qe=K(he,2),ge=H(qe),Be=K(ge,2);let ye;yo(t,Y=>i==null?void 0:i(Y)),cr(()=>lt("outclick",t,()=>F())),re((Y,Q,ft,Kt,zt,Ve,Ue,_r,G,Ge,$e,We)=>{W=Qt(O,1,"menu-item-container svelte-kn1b4h",null,W,Y),wt(Ie,Q),ae=Qt(ie,1,"menu-item-container svelte-kn1b4h",null,ae,ft),ve=Qt(ce,1,"menu-item-container svelte-kn1b4h",null,ve,Kt),wt(De,zt),wt(Re,Ve),wt(Ne,Ue),wt(Le,_r),wt(Me,G),me=Qt(pe,1,"menu-item-container svelte-kn1b4h",null,me,Ge),wt(je,$e),ye=Qt(Be,1,"menu-item-container svelte-kn1b4h",null,ye,We)},[()=>({hidden:U(S)!=="file"}),k,()=>({hidden:U(S)!=="transpose"}),()=>({hidden:U(S)!=="format"}),()=>T("Title Left",o().title_align=="left"),()=>T("Title Center",o().title_align=="center"),()=>T("Title Right",o().title_align=="right"),()=>T("Color Title",o().color_title),()=>T("Color Chords",o().color_chords),()=>({hidden:U(S)!=="view"}),()=>T("ChordPro Cheat Sheet",u().cheatsheet),()=>({hidden:U(S)!=="help"})],er),lt("click",B,()=>{N("file")}),lt("click",qt,()=>{D(a())}),lt("click",Bt,()=>{D(m())}),lt("click",Vt,()=>{D(w())}),lt("click",q,()=>{D(b())}),lt("click",It,()=>{N("transpose")}),lt("click",fe,()=>{N("format")}),lt("click",$t,()=>{D(E(),"title_align","left")}),lt("click",Wt,()=>{D(E(),"title_align","center")}),lt("click",Yt,()=>{D(E(),"title_align","right")}),lt("click",Ht,()=>{D(C(),"color_title")}),lt("click",de,()=>{D(C(),"color_chords")}),lt("click",_e,()=>{N("view")}),lt("click",be,()=>{D(y(),"cheatsheet")}),lt("click",ge,()=>{N("help")}),Mt(e,t),Pe()}var Io=jt('<span class="sub"> </span>'),Do=jt('<nav class="no-print svelte-dzut9y"><div class="title svelte-dzut9y"><span class="main svelte-dzut9y">ChordPro Editor</span> <!></div> <!></nav>');function Ro(e,n){const s=Eo(n,["children","$$slots","$$events","$$legacy"]);Se(n,!1);let o=ot(n,"subtitle",8,"");Wn();var u=Do(),a=H(u),m=K(H(a),2);{var w=g=>{var C=Io(),E=H(C);re(()=>wt(E,`- ${o()??""}`)),Mt(g,C)};Lr(m,g=>{o().length>0&&g(w)})}var b=K(a,2);Fo(b,So(()=>s)),Mt(e,u),Pe()}function No(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Je={},vn;function Lo(){if(vn)return Je;vn=1;function e(N){return N&&N.__esModule&&Object.prototype.hasOwnProperty.call(N,"default")?N.default:N}Object.defineProperty(Je,"__esModule",{value:!0});var n,s,o,u,a,m,w,b,g,C={};function E(){if(s)return n;function N(i,F,R,j){var k=Error.call(this,i);return Object.setPrototypeOf&&Object.setPrototypeOf(k,N.prototype),k.expected=F,k.found=R,k.location=j,k.name="SyntaxError",k}function D(i,F,R){return R=R||" ",i.length>F?i:(F-=i.length,i+(R+=R.repeat(F)).slice(0,F))}return s=1,function(i,F){function R(){this.constructor=i}R.prototype=F.prototype,i.prototype=new R}(N,Error),N.prototype.format=function(i){var F="Error: "+this.message;if(this.location){var R,j=null;for(R=0;R<i.length;R++)if(i[R].source===this.location.source){j=i[R].text.split(/\r\n|\n|\r/g);break}var k=this.location.start,T=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(k):k,t=this.location.source+":"+T.line+":"+T.column;if(j){var P=this.location.end,I=D("",T.line.toString().length," "),B=j[k.line-1],O=(k.line===P.line?P.column:B.length+1)-k.column||1;F+=`
 --> `+t+`
`+I+` |
`+T.line+" | "+B+`
`+I+" | "+D("",k.column-1," ")+D("",O,"^")}else F+=`
 at `+t}return F},N.buildMessage=function(i,F){var R={literal:function(P){return'"'+k(P.text)+'"'},class:function(P){var I=P.parts.map(function(B){return Array.isArray(B)?T(B[0])+"-"+T(B[1]):T(B)});return"["+(P.inverted?"^":"")+I.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(P){return P.description}};function j(P){return P.charCodeAt(0).toString(16).toUpperCase()}function k(P){return P.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(I){return"\\x0"+j(I)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(I){return"\\x"+j(I)})}function T(P){return P.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(I){return"\\x0"+j(I)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(I){return"\\x"+j(I)})}function t(P){return R[P.type](P)}return"Expected "+function(P){var I,B,O=P.map(t);if(O.sort(),O.length>0){for(I=1,B=1;I<O.length;I++)O[I-1]!==O[I]&&(O[B]=O[I],B++);O.length=B}switch(O.length){case 1:return O[0];case 2:return O[0]+" or "+O[1];default:return O.slice(0,-1).join(", ")+", or "+O[O.length-1]}}(i)+" but "+function(P){return P?'"'+k(P)+'"':"end of input"}(F)+" found."},n={StartRules:["All"],SyntaxError:N,parse:function(i,F){var R,j,k,T,t={},P=(F=F!==void 0?F:{}).grammarSource,I={All:Hr},B=Hr,O="{",W="}",qt="title:",Bt="t:",Vt="meta: title",q="subtitle:",Z="st:",It="meta: subtitle",Ie="artist:",ie="meta: artist",ae="composer:",ue="meta: composer",fe="lyricist:",ce="meta: lyricist",ve="copyright:",$t="meta: copyright",De="album:",Wt="meta: album",Re="year:",Yt="meta: year",Ne="key:",Ht="meta: key",Le="capo:",de="meta: capo",Me="time:",he="meta: time",_e="tempo:",pe="meta: tempo",me="duration:",be="meta: duration",je="{c:",qe="{comment:",ge="soc",Be="start_of_chorus",ye="eoc",Y="end_of_chorus",Q="[",ft="]",Kt="sot",zt="start_of_tab",Ve="eot",Ue="end_of_tab",_r=/^[\n\r]/,G=/^[^}]/,Ge=/^[^{[\n\r]/,$e=/^[A-Z]/,We=/^[^\]]/,Mr=/^[^{\n\r]/,Ye={type:"any"},Yn=Zt([`
`,"\r"],!1,!1),st=M("{",!1),ct=M(" ",!1),z=Zt(["}"],!0,!1),et=M("}",!1),Hn=M("title:",!1),Kn=M("t:",!1),zn=M("meta: title",!1),Jn=M("subtitle:",!1),Zn=M("st:",!1),Xn=M("meta: subtitle",!1),Qn=M("artist:",!1),ts=M("meta: artist",!1),es=M("composer:",!1),rs=M("meta: composer",!1),ns=M("lyricist:",!1),ss=M("meta: lyricist",!1),ls=M("copyright:",!1),os=M("meta: copyright",!1),is=M("album:",!1),as=M("meta: album",!1),us=M("year:",!1),fs=M("meta: year",!1),cs=M("key:",!1),vs=M("meta: key",!1),ds=M("capo:",!1),hs=M("meta: capo",!1),_s=M("time:",!1),ps=M("meta: time",!1),ms=M("tempo:",!1),bs=M("meta: tempo",!1),gs=M("duration:",!1),ys=M("meta: duration",!1),ws=M("{c:",!1),As=M("{comment:",!1),xs=M("soc",!1),Cs=M("start_of_chorus",!1),Es=M("eoc",!1),ks=M("end_of_chorus",!1),jr=Zt(["{","[",`
`,"\r"],!0,!1),Ss=M("[",!1),qr=Zt([["A","Z"]],!1,!1),Br=Zt(["]"],!0,!1),Ps=M("]",!1),Ts=M("sot",!1),Os=M("start_of_tab",!1),Fs=M("eot",!1),Is=M("end_of_tab",!1),Vr=Zt(["{",`
`,"\r"],!0,!1),Ds=function(v){return""},Rs=function(v,l){return{header:v,content:l}},Ns=function(v){return v},Ls=function(v){return{type:"title",value:v}},Ms=function(v){return{type:"subtitle",value:v}},js=function(v){return{type:"artist",value:v}},qs=function(v){return{type:"composer",value:v}},Bs=function(v){return{type:"lyricist",value:v}},Vs=function(v){return{type:"copyright",value:v}},Us=function(v){return{type:"album",value:v}},Gs=function(v){return{type:"year",value:v}},$s=function(v){return{type:"key",value:v}},Ws=function(v){return{type:"capo",value:v}},Ys=function(v){return{type:"time",value:v}},Hs=function(v){return{type:"tempo",value:v}},Ks=function(v){return{type:"duration",value:v}},zs=function(v){return{type:"comment",value:v}},Ur=function(v,l){return l},Js=function(v,l,_){return[v].concat(l)},Zs=function(v){return{type:"verse",items:v}},Xs=function(v){return{type:"chorus",items:v}},Gr=function(v,l){return l},Qs=function(v,l){return[v].concat(l)},tl=function(v){return{type:"line",items:v}},el=function(v){return{type:"text",value:v}},rl=function(v){return{type:"chord",value:v}},nl=function(v){return{type:"tab",items:v}},$r=function(v,l){return l},sl=function(v,l){return[v].concat(l)},r=0|F.peg$currPos,Jt=[{line:1,column:1}],gt=r,He=F.peg$maxFailExpected||[],d=0|F.peg$silentFails;if(F.startRule){if(!(F.startRule in I))throw new Error(`Can't start parsing from rule "`+F.startRule+'".');B=I[F.startRule]}function M(v,l){return{type:"literal",text:v,ignoreCase:l}}function Zt(v,l,_){return{type:"class",parts:v,inverted:l,ignoreCase:_}}function Wr(v){var l,_=Jt[v];if(_)return _;if(v>=Jt.length)l=Jt.length-1;else for(l=v;!Jt[--l];);for(_={line:(_=Jt[l]).line,column:_.column};l<v;)i.charCodeAt(l)===10?(_.line++,_.column=1):_.column++,l++;return Jt[v]=_,_}function Yr(v,l,_){var x=Wr(v),A=Wr(l);return{source:P,start:{offset:v,line:x.line,column:x.column},end:{offset:l,line:A.line,column:A.column}}}function h(v){r<gt||(r>gt&&(gt=r,He=[]),He.push(v))}function Hr(){var v,l,_,x,A;return v=r,l=function(){var c,f,p;if(c=r,f=[],p=Kr(),p!==t)for(;p!==t;)f.push(p),p=Kr();else f=t;return f!==t&&(f=Ns(f)),c=f,c}(),l===t&&(l=null),_=function(){var c,f,p,V,nt,vt,it;if(c=r,f=pr(),f!==t){if(p=[],V=r,(nt=rt())!==t){if(vt=[],(it=rt())!==t)for(;it!==t;)vt.push(it),it=rt();else vt=t;vt!==t&&(it=pr())!==t?V=Ur(f,it):(r=V,V=t)}else r=V,V=t;for(;V!==t;)if(p.push(V),V=r,(nt=rt())!==t){if(vt=[],(it=rt())!==t)for(;it!==t;)vt.push(it),it=rt();else vt=t;vt!==t&&(it=pr())!==t?V=Ur(f,it):(r=V,V=t)}else r=V,V=t;if(V=r,d++,i.length>r?(nt=i.charAt(r),r++):(nt=t,d===0&&h(Ye)),d--,nt===t?V=void 0:(r=V,V=t),V===t){if(V=[],(nt=rt())!==t)for(;nt!==t;)V.push(nt),nt=rt();else V=t;V===t&&(V=r,d++,i.length>r?(nt=i.charAt(r),r++):(nt=t,d===0&&h(Ye)),d--,nt===t?V=void 0:(r=V,V=t))}V!==t?c=Js(f,p):(r=c,c=t)}else r=c,c=t;return c}(),_===t&&(_=r,x=r,d++,i.length>r?(A=i.charAt(r),r++):(A=t,d===0&&h(Ye)),d--,A===t?x=void 0:(r=x,x=t),x!==t&&(x=Ds()),_=x),_!==t?v=Rs(l,_):(r=v,v=t),v}function Kr(){var v;return(v=function(){var l,_,x,A,c,f;if(l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return i.substr(r,6)===qt?(p=qt,r+=6):(p=t,d===0&&h(Hn)),p===t&&(i.substr(r,2)===Bt?(p=Bt,r+=2):(p=t,d===0&&h(Kn)),p===t&&(i.substr(r,11)===Vt?(p=Vt,r+=11):(p=t,d===0&&h(zn)))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z));else c=t;(A=c!==t?i.substring(A,r):c)!==t?(i.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Ls(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return i.substr(r,9)===q?(p=q,r+=9):(p=t,d===0&&h(Jn)),p===t&&(i.substr(r,3)===Z?(p=Z,r+=3):(p=t,d===0&&h(Zn)),p===t&&(i.substr(r,14)===It?(p=It,r+=14):(p=t,d===0&&h(Xn)))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z));else c=t;(A=c!==t?i.substring(A,r):c)!==t?(i.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Ms(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return i.substr(r,7)===Ie?(p=Ie,r+=7):(p=t,d===0&&h(Qn)),p===t&&(i.substr(r,12)===ie?(p=ie,r+=12):(p=t,d===0&&h(ts))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z));else c=t;(A=c!==t?i.substring(A,r):c)!==t?(i.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=js(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return i.substr(r,9)===ae?(p=ae,r+=9):(p=t,d===0&&h(es)),p===t&&(i.substr(r,14)===ue?(p=ue,r+=14):(p=t,d===0&&h(rs))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z));else c=t;(A=c!==t?i.substring(A,r):c)!==t?(i.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=qs(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return i.substr(r,9)===fe?(p=fe,r+=9):(p=t,d===0&&h(ns)),p===t&&(i.substr(r,14)===ce?(p=ce,r+=14):(p=t,d===0&&h(ss))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z));else c=t;(A=c!==t?i.substring(A,r):c)!==t?(i.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Bs(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return i.substr(r,10)===ve?(p=ve,r+=10):(p=t,d===0&&h(ls)),p===t&&(i.substr(r,15)===$t?(p=$t,r+=15):(p=t,d===0&&h(os))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z));else c=t;(A=c!==t?i.substring(A,r):c)!==t?(i.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Vs(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return i.substr(r,6)===De?(p=De,r+=6):(p=t,d===0&&h(is)),p===t&&(i.substr(r,11)===Wt?(p=Wt,r+=11):(p=t,d===0&&h(as))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z));else c=t;(A=c!==t?i.substring(A,r):c)!==t?(i.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Us(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return i.substr(r,5)===Re?(p=Re,r+=5):(p=t,d===0&&h(us)),p===t&&(i.substr(r,10)===Yt?(p=Yt,r+=10):(p=t,d===0&&h(fs))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z));else c=t;(A=c!==t?i.substring(A,r):c)!==t?(i.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Gs(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return i.substr(r,4)===Ne?(p=Ne,r+=4):(p=t,d===0&&h(cs)),p===t&&(i.substr(r,9)===Ht?(p=Ht,r+=9):(p=t,d===0&&h(vs))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z));else c=t;(A=c!==t?i.substring(A,r):c)!==t?(i.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=$s(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return i.substr(r,5)===Le?(p=Le,r+=5):(p=t,d===0&&h(ds)),p===t&&(i.substr(r,10)===de?(p=de,r+=10):(p=t,d===0&&h(hs))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z));else c=t;(A=c!==t?i.substring(A,r):c)!==t?(i.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Ws(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return i.substr(r,5)===Me?(p=Me,r+=5):(p=t,d===0&&h(_s)),p===t&&(i.substr(r,10)===he?(p=he,r+=10):(p=t,d===0&&h(ps))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z));else c=t;(A=c!==t?i.substring(A,r):c)!==t?(i.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Ys(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return i.substr(r,6)===_e?(p=_e,r+=6):(p=t,d===0&&h(ms)),p===t&&(i.substr(r,11)===pe?(p=pe,r+=11):(p=t,d===0&&h(bs))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z));else c=t;(A=c!==t?i.substring(A,r):c)!==t?(i.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Hs(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f;if(l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t)if(x=function(){var p;return i.substr(r,9)===me?(p=me,r+=9):(p=t,d===0&&h(gs)),p===t&&(i.substr(r,14)===be?(p=be,r+=14):(p=t,d===0&&h(ys))),p}(),x!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(ct),A=r,c=[],f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z)),f!==t)for(;f!==t;)c.push(f),f=i.charAt(r),G.test(f)?r++:(f=t,d===0&&h(z));else c=t;(A=c!==t?i.substring(A,r):c)!==t?(i.charCodeAt(r)===125?(c=W,r++):(c=t,d===0&&h(et)),c!==t&&(f=ht())!==t?l=Ks(A):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;else r=l,l=t;return l}()),v}function rt(){var v;return v=i.charAt(r),_r.test(v)?r++:(v=t,d===0&&h(Yn)),v}function ht(){var v,l;if(v=[],(l=rt())!==t)for(;l!==t;)v.push(l),l=rt();else v=t;return v===t&&(v=r,d++,i.length>r?(l=i.charAt(r),r++):(l=t,d===0&&h(Ye)),d--,l===t?v=void 0:(r=v,v=t)),v}function pr(){var v;return(v=function(){var l,_;return l=r,(_=zr())!==t&&(_=Zs(_)),l=_,l}())===t&&(v=function(){var l,_,x,A,c,f,p,V;return l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t?(i.substr(r,3)===ge?(x=ge,r+=3):(x=t,d===0&&h(xs)),x===t&&(i.substr(r,15)===Be?(x=Be,r+=15):(x=t,d===0&&h(Cs))),x!==t?(i.charCodeAt(r)===125?(A=W,r++):(A=t,d===0&&h(et)),A!==t&&rt()!==t&&(c=zr())!==t&&rt()!==t?(i.charCodeAt(r)===123?(f=O,r++):(f=t,d===0&&h(st)),f!==t?(i.substr(r,3)===ye?(p=ye,r+=3):(p=t,d===0&&h(Es)),p===t&&(i.substr(r,13)===Y?(p=Y,r+=13):(p=t,d===0&&h(ks))),p!==t?(i.charCodeAt(r)===125?(V=W,r++):(V=t,d===0&&h(et)),V!==t?l=Xs(c):(r=l,l=t)):(r=l,l=t)):(r=l,l=t)):(r=l,l=t)):(r=l,l=t)):(r=l,l=t),l}())===t&&(v=function(){var l,_,x,A,c;if(l=r,i.substr(r,3)===je?(_=je,r+=3):(_=t,d===0&&h(ws)),_===t&&(i.substr(r,9)===qe?(_=qe,r+=9):(_=t,d===0&&h(As))),_!==t){if(i.charCodeAt(r)===32?r++:d===0&&h(ct),x=r,A=[],c=i.charAt(r),G.test(c)?r++:(c=t,d===0&&h(z)),c!==t)for(;c!==t;)A.push(c),c=i.charAt(r),G.test(c)?r++:(c=t,d===0&&h(z));else A=t;(x=A!==t?i.substring(x,r):A)!==t?(i.charCodeAt(r)===125?(A=W,r++):(A=t,d===0&&h(et)),A!==t?l=zs(x):(r=l,l=t)):(r=l,l=t)}else r=l,l=t;return l}())===t&&(v=function(){var l,_,x,A,c,f,p,V;return l=r,i.charCodeAt(r)===123?(_=O,r++):(_=t,d===0&&h(st)),_!==t?(i.substr(r,3)===Kt?(x=Kt,r+=3):(x=t,d===0&&h(Ts)),x===t&&(i.substr(r,12)===zt?(x=zt,r+=12):(x=t,d===0&&h(Os))),x!==t?(i.charCodeAt(r)===125?(A=W,r++):(A=t,d===0&&h(et)),A!==t&&rt()!==t?(c=function(){var nt,vt,it,xt,Ke;if(nt=r,vt=br(),vt!==t){for(it=[],xt=r,rt()!==t&&(Ke=br())!==t?xt=$r(vt,Ke):(r=xt,xt=t);xt!==t;)it.push(xt),xt=r,rt()!==t&&(Ke=br())!==t?xt=$r(vt,Ke):(r=xt,xt=t);nt=sl(vt,it)}else r=nt,nt=t;return nt}(),c!==t&&rt()!==t?(i.charCodeAt(r)===123?(f=O,r++):(f=t,d===0&&h(st)),f!==t?(i.substr(r,3)===Ve?(p=Ve,r+=3):(p=t,d===0&&h(Fs)),p===t&&(i.substr(r,10)===Ue?(p=Ue,r+=10):(p=t,d===0&&h(Is))),p!==t?(i.charCodeAt(r)===125?(V=W,r++):(V=t,d===0&&h(et)),V!==t?l=nl(c):(r=l,l=t)):(r=l,l=t)):(r=l,l=t)):(r=l,l=t)):(r=l,l=t)):(r=l,l=t)):(r=l,l=t),l}()),v}function zr(){var v,l,_,x,A;if(v=r,(l=mr())!==t){for(_=[],x=r,rt()!==t&&(A=mr())!==t?x=Gr(l,A):(r=x,x=t);x!==t;)_.push(x),x=r,rt()!==t&&(A=mr())!==t?x=Gr(l,A):(r=x,x=t);v=Qs(l,_)}else r=v,v=t;return v}function mr(){var v,l;if(v=[],(l=Zr())===t&&(l=Jr()),l!==t)for(;l!==t;)v.push(l),(l=Zr())===t&&(l=Jr());else v=t;return v!==t&&(v=tl(v)),v}function Jr(){var v,l,_;if(v=r,l=[],_=i.charAt(r),Ge.test(_)?r++:(_=t,d===0&&h(jr)),_!==t)for(;_!==t;)l.push(_),_=i.charAt(r),Ge.test(_)?r++:(_=t,d===0&&h(jr));else l=t;return(v=l!==t?i.substring(v,r):l)!==t&&(v=el(v)),v}function Zr(){var v,l,_,x,A,c,f;if(v=r,i.charCodeAt(r)===91?(l=Q,r++):(l=t,d===0&&h(Ss)),l!==t){if(_=r,x=r,A=[],c=i.charAt(r),$e.test(c)?r++:(c=t,d===0&&h(qr)),c!==t)for(;c!==t;)A.push(c),c=i.charAt(r),$e.test(c)?r++:(c=t,d===0&&h(qr));else A=t;if(A!==t){for(c=[],f=i.charAt(r),We.test(f)?r++:(f=t,d===0&&h(Br));f!==t;)c.push(f),f=i.charAt(r),We.test(f)?r++:(f=t,d===0&&h(Br));x=A=[A,c]}else r=x,x=t;(_=x!==t?i.substring(_,r):x)!==t?(i.charCodeAt(r)===93?(x=ft,r++):(x=t,d===0&&h(Ps)),x!==t?v=rl(_):(r=v,v=t)):(r=v,v=t)}else r=v,v=t;return v}function br(){var v,l,_;if(v=r,l=[],_=i.charAt(r),Mr.test(_)?r++:(_=t,d===0&&h(Vr)),_!==t)for(;_!==t;)l.push(_),_=i.charAt(r),Mr.test(_)?r++:(_=t,d===0&&h(Vr));else l=t;return v=l!==t?i.substring(v,r):l}if(R=B(),F.peg$library)return{peg$result:R,peg$currPos:r,peg$FAILED:t,peg$maxFailExpected:He,peg$maxFailPos:gt};if(R!==t&&r===i.length)return R;throw R!==t&&r<i.length&&h({type:"end"}),j=He,k=gt<i.length?i.charAt(gt):null,T=gt<i.length?Yr(gt,gt+1):Yr(gt,gt),new N(N.buildMessage(j,k),j,k,T)}}}function y(){if(b)return w;function N(D,i){const F=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],R=["C","Db","D","D#","E","F","Gb","G","G#","A","A#","B"];if(D.length<1)return;let j="",k=0;for(;k<D.length;){if("CDEFGAB".indexOf(D[k])===-1){j+=D[k],k++;continue}let T=D[k];k++,k<D.length&&(D[k]!=="#"&&D[k]!=="b"||(T+=D[k],k++));let t=F.indexOf(T);t===-1&&(t=R.indexOf(T),t===-1&&console.error("Unknown chord root",T)),t+=i,t%=12,t<0&&(t=12+t),j+=F[t]}return j}return b=1,w={transpose:function(D,i){for(let F of D.content)if(["verse","chorus"].includes(F.type)){for(let R of F.items)if(R.type=="line")for(let j of R.items)j.type=="chord"&&(j.value=N(j.value,i))}return D},transposeChord:N}}var S=function(){if(g)return C;g=1;const N=E(),D=function(){if(u)return o;function R(k){let T="",t="";for(let I=0;I<k.items.length;I++){const B=k.items[I];let O;switch(B.value.length,B.type){case"chord":O=t.length-T.length,O>0&&(T+=" ".repeat(O)),T+=B.value+" ";break;case"text":t+=B.value,O=T.length-t.length,O>0&&(t+=" ".repeat(O))}}let P="";return T.length>0&&(P+=T+`
`),P+t}function j(k){var T="";for(let t=0;t<k.items.length;t++){const P=k.items[t];P.type=="line"&&(T+=R(P)+`
`)}return T}return u=1,o={processSong:function(k){var T="";if(k.header)for(let t=0;t<k.header.length;t++){let P=k.header[t];switch(P.type){case"title":T+=`Title: ${P.value}
`;break;case"subtitle":T+=`Subtitle: ${P.value}
`;break;case"artist":T+=`Artist: ${P.value}
`}}T+=`
`;for(let t=0;t<k.content.length;t++){let P=k.content[t];t>0&&(T+=`

`),P.type!="verse"&&P.type!="chorus"||(T+=j(P))}return T},processVerse:j,processRow:R}}(),i=function(){if(m)return a;function R(k,T){let t=[],P=[],I=null;for(let O=0;O<k.items.length;O++){let W=k.items[O];W.type==="chord"?(t.push(W.value),I=W.value):W.type==="text"&&(I===null&&t.push(""),P.push(W.value),I=null)}let B='<table class="line">';return T&&(B+='<tr class="line-chords">',B+=t.map(O=>`<td class="chord">${O}</td>`).join(`
`),B+="</tr>"),B+='<tr class="line-lyrics">',B+=P.map(O=>`<td class="lyrics">${O.replaceAll(" ","&nbsp;")}</td>`).join(`
`),B+="</tr>",B+="</table>",B}function j(k){let T=function(P){for(let I=0;I<P.items.length;I++){let B=P.items[I];for(let O=0;O<B.items.length;O++)if(B.items[O].type==="chord")return!0}return!1}(k),t=`<div class="${k.type}">
`;for(let P=0;P<k.items.length;P++)t+=R(k.items[P],T);return t+="</div>",t}return m=1,a={processSong:function(k){var T=`<div class="jschordpro-song">

`;let t="";if(k.header)for(let P=0;P<k.header.length;P++){let I=k.header[P];switch(I.type){case"title":t+=`<h1 class="${I.type}">${I.value}</h1>
`;break;case"subtitle":case"artist":case"composer":case"lyricist":case"copyright":case"album":case"year":case"key":case"capo":case"time":case"tempo":case"duration":t+=`<h2 class="${I.type}">${I.value}</h2>
`;break;default:console.warn(`no formatting defined for header item of type "${I.type}".`)}}t&&(T+=`<div class="header">
`,T+=t,T+=`</div>

`),T+=`<div class="content">
`;for(let P=0;P<k.content.length;P++)T+=j(k.content[P]);return(T+=`</div>
`)+`</div>
`}}}(),F=y();return C.parse=N.parse,C.to_ascii=D.processSong,C.to_html=i.processSong,C.transpose=F.transpose,C}(),L=e(S);return Je.default=L,Je}var Mo=Lo();const wr=No(Mo);var jo=jt('<div class="error svelte-ww1tkt"> </div>'),qo=jt('<div class="preview svelte-ww1tkt"><!> <div><!></div></div>');function Bo(e,n){Se(n,!0);let s=ot(n,"source",3,""),o=ot(n,"transpose_steps",3,0),u=ot(n,"format",19,()=>({})),a=Sn(()=>{let y={html:"",err:null};try{let S=wr.parse(s());o()!=0&&wr.transpose(S,o()),y.html=wr.to_html(S)}catch(S){y.err=S.toString()}return y});function m(){let y="";return y+="meta-"+u().title_align+" ",u().color_title===!0&&(y+="color-title "),u().color_chords===!0&&(y+="color-chords"),y}var w=qo(),b=H(w);{var g=y=>{var S=jo(),L=H(S);re(()=>wt(L,U(a).err)),Mt(y,S)};Lr(b,y=>{U(a).err!==null&&y(g)})}var C=K(b,2),E=H(C);go(E,()=>U(a).html),re(y=>Qt(C,1,y,"svelte-ww1tkt"),[m]),Mt(e,w),Pe()}var Vo=jt(`<div class="cheatsheet svelte-lvi09b"><h1 class="svelte-lvi09b">ChordPro Cheat Sheet</h1> <p class="svelte-lvi09b"><b>Title</b> of the song:</p> <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Sub Title</b> - additional (less important) title of the song:</p> <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Author</b> of the song:</p> <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Chorus</b> is text between <i>start</i> and <i>end</i> identifiers (no empty lines allowed).</p> <pre class="svelte-lvi09b"></pre> or <pre class="svelte-lvi09b"></pre> <p class="svelte-lvi09b"><b>Chords</b> are inserted into the text between brackets <i>[</i> and <i>]</i> It is important to start each chord with capital letter to keep your text
machine readable and benefit from additional functionality (e.g.
transpositions). See example of verse with major and minor chords:</p> <pre class="svelte-lvi09b"></pre></div>`);function Uo(e){var n=Vo(),s=K(H(n),4);s.textContent=`{title: Song title}
`;var o=K(s,4);o.textContent=`{subtitle: Song subtitle}
`;var u=K(o,4);u.textContent=`{author: Bob Dylan}
`;var a=K(u,4);a.textContent=`{start_of_chorus}
First line of chorus
Second line of chorus
{end_of_chorus}
`;var m=K(a,2);m.textContent=`{soc}
First line of chorus
Second line of chorus
{eoc}
`;var w=K(m,4);w.textContent=`[Am]In my time of dying
[Am]I don't want nobody to mourn
[Am]All I want for you to do
Is [D]take my body [Am]home

`,Mt(e,n)}function Go(){if("showSaveFilePicker"in window){const n={types:[{description:"Chordpro text file",accept:{"text/plain":[".txt"]}}]};return window.showSaveFilePicker(n)}const e={type:"save-file",accepts:[{description:"Text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function $o(){if("showOpenFilePicker"in window){const n={types:[{description:"Chordpro",accept:{"text/plain":[".txt"]}}],excludeAcceptAllOption:!1,multiple:!1};return window.showOpenFilePicker(n).then(s=>s[0])}const e={type:"open-file",accepts:[{description:"Chordpro text file",extensions:["txt"],mimeTypes:["text/plain"]}]};return window.chooseFileSystemEntries(e)}function Wo(e){return e.text?e.text():new Promise(s=>{const o=new FileReader;o.addEventListener("loadend",function(){s(o.result)}),o.readAsText(e)})}function dn(e,n){e.createWriter?e.createWriter().then(function(s){s.write(0,n).then(function(){return s.close()})}):e.createWritable().then(function(s){s.write(n).then(function(){return s.close()})})}function Yo(e){return e.replace(/\r\n|\r/g,`
`)}const Ho=`{title: In My Time of Dyin'}
{artist: Bob Dylan}

[Am]In my time of dying
[Am]I don't want nobody to mourn
[Am]All I want for you to do
Is [D]take my body [Am]home

{start_of_chorus}
[Am]Well, well, well, so I can die easy
Well, well, [D]well, so I can die [Am]easy
[Am]Well, well, well, so I can die easy
[D]Jesus gonna make up my [G]dy[G#]ing [Am]bed
{end_of_chorus}

Well, meet me Jesus, meet me
Meet me in the middle of the air
If these wings should fail to me
Lord, won't you meet me with another pair

Lord, in my time of dying
I don't want nobody to cry
All I want you to do
Is take me when I die
`,Ko=`{title: Song Title}
{artist: Song Artist}

Verse [C]with [G]chods...

{start_of_chorus}
Chorus [C]with [G]chords ...
{end_of_chorus}

Verse...
`;var zo=jt(`<!> <main class="svelte-1f1vxka"><div class="editor no-print svelte-1f1vxka"><textarea class="no-print svelte-1f1vxka">
        ></textarea> <!></div> <div class="preview svelte-1f1vxka"><!></div></main> <footer class="no-print svelte-1f1vxka"> </footer>`,1);function Jo(e,n){Se(n,!0);let s=ot(n,"song",3,"");const o="chooseFileSystemEntries"in window||"showOpenFilePicker"in window;let u,a=yt(At(s())),m=yt(At(s())),w=yt(0),b=At({title_align:"left",color_title:!1,color_chords:!1}),g=At({cheatsheet:!1});function C(){tt(a,Ko,!0)}async function E(){u=await $o();try{let q=await u.getFile(),Z=await Wo(q);tt(a,Yo(Z),!0)}catch(q){console.error("read failed: ",q)}}async function y(){if(u)try{await dn(u,U(a))}catch(q){const Z="Unable to save file";console.error(Z,q),alert(Z)}}async function S(){if(!o){console.error("this browser does not support access to file system");return}try{u=await Go()}catch(q){if(q.name==="AbortError")return;const Z="An error occured trying to open the file.";console.error(Z,q),alert(Z);return}try{await dn(u,U(a))}catch(q){const Z="Unable to save file.";console.error(Z,q),alert(Z);return}}function L(q){tt(w,q,!0)}function N(q){q in b&&(b[q]=!b[q])}function D(q,Z){q in b&&(b[q]=Z)}function i(q){q in g&&(g[q]=!g[q])}var F;function R(q,Z,It){F&&clearTimeout(F),F=setTimeout(()=>{It(Z)},q)}Cr(()=>{R(1e3,U(a),q=>{tt(m,q,!0)})});var j=zo(),k=Ll(j);const T=Sn(()=>u&&u.name);Ro(k,{get subtitle(){return U(T)},get format(){return b},get view(){return g},get transpose_steps(){return U(w)},on_open:E,on_new:C,on_save:y,on_save_as:S,on_transpose:L,on_format_toggle:N,on_format_set:D,on_view_toggle:i});var t=K(k,2),P=H(t),I=H(P),B=K(I,2);{var O=q=>{Uo(q)};Lr(B,q=>{g.cheatsheet&&q(O)})}var W=K(P,2),qt=H(W);Bo(qt,{get source(){return U(m)},get transpose_steps(){return U(w)},get format(){return b}});var Bt=K(t,2),Vt=H(Bt);re(q=>wt(Vt,`BlueSoft © ${q??""}`),[()=>new Date().getFullYear()]),Ao(I,()=>U(a),q=>tt(a,q)),Mt(e,j),Pe()}uo(Jo,{target:document.body,props:{song:Ho}});
